(function(a){function t(t){for(var n,o,s=t[0],d=t[1],l=t[2],u=0,m=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(a[n]=d[n]);c&&c(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var a,t=0;t<i.length;t++){for(var e=i[t],n=!0,s=1;s<e.length;s++){var d=e[s];0!==r[d]&&(n=!1)}n&&(i.splice(t--,1),a=o(o.s=e[0]))}return a}var n={},r={app:0},i=[];function o(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=a,o.c=n,o.d=function(a,t,e){o.o(a,t)||Object.defineProperty(a,t,{enumerable:!0,get:e})},o.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,t){if(1&t&&(a=o(a)),8&t)return a;if(4&t&&"object"===typeof a&&a&&a.__esModule)return a;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:a}),2&t&&"string"!=typeof a)for(var n in a)o.d(e,n,function(t){return a[t]}.bind(null,n));return e},o.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return o.d(t,"a",t),t},o.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=d;i.push([0,"chunk-vendors"]),e()})({0:function(a,t,e){a.exports=e("56d7")},"034f":function(a,t,e){"use strict";e("85ec")},1:function(a,t){},4678:function(a,t,e){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(a){var t=i(a);return e(t)}function i(a){if(!e.o(n,a)){var t=new Error("Cannot find module '"+a+"'");throw t.code="MODULE_NOT_FOUND",t}return n[a]}r.keys=function(){return Object.keys(n)},r.resolve=i,a.exports=r,r.id="4678"},5410:function(a,t,e){},"56d7":function(a,t,e){"use strict";e.r(t);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("2b0e"),r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-app",{staticStyle:{"-webkit-app-region":"drag",background:"#f7f7f7"}},[e("v-navigation-drawer",{attrs:{"mini-variant":a.mini,permanent:"","expand-on-hover":"",color:"#f7f7f7",app:""},on:{"update:miniVariant":function(t){a.mini=t},"update:mini-variant":function(t){a.mini=t}},model:{value:a.drawer,callback:function(t){a.drawer=t},expression:"drawer"}},[e("v-list-item",{staticClass:"px-2 pt-1"},[e("v-list-item-title",{staticClass:"mt-2 text-capitalize"},[e("div",[1==a.$store.state.isOnline?e("v-btn",{attrs:{color:"success",rounded:"","x-small":""}},[a._v("ON")]):e("v-btn",{attrs:{color:"error",rounded:"","x-small":""}},[a._v("OFF")])],1)])],1),e("v-list",{staticClass:"clickable",attrs:{shaped:""}},[a._l(a.items,(function(t){return[t.menu_detail?e("v-list-group",{key:t.name,attrs:{"prepend-icon":t["iconctr"],"active-class":"primary--text"},scopedSlots:a._u([{key:"activator",fn:function(){return[e("v-list-item-action",[e("v-icon",[a._v(a._s(t.icon))])],1),e("v-list-item-content",[e("v-list-item-title",[a._v(" "+a._s(t.name)+" ")])],1)]},proxy:!0}],null,!0),model:{value:t.model,callback:function(e){a.$set(t,"model",e)},expression:"item.model"}},a._l(t.menu_detail,(function(t,n){return e("v-list-item",{key:n,staticClass:"ml-5",attrs:{route:"",to:t.route,"active-class":"primary--text"}},[t.icon?e("v-list-item-action",[e("v-icon",[a._v(a._s(t.icon))])],1):a._e(),e("v-list-item-content",[e("v-list-item-title",[a._v(" "+a._s(t.name)+" ")])],1)],1)})),1):e("v-list-item",{key:t.name,attrs:{"active-class":"blue--text",route:"",to:t.route}},[e("v-list-item-action",[e("v-icon",[a._v(a._s(t.icon))])],1),e("v-list-item-title",[a._v(" "+a._s(t.name)+" ")])],1)]}))],2)],1),e("v-app-bar",{staticStyle:{"background-color":"#182b3a","background-image":"linear-gradient(315deg, #182b3a 0%, #20a4f3 74%)"},attrs:{app:"",dark:"",dense:""}},[e("v-app-bar-nav-icon",{staticClass:"clickable",on:{click:function(t){t.stopPropagation(),a.mini=!a.mini}}}),e("v-btn",{attrs:{text:""},on:{click:function(t){return a.toogleFullscreen()}}},[e("v-icon",[a._v("mdi-overscan")])],1),e("v-toolbar-title",{staticClass:"ml-0 pl-4",staticStyle:{width:"250px"}},[e("span",{staticClass:"hidden-sm-and-down"},[a._v(a._s(a.$store.state.auth.company.name))])]),e("v-spacer"),a.isLoggedIn?[e("v-btn",{staticClass:"mr-5",attrs:{light:"",text:"",dark:""}},[e("v-icon",{staticClass:"mr-2"},[a._v("mdi-account")]),a._v(" "+a._s(a.user.name)+" - "+a._s(a.user.level))],1),e("v-btn",{staticClass:"clickable",attrs:{outlined:"",rounded:""},on:{click:function(t){return a.logout()}}},[e("v-icon",{staticClass:"mr-2"},[a._v("mdi-logout")]),a._v("Logout ")],1)]:[e("v-btn",{staticClass:"clickable",attrs:{to:"/login",light:""}},[e("v-icon",{staticClass:"mr-2"},[a._v("mdi-account-outline")]),a._v(" LOG IN")],1)]],2),e("v-content",[e("v-container",{attrs:{fluid:""}},[e("v-row",[e("router-view")],1)],1)],1),e("v-btn",{directives:[{name:"scroll",rawName:"v-scroll",value:a.onScroll,expression:"onScroll"}],staticClass:"clickable mb-10",attrs:{bottom:"",color:"pink",dark:"",fab:"",fixed:"",right:"",small:""},on:{click:a.toTop}},[e("v-icon",[a._v("mdi-chevron-up")])],1)],1)},i=[],o=e("1da1"),s=e("5530"),d=(e("96cf"),e("2f62")),l={name:"App",props:{sorce:String},data:function(){return{drawer:null,mini:!1,tab:!1}},mounted:function(){this.loadCompany()},computed:Object(s["a"])({getApiServer:function(){return this.$store.state.apiServer},getApiLokal:function(){return this.$store.state.apiLokal}},Object(d["b"])({isLoggedIn:"isLoggedIn",user:"user",items:"menu",company:"company"})),methods:{loadCompany:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.$store.dispatch("get_company");case 2:case"end":return t.stop()}}),t)})))()},toogleFullscreen:function(){var a=document.documentElement;document.fullscreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()},onScroll:function(a){if("undefined"!==typeof window){var t=window.pageYOffset||a.target.scrollTop||0;this.fab=t>20}},toTop:function(){this.$vuetify.goTo(0)},logout:function(){var a=this;this.$store.dispatch("logout").then((function(){a.$router.push("/")}))}}},c=l,u=(e("034f"),e("2877")),m=e("6544"),v=e.n(m),f=e("7496"),g=e("40dc"),h=e("5bc1"),p=e("8336"),b=e("a523"),k=e("a75b"),_=e("132d"),x=e("8860"),D=e("56b0"),w=e("da13"),y=e("1800"),j=e("5d23"),T=e("f774"),C=e("0fd9"),A=e("2fa4"),V=e("2a7f"),R=e("269a"),S=e.n(R),O=e("f977"),$=Object(u["a"])(c,r,i,!1,null,null,null),N=$.exports;v()($,{VApp:f["a"],VAppBar:g["a"],VAppBarNavIcon:h["a"],VBtn:p["a"],VContainer:b["a"],VContent:k["a"],VIcon:_["a"],VList:x["a"],VListGroup:D["a"],VListItem:w["a"],VListItemAction:y["a"],VListItemContent:j["a"],VListItemTitle:j["c"],VNavigationDrawer:T["a"],VRow:C["a"],VSpacer:A["a"],VToolbarTitle:V["a"]}),S()($,{Scroll:O["b"]});var P=e("8c4f"),E=(e("ac1f"),e("1276"),e("4d90"),e("d3b7"),e("b0c0"),e("bc3a")),B=e.n(E);function I(a){B.a.defaults.headers.common["Authorization"]="Bearer"+a}function U(){delete B.a.defaults.headers.common["Authorization"]}var L={state:{user:null,isLoggedIn:!1,menu:[],company:""},mutations:{set_user:function(a,t){a.user=t,a.isLoggedIn=!0},reset_user:function(a){a.user=null,a.isLoggedIn=!1},set_menu:function(a,t){a.menu=t},reset_menu:function(a){a.menu=null},set_company:function(a,t){a.company=t}},getters:{isLoggedIn:function(a){return a.isLoggedIn},user:function(a){return a.user},menu:function(a){return a.menu},company:function(a){return a.company}},actions:{get_company:function(a){return Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a.commit,t.next=3,B.a.post("company").then((function(a){e("set_company",a.data.data)}));case 3:case"end":return t.stop()}}),t)})))()},login:function(a,t){var e=a.dispatch,n=a.commit;return new Promise((function(a,r){B.a.post("login",t).then((function(t){var n=t.data.token;localStorage.setItem("token",n),I(n),e("get_user"),a(t)})).catch((function(a){n("reset_user"),localStorage.removeItem("token"),r(a)}))}))},get_user:function(a){return Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=a.commit,localStorage.getItem("token")){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,B.a.get("user");case 6:n=t.sent,e("set_user",n.data.data),B.a.get("menu/"+n.data.data.name+"/byusername").then((function(a){e("set_menu",a.data.data)})).catch((function(a){console.log(a)})),t.next=17;break;case 11:return t.prev=11,t.t0=t["catch"](3),e("reset_user"),U(),localStorage.removeItem("token"),t.abrupt("return",t.t0);case 17:case"end":return t.stop()}}),t,null,[[3,11]])})))()},logout:function(a){var t=a.commit;return new Promise((function(a){t("reset_user"),t("reset_menu"),localStorage.removeItem("token"),U(),a()}))},register:function(a,t){var e=a.commit;return new Promise((function(a,n){B.a.post("register",t).then((function(t){a(t)})).catch((function(a){e("reset_user"),n(a)}))}))}}};n["default"].use(d["a"]);var M=new d["a"].Store({state:{apiServer:"http://localhost:8000",apiLokal:"http://localhost:8000",today:"",isOnline:!0,breadcrumbs:["Dashboard","Software"]},mutations:{setApi:function(a,t){var e=[];e=t.split(";"),a.apiServer=e[0],a.apiLokal=e[1]},setOnline:function(a){a.isOnline=!0},setOffline:function(a){a.isOnline=!1}},getters:{getToday:function(a){var t=new Date,e=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear();return t=n+"-"+e,a.today}},actions:{setToday:function(a){var t=new Date,e=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear();a.today=n+"-"+e}},modules:{auth:L}}),K=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",{attrs:{justify:"center"}},[e("v-col",{attrs:{cols:"12",lg:"6",md:"8",sm:"12"}},[e("v-card",{staticStyle:{"border-radius":"5px"},attrs:{elevation:"1"}},[e("v-carousel",{attrs:{"hide-delimiters":"",height:"280"},model:{value:a.imagenumber,callback:function(t){a.imagenumber=t},expression:"imagenumber"}},a._l(a.arrDataImage,(function(a,t){return e("v-carousel-item",{key:t,attrs:{src:a.uri}})})),1),e("div",{staticClass:"px-12"},[e("v-card-title",{staticClass:"d-flex justify-center",attrs:{"primary-title":""}},[e("div",[e("h3",[a._v("WELCOME BACK,")]),e("p",{staticClass:"text--secondary mb-0",staticStyle:{"font-size":"0.95rem"}},[a._v(" Login untuk melanjutkan ")])])]),e("v-card-text",{staticClass:"pt-0"},[e("div",[e("v-text-field",{ref:"username",attrs:{outlined:"",dense:"",clearable:"",autocomplete:"off",placeholder:"Masukkan Username","prepend-inner-icon":"mdi-account"},on:{keyup:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.focusPassword.apply(null,arguments)}},model:{value:a.form.email,callback:function(t){a.$set(a.form,"email",t)},expression:"form.email"}})],1),e("div",[e("v-text-field",{ref:"password",attrs:{outlined:"",dense:"",clearable:"",autocomplete:"off",placeholder:"Masukkan Password","prepend-inner-icon":"mdi-lock","append-icon":a.showPassword?"mdi-eye":"mdi-eye-off",type:a.showPassword?"text":"password","hide-details":""},on:{keyup:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.focusLogin.apply(null,arguments)},"click:append":function(t){a.showPassword=!a.showPassword}},model:{value:a.form.password,callback:function(t){a.$set(a.form,"password",t)},expression:"form.password"}})],1),e("v-btn",{ref:"login",staticClass:"mt-3",attrs:{color:"primary",block:""},on:{click:function(t){return a.userLogin()}}},[e("strong",[a._v("LOGIN")])])],1)],1)],1)],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},J=[],F={data:function(){return{form:{email:"",password:""},errors:null,showPassword:!1,arrDataImage:[],imagenumber:0}},mounted:function(){this.$refs.username.focus(),this.form.email="",this.form.password=""},methods:{randomImage:function(){this.imagenumber=Math.floor(17*Math.random()+2)},loadUriImage:function(){var a=this;B.a.get("assets/login").then((function(t){a.arrDataImage=t.data.data})).catch((function(a){console.log(a)}))},focusPassword:function(){this.$refs.password.focus()},focusLogin:function(){var a=this;this.$nextTick((function(){a.$refs.login.$el.focus()}))},userLogin:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.$store.dispatch("login",a.form).then((function(){console.log("login berhasil"),a.$router.push({name:"Home"})})).catch((function(t){a.form.email="",a.form.password="",a.$notify({type:"error",text:"Login Gagal, Username / Password salah"}),console.log("catch"),a.errors=t.response.data.errors}));case 1:case"end":return t.stop()}}),t)})))()}},computed:{image:function(){return"http://192.168.2.10/_assets/web-mjc/login/login-2.jpg"}}},G=F,H=e("b0af"),Y=e("99d9"),z=e("5e66"),q=e("3e35"),W=e("62ad"),Q=e("8654"),X=Object(u["a"])(G,K,J,!1,null,null,null),Z=X.exports;v()(X,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCarousel:z["a"],VCarouselItem:q["a"],VCol:W["a"],VContainer:b["a"],VRow:C["a"],VTextField:Q["a"]});var aa=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("h2",[a._v("Register")]),e("v-divider")],1)],1),e("v-row",{staticClass:"d-flex justify-center"},[e("v-col",{attrs:{cols:"auto",lg:"6"}},[e("v-card",{attrs:{outlined:"",rounded:"xl"}},[e("v-card-title",[a._v(" Form Register ")]),e("v-divider"),e("v-card-text",[e("v-form",{model:{value:a.isValid,callback:function(t){a.isValid=t},expression:"isValid"}},[e("v-text-field",{attrs:{label:"Username",dense:"",outlined:"",rules:a.rules.form.username,"prepend-inner-icon":"mdi-account"},model:{value:a.form.username,callback:function(t){a.$set(a.form,"username",t)},expression:"form.username"}}),e("v-select",{attrs:{items:a.level.items,"item-text":"level","item-value":"level",label:"Level",dense:"",outlined:"","prepend-inner-icon":"mdi-account-key"},model:{value:a.form.level,callback:function(t){a.$set(a.form,"level",t)},expression:"form.level"}}),e("v-text-field",{attrs:{label:"Password",dense:"",outlined:"",type:a.showPassword?"text":"password",rules:a.rules.form.password,"prepend-inner-icon":"mdi-lock","append-icon":a.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){a.showPassword=!a.showPassword}},model:{value:a.form.password,callback:function(t){a.$set(a.form,"password",t)},expression:"form.password"}}),e("v-text-field",{attrs:{label:"Password Confirmation",dense:"",outlined:"",type:a.showPassword?"text":"password",rules:a.rules.form.password2,"append-icon":a.showPassword?"mdi-eye":"mdi-eye-off","prepend-inner-icon":"mdi-lock"},on:{"click:append":function(t){a.showPassword=!a.showPassword}},model:{value:a.form.password2,callback:function(t){a.$set(a.form,"password2",t)},expression:"form.password2"}}),e("v-divider"),e("div",{staticClass:"mt-2 d-flex justify-space-between"},[e("v-btn",{staticClass:"mr-2",attrs:{to:"/login"}},[a._v("Login")]),e("v-spacer"),e("v-btn",{staticClass:"mr-2",attrs:{color:"grey",dark:""},on:{click:function(t){return a.resetForm()}}},[a._v("Reset")]),e("v-btn",{attrs:{color:"success",disabled:!a.isValid},on:{click:function(t){return a.saveRegister()}}},[a._v("Register")])],1)],1)],1)],1)],1)],1)],1)},ta=[],ea=e("1940"),na=e.n(ea),ra={data:function(){var a=this;return{isValid:!1,showPassword:!1,form:{username:"",level:"",password:"",password2:""},level:{items:[]},rules:{form:{username:[function(a){return""!=a||"Username Harus Diisi"}],password:[function(a){return""!=a||"Password Harus Diisi"},function(a){return a.length>=8||"Password Harus Lebih Dari 8 Karakter"}],password2:[function(a){return""!=a||"Konfirmasi Password Harus Diisi"},function(t){return t==a.form.password||"Password Tidak Sama"}]}}}},mounted:function(){this.loadLevel()},methods:{loadLevel:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("level",{level:a.$store.state.auth.user.level}).then((function(t){a.level.items=t.data.data}));case 2:case"end":return t.stop()}}),t)})))()},saveRegister:function(){var a=this;B.a.post("register",this.form).then((function(t){200==t.status?(na()("Success",t.data.message,"success"),a.$router.push({path:"/login"})):na()("Gagal",t.data.message,"error")})).catch((function(a){console.log(a)}))},resetForm:function(){this.form={username:"",email:"",password:"",password2:""}}}},ia=ra,oa=e("ce7e"),sa=e("4bd4"),da=e("b974"),la=Object(u["a"])(ia,aa,ta,!1,null,null,null),ca=la.exports;v()(la,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDivider:oa["a"],VForm:sa["a"],VRow:C["a"],VSelect:da["a"],VSpacer:A["a"],VTextField:Q["a"]});var ua=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",{staticClass:"d-flex justify-center mt-12"},[e("v-col",{attrs:{cols:"auto"}},[e("h1",[a._v("SELAMAT DATANG DI APLIKASI WEB - POS")]),e("v-divider"),e("div",[e("h2",[a._v(a._s(a.$store.state.auth.company.group))])])],1)],1)],1)},ma=[],va={},fa=va,ga=Object(u["a"])(fa,ua,ma,!1,null,null,null),ha=ga.exports;v()(ga,{VCol:W["a"],VContainer:b["a"],VDivider:oa["a"],VRow:C["a"]});var pa=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[a._v(" "+a._s(a.user.level)+" ")])},ba=[],ka={created:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(a.user.level);case 1:case"end":return t.stop()}}),t)})))()},computed:Object(s["a"])({getMenu:function(){return this.$store.state.menu},getApiServer:function(){return this.$store.state.apiServer},getApiLokal:function(){return this.$store.state.apiLokal}},Object(d["b"])({isLoggedIn:"isLoggedIn",user:"user"}))},_a=ka,xa=Object(u["a"])(_a,pa,ba,!1,null,null,null),Da=xa.exports;v()(xa,{VContainer:b["a"]});var wa=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",{staticClass:"d-flex justify-space-between"},[e("v-col",{attrs:{cols:"auto"}},[e("h2",[a._v("DASHBOARD")])]),e("v-spacer"),e("v-col",{staticClass:"d-flex justify-end",attrs:{cols:"2"}},[e("v-btn",{attrs:{small:"",text:"",color:"success"}},[e("v-icon",[a._v("mdi-refresh")])],1),e("v-combobox",{attrs:{label:"tahun","hide-details":"",rounded:"",dense:"","background-color":"white"}})],1)],1),e("v-divider",{staticClass:"mt-2"}),e("v-row",{staticClass:"mt-2"},a._l(a.header1,(function(t,n){return e("v-col",{key:n,attrs:{cols:"auto",lg:"3"}},[e("v-card",{staticClass:"pa-3",attrs:{outlined:"",rounded:"xl"}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("v-icon",{attrs:{"x-large":"",color:"purple"}},[a._v(a._s(t.icon))]),e("v-spacer"),e("v-chip",{attrs:{color:"indigo",dark:"",small:""}},[a._v("2023")])],1),e("v-card-text",[e("div",{staticClass:"text-h2"},[a._v(a._s(t.value))])]),e("v-divider"),e("v-card-text",[e("h3",[a._v(a._s(t.title))])])],1)],1)})),1)],1)},ya=[],ja={data:function(){return{topbarang:{header:[{text:"NAMA BAHAN",value:"ko"}],items:[]},header1:[{icon:"mdi-scale-balance",value:"1000",title:"Stok Awal"},{icon:"mdi-inbox-arrow-down-outline",value:"2000",title:"Penerimaan"},{icon:"mdi-percent",value:"3000",title:"Penjualan"},{icon:"mdi-archive",value:"4000",title:"Stok"}]}},mounted:function(){this.loadTopBarang()},methods:{loadTopBarang:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("dashboard/topbarang").then((function(t){a.topbarang.items=t.data.data}));case 2:case"end":return t.stop()}}),t)})))()}}},Ta=ja,Ca=e("cc20"),Aa=e("2b5d"),Va=Object(u["a"])(Ta,wa,ya,!1,null,null,null),Ra=Va.exports;v()(Va,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VChip:Ca["a"],VCol:W["a"],VCombobox:Aa["a"],VContainer:b["a"],VDivider:oa["a"],VIcon:_["a"],VRow:C["a"],VSpacer:A["a"]});var Sa=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("h2",[a._v("MANAJEMEN MENU")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-0"},[e("v-col",[e("v-card",{attrs:{outlined:""}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{attrs:{color:"success",rounded:""},on:{click:function(t){return a.showDialog()}}},[a._v("Tambah Data"),e("v-icon",[a._v("mdi-plus-thick")])],1)],1),e("div",[e("v-text-field",{attrs:{name:"name",label:"Pencarian",outlined:"",dense:"",clearable:"","hide-details":""},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{worksheet:"Data Menu",name:"Data Menus.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,"items-per-page":20,dense:""},scopedSlots:a._u([{key:"item.icon",fn:function(t){var n=t.item;return[e("v-icon",[a._v(a._s(n.icon))]),a._v(" "+a._s(n.icon)+" ")]}},{key:"item.opsi",fn:function(t){var n=t.item;return[e("v-btn",{attrs:{small:"",text:""},on:{click:function(t){return a.edit(n.id)}}},[e("v-icon",[a._v("mdi-pencil")])],1),e("v-btn",{attrs:{small:"",color:"error",text:""},on:{click:function(t){return a.deleteMenu(n.id_menu)}}},[e("v-icon",[a._v("mdi-close-thick")])],1)]}}],null,!0)})],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"720px",transition:"dialog-transition"},model:{value:a.dialogTambah,callback:function(t){a.dialogTambah=t},expression:"dialogTambah"}},[e("v-card",[e("v-card-title",[a._v(" Tambah Menu ")]),e("v-card-text",[e("v-text-field",{attrs:{label:"Group Menu",outlined:"",dense:""},model:{value:a.form.group,callback:function(t){a.$set(a.form,"group",t)},expression:"form.group"}}),e("v-text-field",{attrs:{label:"Kode Menu",outlined:"",dense:""},model:{value:a.form.code,callback:function(t){a.$set(a.form,"code",t)},expression:"form.code"}}),e("v-text-field",{attrs:{label:"Nama Menu",outlined:"",dense:""},model:{value:a.form.name,callback:function(t){a.$set(a.form,"name",t)},expression:"form.name"}}),e("v-text-field",{attrs:{label:"Route",outlined:"",dense:""},model:{value:a.form.route,callback:function(t){a.$set(a.form,"route",t)},expression:"form.route"}}),e("v-text-field",{attrs:{label:"Icon",outlined:"",dense:""},model:{value:a.form.icon,callback:function(t){a.$set(a.form,"icon",t)},expression:"form.icon"}}),e("v-text-field",{attrs:{label:"Active",outlined:"",dense:""},model:{value:a.form.flag_active,callback:function(t){a.$set(a.form,"flag_active",t)},expression:"form.flag_active"}})],1),e("v-divider"),e("v-card-actions",{staticClass:"d-flex justify-end"},[1==a.staEdit?e("v-btn",{attrs:{color:"primary"},on:{click:function(t){return a.updateMenu()}}},[a._v(" Update "),e("v-icon",[a._v("mdi-floppy")])],1):e("v-btn",{attrs:{color:"success"},on:{click:function(t){return a.simpanMenu()}}},[a._v(" Simpan "),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},Oa=[],$a={data:function(){return{data:{headers:[{text:"ID MENU",value:"id",divider:!0},{text:"GROUP MENU",value:"group",divider:!0},{text:"KODE MENU",value:"code",divider:!0},{text:"NAMA MENU",value:"name",divider:!0},{text:"ROUTE",value:"route",divider:!0},{text:"IKON",value:"icon",divider:!0},{text:"AKTIF",value:"flag_active",divider:!0},{text:"TANGGAL",value:"created_at",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:""},dialogTambah:!1,staEdit:!1,form:{id:"",group:"",code:"",name:"",route:"",icon:"",flag_active:""}}},mounted:function(){this.loadData()},methods:{deleteMenu:function(a){var t=this;B.a.post("menu/delete/",{id_menu:a}).then((function(a){1==a.data.success?(t.loadData(),alert(a.data.message)):(alert(a.data.message),console.log(a.data.data))}))},updateMenu:function(){var a=this;console.log(this.form),B.a.post("menu/update",this.form).then((function(t){1==t.data.success?(a.dialogTambah=!1,a.loadData(),a.staEdit=!1,a.$notify({type:"success",text:"Update menu berhasil, "+a.form.text})):alert(t.data.message)}))},edit:function(a){var t=this;this.staEdit=!0,B.a.get("menu/"+a+"/get").then((function(a){t.form=a.data.data[0],t.dialogTambah=!0})).catch((function(a){console.log(a)}))},simpanMenu:function(){var a=this;B.a.post("menu/create",this.form).then((function(t){1==t.data.success?(a.dialogTambah=!1,a.loadData(),a.$notify({type:"success",text:"Tambah menu berhasil, "+a.form.text}),console.log("berhasil")):(console.log("gagal"),alert(t.data.message),console.log(t.data.data))})).catch((function(a){console.log(a)}))},showDialog:function(){this.resetForm(),this.dialogTambah=!0,this.staEdit=!1},resetForm:function(){this.form={id:"",group:"",code:"",name:"",route:"",icon:"",flag_active:""}},loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.loading=!0,t.next=3,B.a.get("menu").then((function(t){a.data.items=t.data.data})).catch((function(a){console.log(a)}));case 3:a.data.loading=!1;case 4:case"end":return t.stop()}}),t)})))()}}},Na=$a,Pa=e("8fea"),Ea=e("169a"),Ba=Object(u["a"])(Na,Sa,Oa,!1,null,null,null),Ia=Ba.exports;v()(Ba,{VBtn:p["a"],VCard:H["a"],VCardActions:Y["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDialog:Ea["a"],VDivider:oa["a"],VIcon:_["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var Ua=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("h2",[a._v("MANAJEMEN LEVEL")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{outlined:""}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{attrs:{color:"success",rounded:""},on:{click:function(t){a.addData.dialog=!0,a.resetForm(),a.staUpdate=!1}}},[a._v("Tambah Data"),e("v-icon",[a._v("mdi-plus-thick")])],1)],1),e("div",[e("v-text-field",{attrs:{name:"name",label:"Pencarian",outlined:"",dense:"","hide-details":""},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{fetch:a.fetchData,worksheet:"Data Level",name:"Data Level.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:""},scopedSlots:a._u([{key:"item.no",fn:function(t){var e=t.index;return[a._v(" "+a._s(e+1)+" ")]}},{key:"item.opsi",fn:function(t){var n=t.item;return[a.staPilih?e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.pilihUnit(n.id,n.kode,n.nama)}}},[e("v-icon",[a._v("mdi-check-bold")])],1):e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadUpdate(n.id)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}}],null,!0)})],1)],1)],1)],1)],1),e("v-dialog",{attrs:{width:"1100px",transition:"dialog-transition"},model:{value:a.addData.dialog,callback:function(t){a.$set(a.addData,"dialog",t)},expression:"addData.dialog"}},[e("v-card",{staticClass:"pb-5"},[e("v-card-title",[a._v(" Tambah Data ")]),e("v-divider"),e("v-card-text",{staticClass:"mt-3"},[e("v-form",{model:{value:a.addData.isValid,callback:function(t){a.$set(a.addData,"isValid",t)},expression:"addData.isValid"}},[e("v-text-field",{attrs:{rules:a.addData.rules.kode,label:"Masukkan Kode (Contoh : pcs, bks, btl, eks, lbr, dll)",dense:"",outlined:""},model:{value:a.addData.form.kode,callback:function(t){a.$set(a.addData.form,"kode",t)},expression:"addData.form.kode"}}),e("v-text-field",{attrs:{rules:a.addData.rules.nama,label:"Masukkan Kode (Contoh : Pieces, Bungkus,Botol, Eksemplar, Lembar, dll)",dense:"",outlined:""},model:{value:a.addData.form.nama,callback:function(t){a.$set(a.addData.form,"nama",t)},expression:"addData.form.nama"}}),e("v-divider"),e("div",{staticClass:"d-flex justify-end mt-2"},[a.staUpdate?e("v-btn",{attrs:{color:"warning",disabled:!a.addData.isValid},on:{click:function(t){return a.updateData()}}},[a._v("UPDATE"),e("v-icon",[a._v("mdi-floppy")])],1):e("v-btn",{attrs:{color:"success",disabled:!a.addData.isValid},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN"),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1)],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},La=[],Ma={props:["staPilih"],data:function(){return{data:{headers:[{text:"NO.",value:"no",divider:!0},{text:"LEVEL",value:"level",divider:!0},{text:"JUMLAH MENU",value:"jml_menu",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:""},addData:{dialog:!1,isValid:!1,form:{kode:"",nama:""},rules:{kode:[function(a){return""!=a||"Nama Harus Diisi"}],nama:[function(a){return""!=a||"Alias Harus Diisi"}]},loading:!1},child:"",staUpdate:!1}},mounted:function(){this.loadData()},methods:{loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("level/all",{}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(t){a.$notify({type:"error",text:t})}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.addData.loading=!0,t.next=3,B.a.post("master/unit/create",a.addData.form).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()):na()("Gagal",t.data.message,"error")})).catch((function(a){console.log(a.message),na()("Gagal","Ada Kesalahan Server (404)"+a.message,"error")}));case 3:a.addData.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.addData.form={kode:"",nama:""}},loadUpdate:function(a){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.resetForm(),t.staUpdate=!0,e.next=4,B.a.post("master/unit/bykode",{id:a}).then((function(a){200==a.status?(t.addData.dialog=!0,t.addData.form.id=a.data.data.id,t.addData.form.kode=a.data.data.kode,t.addData.form.nama=a.data.data.nama,t.$notify({type:"success",text:a.data.message})):t.$notify({type:"error",text:a.data.error})})).catch((function(a){t.$notify({type:"error",text:a})}));case 4:case"end":return e.stop()}}),e)})))()},updateData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("master/unit/update",a.addData.form).then((function(t){na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 2:case"end":return t.stop()}}),t)})))()},fetchData:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.post("master/bank");case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}),a)})))()},pilihUnit:function(a,t,e){this.$emit("unit",{idUnit:a,kodeUnit:t,namaUnit:e})}}},Ka=Ma,Ja=Object(u["a"])(Ka,Ua,La,!1,null,null,null),Fa=Ja.exports;v()(Ja,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDialog:Ea["a"],VDivider:oa["a"],VForm:sa["a"],VIcon:_["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var Ga=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("div",{staticClass:"text-h5"},[a._v("MANAJEMEN USER")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",[e("v-text-field",{attrs:{label:"Pencarian",outlined:"",dense:"","hide-details":""},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH "),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-divider"),e("v-card-text",[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search},scopedSlots:a._u([{key:"item.opsi",fn:function(t){var n=t.item;return[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.showDialogUpdate(n.name)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}}],null,!0)})],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.update.dialog,callback:function(t){a.$set(a.update,"dialog",t)},expression:"update.dialog"}},[e("v-card",[e("v-card-title",[a._v(" Form Update : "+a._s(a.update.key)+" ")]),e("v-card-text",{staticClass:"mt-2"},[e("v-select",{attrs:{hint:a.level.value.level+", "+a.level.value.id,items:a.level.items,"item-text":"level","item-value":"id",label:"Level","persistent-hint":"","return-object":"","single-line":""},model:{value:a.level.value,callback:function(t){a.$set(a.level,"value",t)},expression:"level.value"}}),e("v-divider",{staticClass:"my-2"}),e("div",{staticClass:"d-flex justify-end"},[e("v-btn",{attrs:{color:"warning"},on:{click:function(t){return a.updateData()}}},[a._v("Update")])],1)],1)],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},Ha=[],Ya={data:function(){return{data:{headers:[{text:"USER",value:"name"},{text:"EMAIL",value:"email"},{text:"LEVEL",value:"level"},{text:"DIVISION",value:"division"},{text:"JUMLAH MENU",value:"count_menu"},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:""},update:{key:"",dialog:!1,items:{},loading:!1},level:{items:[],value:{level:"",id:""}}}},mounted:function(){this.loadData(),this.loadLevel()},methods:{loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("master/user").then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(t){a.$notify({type:"error",text:t})}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},showDialogUpdate:function(a){this.update.key=a,this.update.dialog=!0,this.loadDetail()},loadDetail:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.update.items={},a.update.loading=!0,B.a.post("master/user/byuser",{user:a.update.key}).then((function(t){200==t.status?(a.update.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(t){a.$notify({type:"error",text:t})})),a.update.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},loadLevel:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.get("master/level").then((function(t){a.level.items=t.data.data}));case 2:case"end":return t.stop()}}),t)})))()},updateData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("master/level/update",{name:a.update.key,level_name:a.level.value.level}).then((function(t){na()("Sukses",t.data.message,"success"),a.update.dialog=!1,a.loadData()}));case 2:case"end":return t.stop()}}),t)})))()}}},za=Ya,qa=Object(u["a"])(za,Ga,Ha,!1,null,null,null),Wa=qa.exports;v()(qa,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDialog:Ea["a"],VDivider:oa["a"],VIcon:_["a"],VRow:C["a"],VSelect:da["a"],VSpacer:A["a"],VTextField:Q["a"]});var Qa=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("h2",[a._v("MASTER JENIS")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{outlined:""}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",[e("v-btn",{staticClass:"mr-4",attrs:{color:"success",rounded:""},on:{click:function(t){a.addData.dialog=!0}}},[a._v("Tambah Data"),e("v-icon",[a._v("mdi-plus-thick")])],1)],1),e("div",[e("v-text-field",{attrs:{name:"name",label:"Pencarian",outlined:"",dense:"","hide-details":""},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search},scopedSlots:a._u([{key:"item.opsi",fn:function(t){var n=t.item;return[a.staPilih?e("v-btn",{attrs:{color:"primary",text:"",disabled:n.masuk-n.keluar<=0},on:{click:function(t){return a.pilihJenis(n.kd_jenis,n.nm_jenis)}}},[e("v-icon",[a._v("mdi-check-bold")])],1):e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadUpdate(n.kd_jenis)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}}],null,!0)})],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"800px",transition:"dialog-transition"},model:{value:a.addData.dialog,callback:function(t){a.$set(a.addData,"dialog",t)},expression:"addData.dialog"}},[e("v-card",{staticClass:"pb-5"},[e("v-card-title",[a._v(" Tambah Data ")]),e("v-divider"),e("v-card-text",{staticClass:"mt-3"},[e("v-form",{model:{value:a.addData.isValid,callback:function(t){a.$set(a.addData,"isValid",t)},expression:"addData.isValid"}},[e("v-text-field",{attrs:{label:"(Otomatis) Kode Jenis ",dense:"",outlined:"",placeholder:"Otomatis",readonly:""},model:{value:a.addData.form.kodeJenis,callback:function(t){a.$set(a.addData.form,"kodeJenis",t)},expression:"addData.form.kodeJenis"}}),e("v-text-field",{attrs:{label:"Nama Jenis",dense:"",outlined:""},model:{value:a.addData.form.namaJenis,callback:function(t){a.$set(a.addData.form,"namaJenis",t)},expression:"addData.form.namaJenis"}}),e("v-divider"),e("div",{staticClass:"d-flex justify-end mt-2"},[a.staUpdate?e("v-btn",{attrs:{color:"warning",disabled:!a.addData.isValid},on:{click:function(t){return a.updateData()}}},[a._v("UPDATE"),e("v-icon",[a._v("mdi-floppy")])],1):e("v-btn",{attrs:{color:"success",disabled:!a.addData.isValid},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN"),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1)],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},Xa=[],Za={props:["staPilih"],data:function(){return{data:{headers:[{text:"KODE",value:"kd_jenis",width:"5%",divider:!0},{text:"NAMA",value:"nm_jenis",divider:!0},{text:"OPSI",value:"opsi",width:"5%"}],items:[],loading:!1,search:""},addData:{dialog:!1,isValid:!1,form:{kodeJenis:"",namaJenis:""},loading:!1},staUpdate:!1}},mounted:function(){this.loadData()},methods:{loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("master/jenisbarang",{}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(a){console.log(a)}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},loadUpdate:function(a){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.data.loading=!0,t.staUpdate=!0,e.next=4,B.a.post("master/jenisbarang/bykode",{kode:a}).then((function(a){200==a.status?(t.addData.dialog=!0,t.addData.form.kodeJenis=a.data.data.kd_jenis,t.addData.form.namaJenis=a.data.data.nm_jenis,t.$notify({type:"success",text:a.data.message})):t.$notify({type:"error",text:a.data.error})})).catch((function(a){console.log(a)}));case 4:t.data.loading=!1;case 5:case"end":return e.stop()}}),e)})))()},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.addData.loading=!0,t.next=3,B.a.post("master/jenisbarang/create",a.addData.form).then((function(t){200==t.status?(a.resetForm(),na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.loadData()):na()("Gagal",t.data.error,"error")})).catch((function(a){na()("Gagal",a,"error")}));case 3:a.addData.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},updateData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("master/jenisbarang/update",a.addData.form).then((function(t){na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 2:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.staUpdate=!1,this.addData.form={kodeJenis:"",namaJenis:""}},pilihJenis:function(a,t){this.$emit("jenis",{kd_jenis:a,nm_jenis:t})}}},at=Za,tt=Object(u["a"])(at,Qa,Xa,!1,null,null,null),et=tt.exports;v()(tt,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDialog:Ea["a"],VDivider:oa["a"],VForm:sa["a"],VIcon:_["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var nt=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("div",{staticClass:"text-h5"},[a._v("MASTER UNIT")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{outlined:""}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{attrs:{color:"success",rounded:""},on:{click:function(t){a.addData.dialog=!0,a.resetForm(),a.staUpdate=!1}}},[a._v("Tambah Data"),e("v-icon",[a._v("mdi-plus-thick")])],1)],1),e("div",[e("v-text-field",{attrs:{name:"name",label:"Pencarian",outlined:"",dense:"","hide-details":""},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{fetch:a.fetchData,worksheet:"Data Customer",name:"Data Customer.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:""},scopedSlots:a._u([{key:"item.no",fn:function(t){var e=t.index;return[a._v(" "+a._s(e+1)+" ")]}},{key:"item.opsi",fn:function(t){var n=t.item;return[a.staPilih?e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.pilihUnit(n.id,n.kode,n.nama)}}},[e("v-icon",[a._v("mdi-check-bold")])],1):e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadUpdate(n.id)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}}],null,!0)})],1)],1)],1)],1)],1),e("v-dialog",{attrs:{width:"1100px",transition:"dialog-transition"},model:{value:a.addData.dialog,callback:function(t){a.$set(a.addData,"dialog",t)},expression:"addData.dialog"}},[e("v-card",{staticClass:"pb-5"},[e("v-card-title",[a._v(" Tambah Data ")]),e("v-divider"),e("v-card-text",{staticClass:"mt-3"},[e("v-form",{model:{value:a.addData.isValid,callback:function(t){a.$set(a.addData,"isValid",t)},expression:"addData.isValid"}},[e("v-text-field",{attrs:{rules:a.addData.rules.kode,label:"Masukkan Kode (Contoh : pcs, bks, btl, eks, lbr, dll)",dense:"",outlined:""},model:{value:a.addData.form.kode,callback:function(t){a.$set(a.addData.form,"kode",t)},expression:"addData.form.kode"}}),e("v-text-field",{attrs:{rules:a.addData.rules.nama,label:"Masukkan Kode (Contoh : Pieces, Bungkus,Botol, Eksemplar, Lembar, dll)",dense:"",outlined:""},model:{value:a.addData.form.nama,callback:function(t){a.$set(a.addData.form,"nama",t)},expression:"addData.form.nama"}}),e("v-divider"),e("div",{staticClass:"d-flex justify-end mt-2"},[a.staUpdate?e("v-btn",{attrs:{color:"warning",disabled:!a.addData.isValid},on:{click:function(t){return a.updateData()}}},[a._v("UPDATE"),e("v-icon",[a._v("mdi-floppy")])],1):e("v-btn",{attrs:{color:"success",disabled:!a.addData.isValid},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN"),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1)],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},rt=[],it={props:["staPilih"],data:function(){return{data:{headers:[{text:"NO.",value:"no",divider:!0},{text:"KODE",value:"kode",divider:!0},{text:"NAMA",value:"nama",divider:!0},{text:"AKTIF",value:"flag_active",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:""},addData:{dialog:!1,isValid:!1,form:{kode:"",nama:""},rules:{kode:[function(a){return""!=a||"Nama Harus Diisi"}],nama:[function(a){return""!=a||"Alias Harus Diisi"}]},loading:!1},child:"",staUpdate:!1}},mounted:function(){this.loadData()},methods:{loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("master/unit",{}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(t){a.$notify({type:"error",text:t})}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.addData.loading=!0,t.next=3,B.a.post("master/unit/create",a.addData.form).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()):na()("Gagal",t.data.message,"error")})).catch((function(a){console.log(a.message),na()("Gagal","Ada Kesalahan Server (404)"+a.message,"error")}));case 3:a.addData.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.addData.form={kode:"",nama:""}},loadUpdate:function(a){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.resetForm(),t.staUpdate=!0,e.next=4,B.a.post("master/unit/bykode",{id:a}).then((function(a){200==a.status?(t.addData.dialog=!0,t.addData.form.id=a.data.data.id,t.addData.form.kode=a.data.data.kode,t.addData.form.nama=a.data.data.nama,t.$notify({type:"success",text:a.data.message})):t.$notify({type:"error",text:a.data.error})})).catch((function(a){t.$notify({type:"error",text:a})}));case 4:case"end":return e.stop()}}),e)})))()},updateData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("master/unit/update",a.addData.form).then((function(t){na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 2:case"end":return t.stop()}}),t)})))()},fetchData:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.post("master/bank");case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}),a)})))()},pilihUnit:function(a,t,e){this.$emit("unit",{idUnit:a,kodeUnit:t,namaUnit:e})}}},ot=it,st=Object(u["a"])(ot,nt,rt,!1,null,null,null),dt=st.exports;v()(st,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDialog:Ea["a"],VDivider:oa["a"],VForm:sa["a"],VIcon:_["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var lt=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("h2",[a._v("MASTER BARANG")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{outlined:""}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},["keluar"!=a.jenis?e("v-btn",{attrs:{color:"success",rounded:""},on:{click:function(t){a.addData.dialog=!0,a.resetForm(),a.staUpdate=!1}}},[a._v("Tambah Data"),e("v-icon",[a._v("mdi-plus-thick")])],1):a._e()],1),e("div",[e("v-text-field",{ref:"inputSearch",attrs:{name:"name",label:"Pencarian",outlined:"",dense:"","hide-details":"",clearable:"","append-icon":"mdi-magnify"},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),"keluar"!=a.jenis?e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{fetch:a.fetchData,worksheet:"Data Barang",name:"Data Barang.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1):a._e(),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:""},scopedSlots:a._u([{key:"item.opsi",fn:function(t){var n=t.item;return[a.staPilih?e("v-btn",{attrs:{color:"primary",text:"",disabled:n.masuk-n.keluar<=0&&"keluar"==a.jenis},on:{click:function(t){return a.pilihBarang(n.kode_bahan,n.barcode,n.nama_bahan,n.masuk-n.keluar,n.rp_jual)}}},[e("v-icon",[a._v("mdi-check-bold")])],1):e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadUpdate(n.kode_bahan)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}},{key:"item.stok",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.masuk-e.keluar))+" ")]}},{key:"item.rp_jual",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.rp_jual))+" ")]}}],null,!0)})],1)],1)],1)],1)],1),e("v-dialog",{attrs:{width:"1100px",transition:"dialog-transition"},model:{value:a.addData.dialog,callback:function(t){a.$set(a.addData,"dialog",t)},expression:"addData.dialog"}},[e("v-card",{staticClass:"pb-5"},[e("v-card-title",[a._v(" Tambah Data ")]),e("v-divider"),e("v-card-text",{staticClass:"mt-3"},[e("v-form",{model:{value:a.addData.isValid,callback:function(t){a.$set(a.addData,"isValid",t)},expression:"addData.isValid"}},[e("v-text-field",{attrs:{label:"(Otomatis) Kode Barang",dense:"",outlined:"",readonly:"",placeholder:"Otomatis"},model:{value:a.addData.form.kodeBarang,callback:function(t){a.$set(a.addData.form,"kodeBarang",t)},expression:"addData.form.kodeBarang"}}),e("v-text-field",{attrs:{rules:a.addData.rules.barcode,label:"Barcode Produk",dense:"",outlined:""},model:{value:a.addData.form.barcode,callback:function(t){a.$set(a.addData.form,"barcode",t)},expression:"addData.form.barcode"}}),e("v-text-field",{attrs:{rules:a.addData.rules.namaBarang,label:"Nama Barang",dense:"",outlined:""},model:{value:a.addData.form.namaBarang,callback:function(t){a.$set(a.addData.form,"namaBarang",t)},expression:"addData.form.namaBarang"}}),e("v-text-field",{attrs:{rules:a.addData.rules.ukuranBarang,label:"Ukuran Barang",dense:"",outlined:""},model:{value:a.addData.form.ukuranBarang,callback:function(t){a.$set(a.addData.form,"ukuranBarang",t)},expression:"addData.form.ukuranBarang"}}),a.staUpdate?a._e():e("div",{staticClass:"d-flex justify-space-around"},[e("v-text-field",{staticClass:"mr-2",attrs:{value:a.addData.form.kodeJenis+" - "+a.addData.form.namaJenis,label:"Jenis",readonly:"",dense:"",outlined:""}}),e("v-btn",{on:{click:function(t){a.dialogJenisBarang=!0}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1),e("div",{staticClass:"d-flex justify-space-around"},[e("v-text-field",{staticClass:"mr-2",attrs:{value:a.addData.form.kodeUnit+" - "+a.addData.form.namaUnit,label:"Unit",dense:"",outlined:""}}),e("v-btn",{on:{click:function(t){a.dialogUnitBarang=!0}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1),e("v-text-field",{staticClass:"mr-2",attrs:{label:"Harga Jual",dense:"",outlined:""},model:{value:a.addData.form.rp_jual,callback:function(t){a.$set(a.addData.form,"rp_jual",t)},expression:"addData.form.rp_jual"}}),e("v-divider"),e("div",{staticClass:"d-flex justify-end mt-2"},[a.staUpdate?e("v-btn",{attrs:{color:"warning",disabled:!a.addData.isValid},on:{click:function(t){return a.updateData()}}},[a._v("UPDATE"),e("v-icon",[a._v("mdi-floppy")])],1):e("v-btn",{attrs:{color:"success",disabled:!a.addData.isValid},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN"),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.dialogJenisBarang,callback:function(t){a.dialogJenisBarang=t},expression:"dialogJenisBarang"}},[e("v-card",[e("jenis-barang",{attrs:{staPilih:!0},on:{jenis:a.getJenis}})],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.dialogUnitBarang,callback:function(t){a.dialogUnitBarang=t},expression:"dialogUnitBarang"}},[e("v-card",[e("unit-view",{attrs:{staPilih:!0},on:{unit:a.getUnit}})],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},ct=[],ut={props:["staPilih","jenis"],components:{JenisBarang:et,UnitView:dt},data:function(){return{data:{headers:[{text:"KODE",value:"kode_bahan",divider:!0},{text:"BARCODE",value:"barcode",divider:!0},{text:"JENIS",value:"nm_jenis",divider:!0},{text:"NAMA",value:"nama_bahan",width:"35%",divider:!0},{text:"UKURAN",value:"ukuran",divider:!0},{text:"UNIT",value:"unit",divider:!0},{text:"STOK",value:"stok",divider:!0,align:"right"},{text:"HARGA JUAL",value:"rp_jual",divider:!0,align:"right"},{text:"OPSI",value:"opsi",width:"5%"}],items:[],loading:!1,search:""},addData:{dialog:!1,isValid:!1,form:{barcode:"",namaBarang:"",ukuranBarang:"",kodeJenis:"",namaJenis:"",kodeUnit:"",namaUnit:"",rp_jual:""},rules:{barcode:[function(a){return""!=a||"Barcode Barang Harus Diisi"}],kodeJenis:[function(a){return""!=a||"Pilih Jenis Barang"}],namaBarang:[function(a){return""!=a||"Nama Barang Harus Diisi"},function(a){return a.length>5||"Nama Barang Harus Lebih dari 5 Karakter"}],ukuranBarang:[function(a){return""!=a||"Ukuran Barang Harus Diisi"}],kodeUnit:[function(a){return""!=a||"Pilih Unit/Satuan Barang"}]},loading:!1},jenisBarang:{items:[]},dialogJenisBarang:!1,dialogUnitBarang:!1,child:"",staUpdate:!1}},mounted:function(){this.loadData(),this.$refs.inputSearch.focus()},methods:{getJenis:function(a){this.addData.form.kodeJenis=a.kd_jenis,this.addData.form.namaJenis=a.nm_jenis,this.dialogJenisBarang=!1},getUnit:function(a){this.addData.form.idUnit=a.idUnit,this.addData.form.kodeUnit=a.kodeUnit,this.addData.form.namaUnit=a.namaUnit,this.dialogUnitBarang=!1},loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("master/barang",{}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(a){console.log(a)}));case 4:return t.next=6,B.a.post("master/jenisbarang").then((function(t){a.jenisBarang.items=t.data.data}));case 6:a.data.loading=!1;case 7:case"end":return t.stop()}}),t)})))()},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.addData.loading=!0,t.next=3,B.a.post("master/barang/create",a.addData.form).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()):na()("Gagal",t.data.error,"error")})).catch((function(a){na()("Gagal",a,"error")}));case 3:a.addData.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.addData.form={barcode:"",namaBarang:"",ukuranBarang:"",kodeJenis:"",namaJenis:"",kodeUnit:"",namaUnit:""}},loadUpdate:function(a){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.resetForm(),t.staUpdate=!0,e.next=4,B.a.post("master/barang/bykode",{kode_bahan:a}).then((function(a){200==a.status?(t.addData.dialog=!0,t.addData.form.kodeBarang=a.data.data.kode_bahan,t.addData.form.barcode=a.data.data.barcode,t.addData.form.namaBarang=a.data.data.nama_bahan,t.addData.form.ukuranBarang=a.data.data.ukuran,t.addData.form.idUnit=a.data.data.id_unit,t.addData.form.kodeUnit=a.data.data.unit,t.addData.form.namaUnit=a.data.data.nama_unit,t.addData.form.rp_jual=a.data.data.rp_jual,t.$notify({type:"success",text:a.data.message})):t.$notify({type:"error",text:a.data.error})})).catch((function(a){t.$notify({type:"error",text:a})}));case 4:case"end":return e.stop()}}),e)})))()},updateData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(a.addData.form),t.next=3,B.a.post("master/barang/update",a.addData.form).then((function(t){na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 3:case"end":return t.stop()}}),t)})))()},fetchData:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.post("master/barang");case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}),a)})))()},pilihBarang:function(a,t,e,n,r){this.$emit("barang",{kode_bahan:a,barcode:t,nama_bahan:e,stok:n,rp_jual:r})}}},mt=ut,vt=Object(u["a"])(mt,lt,ct,!1,null,null,null),ft=vt.exports;v()(vt,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDialog:Ea["a"],VDivider:oa["a"],VForm:sa["a"],VIcon:_["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var gt=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("div",{staticClass:"text-h5"},[a._v("MASTER SUPPLIER")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{outlined:""}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{attrs:{color:"success",rounded:""},on:{click:function(t){a.addData.dialog=!0,a.resetForm(),a.staUpdate=!1}}},[a._v("Tambah Data"),e("v-icon",[a._v("mdi-plus-thick")])],1)],1),e("div",[e("v-text-field",{attrs:{name:"name",label:"Pencarian",outlined:"",dense:"","hide-details":""},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{fetch:a.fetchData,worksheet:"Data Customer",name:"Data Customer.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search},scopedSlots:a._u([{key:"item.opsi",fn:function(t){var n=t.item;return[a.staPilih?e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.pilihSupplier(n.kode,n.nama)}}},[e("v-icon",[a._v("mdi-check-bold")])],1):e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadUpdate(n.kode)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}}],null,!0)})],1)],1)],1)],1)],1),e("v-dialog",{attrs:{width:"1100px",transition:"dialog-transition"},model:{value:a.addData.dialog,callback:function(t){a.$set(a.addData,"dialog",t)},expression:"addData.dialog"}},[e("v-card",{staticClass:"pb-5"},[e("v-card-title",[a._v(" Tambah Data ")]),e("v-divider"),e("v-card-text",{staticClass:"mt-3"},[e("v-form",{model:{value:a.addData.isValid,callback:function(t){a.$set(a.addData,"isValid",t)},expression:"addData.isValid"}},[e("v-text-field",{attrs:{label:"(Otomatis) Kode Supplier",dense:"",outlined:"",readonly:"",placeholder:"Otomatis"},model:{value:a.addData.form.kode,callback:function(t){a.$set(a.addData.form,"kode",t)},expression:"addData.form.kode"}}),e("v-text-field",{attrs:{rules:a.addData.rules.nama,label:"Nama",dense:"",outlined:""},model:{value:a.addData.form.nama,callback:function(t){a.$set(a.addData.form,"nama",t)},expression:"addData.form.nama"}}),e("v-text-field",{attrs:{rules:a.addData.rules.alamat,label:"Alamat",dense:"",outlined:""},model:{value:a.addData.form.alamat,callback:function(t){a.$set(a.addData.form,"alamat",t)},expression:"addData.form.alamat"}}),e("v-text-field",{attrs:{rules:a.addData.rules.telepon,label:"Telepon",dense:"",outlined:""},model:{value:a.addData.form.telepon,callback:function(t){a.$set(a.addData.form,"telepon",t)},expression:"addData.form.telepon"}}),e("v-text-field",{attrs:{rules:a.addData.rules.person,label:"Person",dense:"",outlined:""},model:{value:a.addData.form.person,callback:function(t){a.$set(a.addData.form,"person",t)},expression:"addData.form.person"}}),e("v-divider"),e("div",{staticClass:"d-flex justify-end mt-2"},[a.staUpdate?e("v-btn",{attrs:{color:"warning",disabled:!a.addData.isValid},on:{click:function(t){return a.updateData()}}},[a._v("UPDATE"),e("v-icon",[a._v("mdi-floppy")])],1):e("v-btn",{attrs:{color:"success",disabled:!a.addData.isValid},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN"),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.dialogJenisBarang,callback:function(t){a.dialogJenisBarang=t},expression:"dialogJenisBarang"}},[e("v-card",[e("jenis-barang",{on:{jenis:a.getJenis}})],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},ht=[],pt={props:["staPilih"],components:{JenisBarang:et},data:function(){return{data:{headers:[{text:"KODE",value:"kode",divider:!0},{text:"NAMA",value:"nama",divider:!0},{text:"ALAMAT",value:"alamat",width:"50%",divider:!0},{text:"TELEPON",value:"telepon",divider:!0},{text:"PERSON",value:"person",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:""},addData:{dialog:!1,isValid:!1,form:{nama:"",alamat:"",telepon:"",person:""},rules:{nama:[function(a){return""!=a||"Nama Harus Diisi"},function(a){return a.length>3||"Nama Harus Lebih dari 3 Karakter"}],alamat:[function(a){return""!=a||"Alamat Harus Diisi"},function(a){return a.length>3||"Alamat Harus Lebih dari 3 Karakter"}],telepon:[function(a){return""!=a||"Telepon Harus Diisi"},function(a){return a.length>3||"Telepon Harus Lebih dari 3 Karakter"}],person:[function(a){return""!=a||"Person Harus Diisi"},function(a){return a.length>3||"Person Harus Lebih dari 3 Karakter"}]},loading:!1},dialogJenisBarang:!1,child:"",staUpdate:!1}},mounted:function(){this.loadData()},methods:{getJenis:function(a){this.addData.form.kodeJenis=a.kd_jenis,this.addData.form.namaJenis=a.nm_jenis,this.dialogJenisBarang=!1,console.log(this.addData.form)},loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("master/supplier",{}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(a){console.log(a)}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.addData.loading=!0,t.next=3,B.a.post("master/supplier/create",a.addData.form).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()):na()("Gagal",t.data.error,"error")})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 3:a.addData.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.addData.form={nama:"",alamat:"",telepon:"",person:""}},loadUpdate:function(a){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.resetForm(),t.staUpdate=!0,e.next=4,B.a.post("master/supplier/bykode",{kode:a}).then((function(a){200==a.status?(t.addData.dialog=!0,t.addData.form=a.data.data,t.$notify({type:"success",text:a.data.message})):t.$notify({type:"error",text:a.data.error})})).catch((function(a){t.$notify({type:"error",text:a})}));case 4:case"end":return e.stop()}}),e)})))()},updateData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(a.addData.form),t.next=3,B.a.post("master/supplier/update",a.addData.form).then((function(t){na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 3:case"end":return t.stop()}}),t)})))()},fetchData:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.post("master/customer");case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}),a)})))()},pilihSupplier:function(a,t){this.$emit("supplier",{kode:a,nama:t})}}},bt=pt,kt=Object(u["a"])(bt,gt,ht,!1,null,null,null),_t=kt.exports;v()(kt,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDialog:Ea["a"],VDivider:oa["a"],VForm:sa["a"],VIcon:_["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var xt=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("h2",[a._v("MASTER CUSTOMER")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{attrs:{color:"success",rounded:""},on:{click:function(t){a.addData.dialog=!0,a.resetForm(),a.staUpdate=!1}}},[a._v("Tambah Data"),e("v-icon",[a._v("mdi-plus-thick")])],1)],1),e("div",[e("v-text-field",{attrs:{name:"name",label:"Pencarian",outlined:"",dense:"","hide-details":""},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{fetch:a.fetchData,worksheet:"Data Customer",name:"Data Customer.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search},scopedSlots:a._u([{key:"item.opsi",fn:function(t){var n=t.item;return[a.staPilih?e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.pilihCustomer(n.kode,n.nama)}}},[e("v-icon",[a._v("mdi-check-bold")])],1):e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadUpdate(n.kode)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}}],null,!0)})],1)],1)],1)],1)],1),e("v-dialog",{attrs:{width:"1100px",transition:"dialog-transition"},model:{value:a.addData.dialog,callback:function(t){a.$set(a.addData,"dialog",t)},expression:"addData.dialog"}},[e("v-card",{staticClass:"pb-5"},[e("v-card-title",[a._v(" Tambah Data ")]),e("v-divider"),e("v-card-text",{staticClass:"mt-3"},[e("v-form",{model:{value:a.addData.isValid,callback:function(t){a.$set(a.addData,"isValid",t)},expression:"addData.isValid"}},[e("v-text-field",{attrs:{label:"(Otomatis) Kode Customer",dense:"",outlined:"",readonly:"",placeholder:"Otomatis"},model:{value:a.addData.form.kode,callback:function(t){a.$set(a.addData.form,"kode",t)},expression:"addData.form.kode"}}),e("v-text-field",{attrs:{rules:a.addData.rules.nama,label:"Nama",dense:"",outlined:""},model:{value:a.addData.form.nama,callback:function(t){a.$set(a.addData.form,"nama",t)},expression:"addData.form.nama"}}),e("v-text-field",{attrs:{rules:a.addData.rules.person,label:"Person",dense:"",outlined:""},model:{value:a.addData.form.person,callback:function(t){a.$set(a.addData.form,"person",t)},expression:"addData.form.person"}}),e("v-text-field",{attrs:{rules:a.addData.rules.telepon,label:"Telepon",dense:"",outlined:""},model:{value:a.addData.form.telepon,callback:function(t){a.$set(a.addData.form,"telepon",t)},expression:"addData.form.telepon"}}),e("v-text-field",{attrs:{rules:a.addData.rules.alamat,label:"Alamat",dense:"",outlined:""},model:{value:a.addData.form.alamat,callback:function(t){a.$set(a.addData.form,"alamat",t)},expression:"addData.form.alamat"}}),e("v-divider"),e("div",{staticClass:"d-flex justify-end mt-2"},[a.staUpdate?e("v-btn",{attrs:{color:"warning",disabled:!a.addData.isValid},on:{click:function(t){return a.updateData()}}},[a._v("UPDATE"),e("v-icon",[a._v("mdi-floppy")])],1):e("v-btn",{attrs:{color:"success",disabled:!a.addData.isValid},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN"),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.dialogJenisBarang,callback:function(t){a.dialogJenisBarang=t},expression:"dialogJenisBarang"}},[e("v-card",[e("jenis-barang",{on:{jenis:a.getJenis}})],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},Dt=[],wt={props:["staPilih"],components:{JenisBarang:et},data:function(){return{data:{headers:[{text:"KODE",value:"kode",divider:!0},{text:"NAMA",value:"nama",divider:!0},{text:"ALAMAT",value:"alamat",width:"40%",divider:!0},{text:"PERSON",value:"person",divider:!0},{text:"TELEPON",value:"telepon",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:""},addData:{dialog:!1,isValid:!1,form:{nama:"",alamat:"",telepon:"",person:""},rules:{nama:[function(a){return""!=a||"Nama Harus Diisi"},function(a){return a.length>5||"Nama Harus Lebih dari 5 Karakter"}],alamat:[function(a){return""!=a||"Alamat Harus Diisi"},function(a){return a.length>5||"Alamat Harus Lebih dari 5 Karakter"}],telepon:[function(a){return""!=a||"Telepon Harus Diisi"},function(a){return a.length>5||"Telepon Harus Lebih dari 5 Karakter"}],person:[function(a){return""!=a||"Person Harus Diisi"},function(a){return a.length>5||"Person Harus Lebih dari 5 Karakter"}]},loading:!1},dialogJenisBarang:!1,child:"",staUpdate:!1}},mounted:function(){this.loadData()},methods:{getJenis:function(a){this.addData.form.kodeJenis=a.kd_jenis,this.addData.form.namaJenis=a.nm_jenis,this.dialogJenisBarang=!1,console.log(this.addData.form)},loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("master/customer",{}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(t){a.$notify({type:"error",text:t})}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.addData.loading=!0,t.next=3,B.a.post("master/customer/create",a.addData.form).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()):na()("Gagal",t.data.error,"error")})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 3:a.addData.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.addData.form={nama:"",alamat:"",telepon:"",person:""}},loadUpdate:function(a){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.resetForm(),t.staUpdate=!0,e.next=4,B.a.post("master/customer/bykode",{kode:a}).then((function(a){200==a.status?(t.addData.dialog=!0,t.addData.form=a.data.data,t.$notify({type:"success",text:a.data.message})):t.$notify({type:"error",text:a.data.error})})).catch((function(a){t.$notify({type:"error",text:a})}));case 4:case"end":return e.stop()}}),e)})))()},updateData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(a.addData.form),t.next=3,B.a.post("master/customer/update",a.addData.form).then((function(t){na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 3:case"end":return t.stop()}}),t)})))()},fetchData:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.post("master/customer");case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}),a)})))()},pilihCustomer:function(a,t){this.$emit("customer",{kode:a,nama:t})}}},yt=wt,jt=Object(u["a"])(yt,xt,Dt,!1,null,null,null),Tt=jt.exports;v()(jt,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDialog:Ea["a"],VDivider:oa["a"],VForm:sa["a"],VIcon:_["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var Ct=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("div",{staticClass:"text-h5"},[a._v("MASTER SALES")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{outlined:""}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{attrs:{color:"success",rounded:""},on:{click:function(t){a.addData.dialog=!0,a.resetForm(),a.staUpdate=!1}}},[a._v("Tambah Data"),e("v-icon",[a._v("mdi-plus-thick")])],1)],1),e("div",[e("v-text-field",{attrs:{name:"name",label:"Pencarian",outlined:"",dense:"","hide-details":""},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{fetch:a.fetchData,worksheet:"Data Customer",name:"Data Customer.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search},scopedSlots:a._u([{key:"item.opsi",fn:function(t){var n=t.item;return[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadUpdate(n.kode)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}}],null,!0)})],1)],1)],1)],1)],1),e("v-dialog",{attrs:{width:"1100px",transition:"dialog-transition"},model:{value:a.addData.dialog,callback:function(t){a.$set(a.addData,"dialog",t)},expression:"addData.dialog"}},[e("v-card",{staticClass:"pb-5"},[e("v-card-title",[a._v(" Tambah Data ")]),e("v-divider"),e("v-card-text",{staticClass:"mt-3"},[e("v-form",{model:{value:a.addData.isValid,callback:function(t){a.$set(a.addData,"isValid",t)},expression:"addData.isValid"}},[e("v-text-field",{attrs:{label:"(Otomatis) Kode Customer",dense:"",outlined:"",readonly:"",placeholder:"Otomatis"},model:{value:a.addData.form.kode,callback:function(t){a.$set(a.addData.form,"kode",t)},expression:"addData.form.kode"}}),e("v-text-field",{attrs:{rules:a.addData.rules.nama,label:"Nama",dense:"",outlined:""},model:{value:a.addData.form.nama,callback:function(t){a.$set(a.addData.form,"nama",t)},expression:"addData.form.nama"}}),e("v-text-field",{attrs:{rules:a.addData.rules.person,label:"Person",dense:"",outlined:""},model:{value:a.addData.form.person,callback:function(t){a.$set(a.addData.form,"person",t)},expression:"addData.form.person"}}),e("v-text-field",{attrs:{rules:a.addData.rules.telepon,label:"Telepon",dense:"",outlined:""},model:{value:a.addData.form.telepon,callback:function(t){a.$set(a.addData.form,"telepon",t)},expression:"addData.form.telepon"}}),e("v-text-field",{attrs:{rules:a.addData.rules.alamat,label:"Alamat",dense:"",outlined:""},model:{value:a.addData.form.alamat,callback:function(t){a.$set(a.addData.form,"alamat",t)},expression:"addData.form.alamat"}}),e("v-divider"),e("div",{staticClass:"d-flex justify-end mt-2"},[a.staUpdate?e("v-btn",{attrs:{color:"warning",disabled:!a.addData.isValid},on:{click:function(t){return a.updateData()}}},[a._v("UPDATE"),e("v-icon",[a._v("mdi-floppy")])],1):e("v-btn",{attrs:{color:"success",disabled:!a.addData.isValid},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN"),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.dialogJenisBarang,callback:function(t){a.dialogJenisBarang=t},expression:"dialogJenisBarang"}},[e("v-card",[e("jenis-barang",{on:{jenis:a.getJenis}})],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},At=[],Vt={components:{JenisBarang:et},data:function(){return{data:{headers:[{text:"KODE",value:"kode",divider:!0},{text:"NAMA",value:"nama",divider:!0},{text:"ALAMAT",value:"alamat",width:"50%",divider:!0},{text:"PERSON",value:"person",divider:!0},{text:"TELEPON",value:"telepon",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:""},addData:{dialog:!1,isValid:!1,form:{nama:"",alamat:"",telepon:"",person:""},rules:{nama:[function(a){return""!=a||"Nama Harus Diisi"},function(a){return a.length>5||"Nama Harus Lebih dari 5 Karakter"}],alamat:[function(a){return""!=a||"Alamat Harus Diisi"},function(a){return a.length>5||"Alamat Harus Lebih dari 5 Karakter"}]},loading:!1},dialogJenisBarang:!1,child:"",staUpdate:!1}},mounted:function(){this.loadData()},methods:{getJenis:function(a){this.addData.form.kodeJenis=a.kd_jenis,this.addData.form.namaJenis=a.nm_jenis,this.dialogJenisBarang=!1,console.log(this.addData.form)},loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("master/sales",{}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(t){a.$notify({type:"error",text:t})}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.addData.loading=!0,t.next=3,B.a.post("master/sales/create",a.addData.form).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()):na()("Gagal",t.data.error,"error")})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 3:a.addData.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.addData.form={nama:"",alamat:"",telepon:"",person:""}},loadUpdate:function(a){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.resetForm(),t.staUpdate=!0,e.next=4,B.a.post("master/sales/bykode",{kode:a}).then((function(a){200==a.status?(t.addData.dialog=!0,t.addData.form=a.data.data,t.$notify({type:"success",text:a.data.message})):t.$notify({type:"error",text:a.data.error})})).catch((function(a){t.$notify({type:"error",text:a})}));case 4:case"end":return e.stop()}}),e)})))()},updateData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(a.addData.form),t.next=3,B.a.post("master/sales/update",a.addData.form).then((function(t){na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 3:case"end":return t.stop()}}),t)})))()},fetchData:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.post("master/customer");case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}),a)})))()}}},Rt=Vt,St=Object(u["a"])(Rt,Ct,At,!1,null,null,null),Ot=St.exports;v()(St,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDialog:Ea["a"],VDivider:oa["a"],VForm:sa["a"],VIcon:_["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var $t=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("div",{staticClass:"text-h5"},[a._v("MASTER BANK")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{outlined:""}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{attrs:{color:"success",rounded:""},on:{click:function(t){a.addData.dialog=!0,a.resetForm(),a.staUpdate=!1}}},[a._v("Tambah Data"),e("v-icon",[a._v("mdi-plus-thick")])],1)],1),e("div",[e("v-text-field",{attrs:{name:"name",label:"Pencarian",outlined:"",dense:"","hide-details":""},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{fetch:a.fetchData,worksheet:"Data Customer",name:"Data Customer.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search},scopedSlots:a._u([{key:"item.opsi",fn:function(t){var n=t.item;return[a.staPilih?e("v-btn",{attrs:{color:"primary",text:"",disabled:n.masuk-n.keluar<=0},on:{click:function(t){return a.pilihBank(n.kode,n.nm_bank)}}},[e("v-icon",[a._v("mdi-check-bold")])],1):e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadUpdate(n.kode_bahan)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}}],null,!0)})],1)],1)],1)],1)],1),e("v-dialog",{attrs:{width:"1100px",transition:"dialog-transition"},model:{value:a.addData.dialog,callback:function(t){a.$set(a.addData,"dialog",t)},expression:"addData.dialog"}},[e("v-card",{staticClass:"pb-5"},[e("v-card-title",[a._v(" Tambah Data ")]),e("v-divider"),e("v-card-text",{staticClass:"mt-3"},[e("v-form",{model:{value:a.addData.isValid,callback:function(t){a.$set(a.addData,"isValid",t)},expression:"addData.isValid"}},[e("v-text-field",{attrs:{label:"(Otomatis) Kode Kas/Bank",dense:"",outlined:"",readonly:"",placeholder:"Otomatis","background-color":"#f7f7f7"},model:{value:a.addData.form.kode,callback:function(t){a.$set(a.addData.form,"kode",t)},expression:"addData.form.kode"}}),e("v-text-field",{attrs:{rules:a.addData.rules.nama_bank,label:"Nama Kas/Bank",dense:"",outlined:""},model:{value:a.addData.form.nama_bank,callback:function(t){a.$set(a.addData.form,"nama_bank",t)},expression:"addData.form.nama_bank"}}),e("v-text-field",{attrs:{rules:a.addData.rules.nama_tampil,label:"Nama Alias",dense:"",outlined:""},model:{value:a.addData.form.nama_tampil,callback:function(t){a.$set(a.addData.form,"nama_tampil",t)},expression:"addData.form.nama_tampil"}}),e("v-text-field",{attrs:{rules:a.addData.rules.no_rekening,label:"No. Rekening",dense:"",outlined:""},model:{value:a.addData.form.no_rekening,callback:function(t){a.$set(a.addData.form,"no_rekening",t)},expression:"addData.form.no_rekening"}}),e("v-text-field",{attrs:{rules:a.addData.rules.keterangan,label:"Keterangan",dense:"",outlined:""},model:{value:a.addData.form.keterangan,callback:function(t){a.$set(a.addData.form,"keterangan",t)},expression:"addData.form.keterangan"}}),e("v-divider"),e("div",{staticClass:"d-flex justify-end mt-2"},[a.staUpdate?e("v-btn",{attrs:{color:"warning",disabled:!a.addData.isValid},on:{click:function(t){return a.updateData()}}},[a._v("UPDATE"),e("v-icon",[a._v("mdi-floppy")])],1):e("v-btn",{attrs:{color:"success",disabled:!a.addData.isValid},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN"),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1)],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},Nt=[],Pt={props:["staPilih"],data:function(){return{data:{headers:[{text:"KODE",value:"kode",divider:!0},{text:"NAMA",value:"nm_bank",divider:!0},{text:"ALIAS",value:"nm_tampil",divider:!0},{text:"NO REKENING",value:"no_rekening",divider:!0},{text:"KETERANGAN",value:"keterangan",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:""},addData:{dialog:!1,isValid:!1,form:{kode_bank:"",nama_bank:"",nama_tampil:"",no_rekening:"",keterangan:""},rules:{nama_bank:[function(a){return""!=a||"Nama Harus Diisi"}],nama_tampil:[function(a){return""!=a||"Alias Harus Diisi"}]},loading:!1},child:"",staUpdate:!1}},mounted:function(){this.loadData()},methods:{loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("master/bank",{}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(t){a.$notify({type:"error",text:t})}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.addData.loading=!0,t.next=3,B.a.post("master/bank/create",a.addData.form).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()):na()("Gagal",t.data.error,"error")})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 3:a.addData.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.addData.form={kode_bank:"",nama_bank:"",nama_tampil:"",no_rekening:"",keterangan:""}},loadUpdate:function(a){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.resetForm(),t.staUpdate=!0,e.next=4,B.a.post("master/bank/bykode",{kode:a}).then((function(a){200==a.status?(t.addData.dialog=!0,t.addData.form.kode_bank=a.data.data.kode,t.addData.form.nama_bank=a.data.data.nm_bank,t.addData.form.nama_tampil=a.data.data.nm_tampil,t.addData.form.no_rekening=a.data.data.no_rekening,t.addData.form.keterangan=a.data.data.keterangan,t.$notify({type:"success",text:a.data.message})):t.$notify({type:"error",text:a.data.error})})).catch((function(a){t.$notify({type:"error",text:a})}));case 4:case"end":return e.stop()}}),e)})))()},updateData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("master/bank/update",a.addData.form).then((function(t){na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 2:case"end":return t.stop()}}),t)})))()},fetchData:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.post("master/bank");case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}),a)})))()},pilihBank:function(a,t){this.$emit("bank",{kode_bank:a,nama_bank:t})}}},Et=Pt,Bt=Object(u["a"])(Et,$t,Nt,!1,null,null,null),It=Bt.exports;v()(Bt,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDialog:Ea["a"],VDivider:oa["a"],VForm:sa["a"],VIcon:_["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var Ut=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("div",{staticClass:"text-h5"},[a._v("MASTER AKUN")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{outlined:""}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{attrs:{color:"success",rounded:""},on:{click:function(t){a.addData.dialog=!0,a.resetForm(),a.staUpdate=!1}}},[a._v("Tambah Data"),e("v-icon",[a._v("mdi-plus-thick")])],1)],1),e("div",[e("v-text-field",{attrs:{name:"name",label:"Pencarian",outlined:"",dense:"","hide-details":""},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{fetch:a.fetchData,worksheet:"Data Customer",name:"Data Customer.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search},scopedSlots:a._u([{key:"item.opsi",fn:function(t){var n=t.item;return[a.staPilih?e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.pilihAkun(n.kode_akun,n.nama_akun)}}},[e("v-icon",[a._v("mdi-check-bold")])],1):e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadUpdate(n.kode_bahan)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}}],null,!0)})],1)],1)],1)],1)],1),e("v-dialog",{attrs:{width:"1100px",transition:"dialog-transition"},model:{value:a.addData.dialog,callback:function(t){a.$set(a.addData,"dialog",t)},expression:"addData.dialog"}},[e("v-card",{staticClass:"pb-5"},[e("v-card-title",[a._v(" Tambah Data ")]),e("v-divider"),e("v-card-text",{staticClass:"mt-3"},[e("v-form",{model:{value:a.addData.isValid,callback:function(t){a.$set(a.addData,"isValid",t)},expression:"addData.isValid"}},[e("v-text-field",{attrs:{label:"(Otomatis) Kode Akun",dense:"",outlined:"",readonly:"",placeholder:"Otomatis","background-color":"#f7f7f7"},model:{value:a.addData.form.kode_akun,callback:function(t){a.$set(a.addData.form,"kode_akun",t)},expression:"addData.form.kode_akun"}}),e("div",{staticClass:"d-flex justify-space-around"},[e("v-text-field",{staticClass:"mr-2",attrs:{rules:a.addData.rules.nama_rekening,value:a.addData.form.nama_rekening,label:"Kelompok/Rekening",dense:"",outlined:"",readonly:""}}),e("v-btn",{on:{click:function(t){return a.showRekening()}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1),e("div",{staticClass:"d-flex justify-space-around"},[e("v-col",{staticClass:"pa-0",attrs:{cols:"3"}},[e("v-text-field",{staticClass:"mr-2",attrs:{value:a.addData.form.kode_rekening,dense:"",outlined:"",readonly:"","background-color":"#f7f7f7"}})],1),e("v-col",{staticClass:"pa-0",attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:a.addData.rules.kode_akun,label:"Kode Akun (Otomatis)",dense:"",outlined:"",readonly:"","background-color":"#f7f7f7"},model:{value:a.addData.form.kode_akun,callback:function(t){a.$set(a.addData.form,"kode_akun",t)},expression:"addData.form.kode_akun"}})],1)],1),e("v-text-field",{attrs:{rules:a.addData.rules.nama_akun,label:"Nama Akun",dense:"",outlined:""},model:{value:a.addData.form.nama_akun,callback:function(t){a.$set(a.addData.form,"nama_akun",t)},expression:"addData.form.nama_akun"}}),e("v-divider"),e("div",{staticClass:"d-flex justify-end mt-2"},[a.staUpdate?e("v-btn",{attrs:{color:"warning",disabled:!a.addData.isValid},on:{click:function(t){return a.updateData()}}},[a._v("UPDATE"),e("v-icon",[a._v("mdi-floppy")])],1):e("v-btn",{attrs:{color:"success",disabled:!a.addData.isValid},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN"),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.rekening.dialog,callback:function(t){a.$set(a.rekening,"dialog",t)},expression:"rekening.dialog"}},[e("v-card",[e("rekening-view",{attrs:{staPilih:!0},on:{rekening:a.getRekening}})],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},Lt=[],Mt=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("div",{staticClass:"text-h5"},[a._v("MASTER REKENING")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{outlined:""}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{attrs:{color:"success",rounded:""},on:{click:function(t){a.addData.dialog=!0,a.resetForm(),a.staUpdate=!1}}},[a._v("Tambah Data"),e("v-icon",[a._v("mdi-plus-thick")])],1)],1),e("div",[e("v-text-field",{attrs:{name:"name",label:"Pencarian",outlined:"",dense:"","hide-details":""},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{fetch:a.fetchData,worksheet:"Data Customer",name:"Data Customer.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search},scopedSlots:a._u([{key:"item.opsi",fn:function(t){var n=t.item;return[a.staPilih?e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.pilihRekening(n.kode_rekening,n.nama_rekening,n.jenis,n.xjenis)}}},[e("v-icon",[a._v("mdi-check-bold")])],1):e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadUpdate(n.kode_bahan)}}},[e("v-icon",[a._v("mdi-pen")])],1),e("v-btn",{attrs:{color:"error",text:""},on:{click:function(t){return a.deleteData(n.kode_rekening)}}},[e("v-icon",[a._v("mdi-close-thick")])],1)],1)]}}],null,!0)})],1)],1)],1)],1)],1),e("v-dialog",{attrs:{width:"1100px",transition:"dialog-transition"},model:{value:a.addData.dialog,callback:function(t){a.$set(a.addData,"dialog",t)},expression:"addData.dialog"}},[e("v-card",{staticClass:"pb-5"},[e("v-card-title",[a._v(" Tambah Data ")]),e("v-divider"),e("v-card-text",{staticClass:"mt-3"},[e("v-form",{model:{value:a.addData.isValid,callback:function(t){a.$set(a.addData,"isValid",t)},expression:"addData.isValid"}},[e("v-text-field",{attrs:{label:"(Otomatis) Kode Rekening",dense:"",outlined:"",readonly:"",placeholder:"Otomatis","background-color":"#f7f7f7"},model:{value:a.addData.form.kode,callback:function(t){a.$set(a.addData.form,"kode",t)},expression:"addData.form.kode"}}),e("v-radio-group",{attrs:{rules:a.addData.rules.jenis,row:"",dense:"",label:"Jenis : "},model:{value:a.addData.form.jenis,callback:function(t){a.$set(a.addData.form,"jenis",t)},expression:"addData.form.jenis"}},[e("v-radio",{attrs:{label:"Penerimaan",value:"terima"}}),e("v-radio",{attrs:{label:"Pengeluaran",value:"keluar"}})],1),e("v-radio-group",{attrs:{rules:a.addData.rules.groupakun,row:"",dense:"",label:"Group Akun : "},model:{value:a.addData.form.groupakun,callback:function(t){a.$set(a.addData.form,"groupakun",t)},expression:"addData.form.groupakun"}},[e("v-radio",{attrs:{label:"General",value:"general"}}),e("v-radio",{attrs:{label:"Customer",value:"customer"}}),e("v-radio",{attrs:{label:"Supplier",value:"supplier"}})],1),e("v-text-field",{attrs:{rules:a.addData.rules.nama,label:"Nama",dense:"",outlined:""},model:{value:a.addData.form.nama,callback:function(t){a.$set(a.addData.form,"nama",t)},expression:"addData.form.nama"}}),e("v-divider"),e("div",{staticClass:"d-flex justify-end mt-2"},[a.staUpdate?e("v-btn",{attrs:{color:"warning",disabled:!a.addData.isValid},on:{click:function(t){return a.updateData()}}},[a._v("UPDATE"),e("v-icon",[a._v("mdi-floppy")])],1):e("v-btn",{attrs:{color:"success",disabled:!a.addData.isValid},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN"),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1)],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},Kt=[],Jt={props:["staPilih","jenis"],data:function(){return{data:{headers:[{text:"KODE REKENING",value:"kode_rekening",divider:!0},{text:"JENIS",value:"jenis",width:"50%",divider:!0},{text:"NAMA",value:"nama_rekening",divider:!0},{text:"GROUP AKUN",value:"xjenis",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:""},addData:{dialog:!1,isValid:!1,form:{kode:"",nama:"",jenis:null,groupakun:""},rules:{nama:[function(a){return""!=a||"Nama Harus Diisi"}],jenis:[function(a){return null!=a||"Jenis Harus Dipilih"}],groupakun:[function(a){return null!=a||"Group Harus Dipilih"}]},loading:!1},dialogJenisBarang:!1,staUpdate:!1}},mounted:function(){this.loadData()},methods:{loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,console.log(a.jenis),t.next=5,B.a.post("master/rekening",{jenis:a.jenis}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(t){a.$notify({type:"error",text:t})}));case 5:a.data.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.addData.loading=!0,t.next=3,B.a.post("master/rekening/create",a.addData.form).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()):na()("Gagal",t.data.error,"error")})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 3:a.addData.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.addData.form={nama:"",jenis:null}},loadUpdate:function(a){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.resetForm(),t.staUpdate=!0,e.next=4,B.a.post("master/rekening/bykode",{kode_rekening:a}).then((function(a){200==a.status?(t.addData.dialog=!0,console.log(a.data.data),t.addData.form.kode=a.data.data.kode_rekening,t.addData.form.nama=a.data.data.nama_rekening,t.addData.form.jenis=t.getJenis(a.data.data.jenis),t.$notify({type:"success",text:a.data.message})):t.$notify({type:"error",text:a.data.error})})).catch((function(a){t.$notify({type:"error",text:a})}));case 4:case"end":return e.stop()}}),e)})))()},getJenis:function(a){return"IN"==a.toUpperCase()?"terima":"OU"==a.toUpperCase()?"keluar":void 0},updateData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(a.addData.form),t.next=3,B.a.post("master/rekening/update",a.addData.form).then((function(t){na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 3:case"end":return t.stop()}}),t)})))()},deleteData:function(a){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("master/rekening/delete",{kode_rekening:a}).then((function(a){na()("Sukses",a.data.message,"success"),t.loadData()})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 2:case"end":return e.stop()}}),e)})))()},fetchData:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.post("master/customer");case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}),a)})))()},pilihRekening:function(a,t,e,n){this.$emit("rekening",{kode_rekening:a,nama_rekening:t,jenis:e,xjenis:n})}},computed:{}},Ft=Jt,Gt=e("67b6"),Ht=e("43a6"),Yt=Object(u["a"])(Ft,Mt,Kt,!1,null,null,null),zt=Yt.exports;v()(Yt,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDialog:Ea["a"],VDivider:oa["a"],VForm:sa["a"],VIcon:_["a"],VRadio:Gt["a"],VRadioGroup:Ht["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var qt={props:["staPilih","kode_rekening"],components:{RekeningView:zt},data:function(){return{data:{headers:[{text:"KODE REKENING",value:"kode_rekening",divider:!0},{text:"KELOMPOK",value:"nama_rekening",divider:!0},{text:"KODE AKUN",value:"kode_akun",divider:!0},{text:"NAMA AKUN",value:"nama_akun",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:""},rekening:{dialog:!1},addData:{dialog:!1,isValid:!1,form:{kode_rekening:"",nama_rekening:"",kode_akun:"",nama_akun:""},rules:{kode_rekening:[function(a){return""!=a||"Kelompok Harus Dipilih Harus Diisi"}],nama_akun:[function(a){return""!=a||"Nama Akun Harus Diisi"}]},loading:!1},child:"",staUpdate:!1}},mounted:function(){this.loadData()},methods:{showRekening:function(){this.rekening.dialog=!0},getRekening:function(a){this.addData.form.kode_rekening=a.kode_rekening,this.addData.form.nama_rekening=a.nama_rekening,this.rekening.dialog=!1},loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("master/akun",{kode_rekening:a.kode_rekening}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(t){a.$notify({type:"error",text:t})}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.addData.loading=!0,t.next=3,B.a.post("master/akun/create",a.addData.form).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()):na()("Gagal","Ada Kesalahan Server (400) : "+t.data.error,"error")})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Client (404)","error")}));case 3:a.addData.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.addData.form={kode_rekening:"",nama_rekening:"",kode_akun:"",nama_akun:""}},loadUpdate:function(a){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.resetForm(),t.staUpdate=!0,e.next=4,B.a.post("master/akun/bykode",{kode_akun:a}).then((function(a){200==a.status?(t.addData.dialog=!0,t.addData.form.kode_rekening=a.data.data.kode_rekening,t.addData.form.nama_rekening=a.data.data.nama_rekening,t.addData.form.kode_akun=a.data.data.kode_akun,t.addData.form.nama_akun=a.data.data.nama_akun,t.$notify({type:"success",text:a.data.message})):t.$notify({type:"error",text:a.data.error})})).catch((function(a){t.$notify({type:"error",text:a})}));case 4:case"end":return e.stop()}}),e)})))()},updateData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(a.addData.form),t.next=3,B.a.post("master/customer/update",a.addData.form).then((function(t){na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 3:case"end":return t.stop()}}),t)})))()},fetchData:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.post("master/customer");case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}),a)})))()},pilihAkun:function(a,t){this.$emit("akun",{kode_akun:a,nama_akun:t})}}},Wt=qt,Qt=Object(u["a"])(Wt,Ut,Lt,!1,null,null,null),Xt=Qt.exports;v()(Qt,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDialog:Ea["a"],VDivider:oa["a"],VForm:sa["a"],VIcon:_["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var Zt=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("div",{staticClass:"text-h5"},[a._v("MASTER KENDARAAN")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{attrs:{color:"success",rounded:""},on:{click:function(t){a.addData.dialog=!0,a.resetForm(),a.staUpdate=!1}}},[a._v("Tambah Data"),e("v-icon",[a._v("mdi-plus-thick")])],1)],1),e("div",[e("v-text-field",{attrs:{name:"name",label:"Pencarian",outlined:"",dense:"","hide-details":""},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{fetch:a.fetchData,worksheet:"Data Customer",name:"Data Customer.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search},scopedSlots:a._u([{key:"item.opsi",fn:function(t){var n=t.item;return[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadUpdate(n.kode)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}}],null,!0)})],1)],1)],1)],1)],1),e("v-dialog",{attrs:{width:"1100px",transition:"dialog-transition"},model:{value:a.addData.dialog,callback:function(t){a.$set(a.addData,"dialog",t)},expression:"addData.dialog"}},[e("v-card",{staticClass:"pb-5"},[e("v-card-title",[a._v(" Tambah Data ")]),e("v-divider"),e("v-card-text",{staticClass:"mt-3"},[e("v-form",{model:{value:a.addData.isValid,callback:function(t){a.$set(a.addData,"isValid",t)},expression:"addData.isValid"}},[e("v-text-field",{attrs:{rules:a.addData.rules.no_plat,label:"Nama",dense:"",outlined:""},model:{value:a.addData.form.no_plat,callback:function(t){a.$set(a.addData.form,"no_plat",t)},expression:"addData.form.no_plat"}}),e("v-text-field",{attrs:{rules:a.addData.rules.pabrikan,label:"Person",dense:"",outlined:""},model:{value:a.addData.form.pabrikan,callback:function(t){a.$set(a.addData.form,"pabrikan",t)},expression:"addData.form.pabrikan"}}),e("v-text-field",{attrs:{rules:a.addData.rules.nm_mobil,label:"Telepon",dense:"",outlined:""},model:{value:a.addData.form.nm_mobil,callback:function(t){a.$set(a.addData.form,"nm_mobil",t)},expression:"addData.form.nm_mobil"}}),e("v-text-field",{attrs:{rules:a.addData.rules.kd_customer,label:"Alamat",dense:"",outlined:""},model:{value:a.addData.form.kd_customer,callback:function(t){a.$set(a.addData.form,"kd_customer",t)},expression:"addData.form.kd_customer"}}),e("v-divider"),e("div",{staticClass:"d-flex justify-end mt-2"},[a.staUpdate?e("v-btn",{attrs:{color:"warning",disabled:!a.addData.isValid},on:{click:function(t){return a.updateData()}}},[a._v("UPDATE"),e("v-icon",[a._v("mdi-floppy")])],1):e("v-btn",{attrs:{color:"success",disabled:!a.addData.isValid},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN"),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.dialogJenisBarang,callback:function(t){a.dialogJenisBarang=t},expression:"dialogJenisBarang"}},[e("v-card",[e("jenis-barang",{on:{jenis:a.getJenis}})],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},ae=[],te={components:{JenisBarang:et},data:function(){return{data:{headers:[{text:"NO. POLISI",value:"kode",divider:!0},{text:"NAMA MOBIL",value:"nama",divider:!0},{text:"PABRIKAN",value:"alamat",width:"40%",divider:!0},{text:"PEMILIK",value:"person",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:""},addData:{dialog:!1,isValid:!1,form:{nama:"",alamat:"",telepon:"",person:""},rules:{nama:[function(a){return""!=a||"Nama Harus Diisi"},function(a){return a.length>5||"Nama Harus Lebih dari 5 Karakter"}],alamat:[function(a){return""!=a||"Alamat Harus Diisi"},function(a){return a.length>5||"Alamat Harus Lebih dari 5 Karakter"}],telepon:[function(a){return""!=a||"Telepon Harus Diisi"},function(a){return a.length>5||"Telepon Harus Lebih dari 5 Karakter"}],person:[function(a){return""!=a||"Person Harus Diisi"},function(a){return a.length>5||"Person Harus Lebih dari 5 Karakter"}]},loading:!1},dialogJenisBarang:!1,child:"",staUpdate:!1}},mounted:function(){this.loadData()},methods:{getJenis:function(a){this.addData.form.kodeJenis=a.kd_jenis,this.addData.form.namaJenis=a.nm_jenis,this.dialogJenisBarang=!1,console.log(this.addData.form)},loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("master/kendaraan",{}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(t){a.$notify({type:"error",text:t})}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.addData.loading=!0,t.next=3,B.a.post("master/customer/create",a.addData.form).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()):na()("Gagal",t.data.error,"error")})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 3:a.addData.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.addData.form={nama:"",alamat:"",telepon:"",person:""}},loadUpdate:function(a){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.resetForm(),t.staUpdate=!0,e.next=4,B.a.post("master/customer/bykode",{kode:a}).then((function(a){200==a.status?(t.addData.dialog=!0,t.addData.form=a.data.data,t.$notify({type:"success",text:a.data.message})):t.$notify({type:"error",text:a.data.error})})).catch((function(a){t.$notify({type:"error",text:a})}));case 4:case"end":return e.stop()}}),e)})))()},updateData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(a.addData.form),t.next=3,B.a.post("master/customer/update",a.addData.form).then((function(t){na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 3:case"end":return t.stop()}}),t)})))()},fetchData:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.post("master/customer");case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}),a)})))()}}},ee=te,ne=Object(u["a"])(ee,Zt,ae,!1,null,null,null),re=ne.exports;v()(ne,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDialog:Ea["a"],VDivider:oa["a"],VForm:sa["a"],VIcon:_["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var ie=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("h2",[a._v("LIST PURCHASING ORDER (PO)")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{ref:"tambahData",attrs:{color:"success",rounded:"",to:"/pembelian/po/input"}},[e("v-icon",[a._v("mdi-plus-thick")]),a._v("Tambah PO")],1)],1),e("div",{staticClass:"mr-2"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Awal",value:a.formatDate(a.periode.tanggal1),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal1,callback:function(t){a.$set(a.periode,"pickerTanggal1",t)},expression:"periode.pickerTanggal1"}},[e("v-date-picker",{on:{change:function(t){return a.loadData()},input:function(t){a.periode.pickerTanggal1=!1}},model:{value:a.periode.tanggal1,callback:function(t){a.$set(a.periode,"tanggal1",t)},expression:"periode.tanggal1"}})],1)],1),e("div",{staticClass:"mr-2"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Akhir",value:a.formatDate(a.periode.tanggal2),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal2,callback:function(t){a.$set(a.periode,"pickerTanggal2",t)},expression:"periode.pickerTanggal2"}},[e("v-date-picker",{on:{change:function(t){return a.loadData()},input:function(t){a.periode.pickerTanggal2=!1}},model:{value:a.periode.tanggal2,callback:function(t){a.$set(a.periode,"tanggal2",t)},expression:"periode.tanggal2"}})],1)],1),e("div",[e("v-text-field",{attrs:{name:"name",label:"Pencarian",outlined:"",dense:"","hide-details":"","append-icon":"mdi-magnify",clearable:""},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{fetch:a.fetchData,worksheet:"Data Customer",name:"Data Customer.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:""},scopedSlots:a._u([{key:"item.opsi",fn:function(t){var n=t.item;return[a.staPilih?e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.pilihPo(n.no_po)}}},[e("v-icon",[a._v("mdi-check-bold")])],1):e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadDetail(n.no_po)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}},{key:"item.nama",fn:function(t){var e=t.item;return[a._v(" "+a._s(e.nama)+" ")]}},{key:"item.tgl_po",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatDate(e.tgl_po))+" ")]}},{key:"item.total",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.total))+" ")]}},{key:"item.diskon",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.diskon))+" ")]}}],null,!0)})],1)],1)],1)],1)],1),e("v-dialog",{attrs:{width:"1100px",transition:"dialog-transition"},model:{value:a.addData.dialog,callback:function(t){a.$set(a.addData,"dialog",t)},expression:"addData.dialog"}},[e("v-card",{staticClass:"pb-5"},[e("v-card-title",[a._v(" Tambah Data ")]),e("v-divider"),e("v-card-text",{staticClass:"mt-3"},[e("v-form",{model:{value:a.addData.isValid,callback:function(t){a.$set(a.addData,"isValid",t)},expression:"addData.isValid"}},[e("v-text-field",{attrs:{label:"(Otomatis) Kode Customer",dense:"",outlined:"",readonly:"",placeholder:"Otomatis"},model:{value:a.addData.form.kode,callback:function(t){a.$set(a.addData.form,"kode",t)},expression:"addData.form.kode"}}),e("v-text-field",{attrs:{rules:a.addData.rules.nama,label:"Nama",dense:"",outlined:""},model:{value:a.addData.form.nama,callback:function(t){a.$set(a.addData.form,"nama",t)},expression:"addData.form.nama"}}),e("v-text-field",{attrs:{rules:a.addData.rules.person,label:"Person",dense:"",outlined:""},model:{value:a.addData.form.person,callback:function(t){a.$set(a.addData.form,"person",t)},expression:"addData.form.person"}}),e("v-text-field",{attrs:{rules:a.addData.rules.telepon,label:"Telepon",dense:"",outlined:""},model:{value:a.addData.form.telepon,callback:function(t){a.$set(a.addData.form,"telepon",t)},expression:"addData.form.telepon"}}),e("v-text-field",{attrs:{rules:a.addData.rules.alamat,label:"Alamat",dense:"",outlined:""},model:{value:a.addData.form.alamat,callback:function(t){a.$set(a.addData.form,"alamat",t)},expression:"addData.form.alamat"}}),e("v-divider"),e("div",{staticClass:"d-flex justify-end mt-2"},[a.staUpdate?e("v-btn",{attrs:{color:"warning",disabled:!a.addData.isValid},on:{click:function(t){return a.updateData()}}},[a._v("UPDATE"),e("v-icon",[a._v("mdi-floppy")])],1):e("v-btn",{attrs:{color:"success",disabled:!a.addData.isValid},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN"),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1)],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},oe=[],se={props:["staPilih"],data:function(){return{periode:{pickerTanggal1:!1,tanggal1:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,7)+"-01",pickerTanggal2:!1,tanggal2:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},data:{headers:[{text:"NO. PO",value:"no_po",divider:!0},{text:"TGL. PO",value:"tgl_po",divider:!0,width:"20%"},{text:"NAMA SUPPLIER",value:"nama",width:"40%",divider:!0},{text:"JUMLAH (Rp)",value:"total",align:"right",divider:!0},{text:"KETERANGAN",value:"keterangan",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:""},addData:{dialog:!1,isValid:!1,form:{nama:"",alamat:"",telepon:"",person:""},rules:{nama:[function(a){return""!=a||"Nama Harus Diisi"},function(a){return a.length>5||"Nama Harus Lebih dari 5 Karakter"}],alamat:[function(a){return""!=a||"Alamat Harus Diisi"},function(a){return a.length>5||"Alamat Harus Lebih dari 5 Karakter"}],telepon:[function(a){return""!=a||"Telepon Harus Diisi"},function(a){return a.length>5||"Telepon Harus Lebih dari 5 Karakter"}],person:[function(a){return""!=a||"Person Harus Diisi"},function(a){return a.length>5||"Person Harus Lebih dari 5 Karakter"}]},loading:!1},dialogJenisBarang:!1,child:"",staUpdate:!1}},mounted:function(){this.$refs.tambahData.$el.focus(),this.loadData()},methods:{loadDetail:function(a){this.$router.push({path:"/pembelian/po/input",query:{noBukti:a}})},getJenis:function(a){this.addData.form.kodeJenis=a.kd_jenis,this.addData.form.namaJenis=a.nm_jenis,this.dialogJenisBarang=!1,console.log(this.addData.form)},loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("pembelian/po/getall",{tanggal1:a.periode.tanggal1,tanggal2:a.periode.tanggal2}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(t){a.$notify({type:"error",text:t})}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.addData.loading=!0,t.next=3,B.a.post("master/customer/create",a.addData.form).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()):na()("Gagal",t.data.error,"error")})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 3:a.addData.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.addData.form={nama:"",alamat:"",telepon:"",person:""}},loadUpdate:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:case"end":return a.stop()}}),a)})))()},updateData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(a.addData.form),t.next=3,B.a.post("master/customer/update",a.addData.form).then((function(t){na()("Sukses",t.data.message,"success"),a.addData.dialog=!1,a.resetForm(),a.loadData()})).catch((function(a){console.log(a),na()("Gagal","Ada Kesalahan Server (404)","error")}));case 3:case"end":return t.stop()}}),t)})))()},fetchData:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.post("master/customer");case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}),a)})))()},pilihPo:function(a){this.$emit("po",{no_po:a})}}},de=se,le=e("2e4b"),ce=e("e449"),ue=Object(u["a"])(de,ie,oe,!1,null,null,null),me=ue.exports;v()(ue,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDatePicker:le["a"],VDialog:Ea["a"],VDivider:oa["a"],VForm:sa["a"],VIcon:_["a"],VMenu:ce["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var ve=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",{staticClass:"d-flex justify-start"},[e("div",[e("v-btn",{staticClass:"mr-3",attrs:{color:"primary",text:"",to:"/pembelian/po"}},[e("v-icon",{attrs:{"x-large":""}},[a._v("mdi-arrow-left-bold")])],1)],1),e("h2",[a._v("INPUT PURCHASING ORDER")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",{attrs:{cols:"auto",lg:"8"}},[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-card-text",[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("div",{staticClass:"d-flex justify"},[e("v-text-field",{attrs:{dense:"",outlined:"",label:"No. PO (Otomatis)",readonly:"","background-color":"blue-grey lighten-5"},model:{value:a.data.no_po,callback:function(t){a.$set(a.data,"no_po",t)},expression:"data.no_po"}}),e("v-btn",{staticClass:"ml-2",on:{click:function(t){return a.showPo()}}},[e("v-icon",[a._v("mdi-eye-outline")])],1)],1),e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal",value:a.formatDate(a.data.tanggal),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","background-color":"light-blue lighten-5"}},"v-text-field",r,!1),n))]}}]),model:{value:a.data.pickerTanggal,callback:function(t){a.$set(a.data,"pickerTanggal",t)},expression:"data.pickerTanggal"}},[e("v-date-picker",{on:{input:function(t){a.data.pickerTanggal=!1}},model:{value:a.data.tanggal,callback:function(t){a.$set(a.data,"tanggal",t)},expression:"data.tanggal"}})],1)],1),e("v-col",{attrs:{cols:"6"}},[e("div",{staticClass:"d-flex justify-space-between"},[e("v-text-field",{staticClass:"mr-2",attrs:{value:a.supplier.nama+" - "+a.supplier.kode,name:"name","background-color":"white",dense:"",outlined:"",label:"Supplier"}}),e("v-btn",{attrs:{color:"light-blue lighten-5"},on:{click:function(t){return a.showSupplier()}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1),e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Est. Terima",value:a.formatDate(a.data.tglKirim),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","background-color":"light-blue lighten-5"}},"v-text-field",r,!1),n))]}}]),model:{value:a.data.pickerTglKirim,callback:function(t){a.$set(a.data,"pickerTglKirim",t)},expression:"data.pickerTglKirim"}},[e("v-date-picker",{on:{input:function(t){a.data.pickerTglKirim=!1}},model:{value:a.data.tglKirim,callback:function(t){a.$set(a.data,"tglKirim",t)},expression:"data.tglKirim"}})],1),e("v-textarea",{attrs:{rows:"3",dense:"",outlined:"",label:"Keterangan","background-color":"light-blue lighten-5"},model:{value:a.data.keterangan,callback:function(t){a.$set(a.data,"keterangan",t)},expression:"data.keterangan"}})],1)],1)],1)],1)],1),e("v-spacer"),e("v-col",{attrs:{cols:"3"}},[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-card-text",[e("v-text-field",{staticClass:"text-h5",attrs:{name:"name",label:"Subtotal",dense:"",outlined:"",readonly:"",value:a.formatNumber(a.subtotal()),"background-color":"blue-grey lighten-5"}})],1)],1)],1)],1),e("v-row",[e("v-col",[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",[e("div",[e("v-btn",{staticClass:"mr-2",attrs:{color:"success",rounded:"",disabled:""==a.supplier.kode},on:{click:function(t){return a.showForm()}}},[a._v("Tambah Data"),e("v-icon",[a._v("mdi-plus-thick")])],1)],1),""==a.supplier.kode?e("div",{staticClass:"d-flex justify-center text-caption"},[a._v(" Pilih Supplier Dahulu ")]):a._e()]),e("v-spacer"),e("div",[e("v-text-field",{attrs:{label:"Pencarian",dense:"",outlined:"","hide-details":""}})],1)],1),e("v-divider"),e("v-card-text",[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:""},scopedSlots:a._u([{key:"item.jumlah",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.jumlah))+" ")]}},{key:"item.stok",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.stok))+" ")]}},{key:"item.hargaBeli",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.hargaBeli))+" ")]}},{key:"item.rp_jual",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.rp_jual))+" ")]}},{key:"item.subtotal",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.jumlah*e.hargaBeli))+" ")]}},{key:"item.opsi",fn:function(t){var n=t.index;return[e("v-btn",{attrs:{color:"error",text:""},on:{click:function(t){return a.hapusItem(n)}}},[e("v-icon",[a._v("mdi-trash-can-outline")])],1),e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.showUpdateItem(n)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}}],null,!0)})],1),e("v-divider"),e("div",{staticClass:"d-flex justify-end mt-2"},[e("v-btn",{staticClass:"mr-2",attrs:{color:"primary"},on:{click:function(t){return a.resetAll()}}},[a._v("BARU")]),a.staView?e("v-btn",{attrs:{color:"warning",disabled:!a.staValid()},on:{click:function(t){return a.updateData()}}},[a._v("UPDATE "),e("v-icon",[a._v("mdi-floppy")])],1):e("v-btn",{attrs:{color:"success",disabled:!a.staValid()},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN "),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.supplier.dialog,callback:function(t){a.$set(a.supplier,"dialog",t)},expression:"supplier.dialog"}},[e("v-card",[e("supplier-view",{attrs:{staPilih:!0},on:{supplier:a.getSupplier}})],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.form.dialog,callback:function(t){a.$set(a.form,"dialog",t)},expression:"form.dialog"}},[e("v-card",{staticClass:"pb-4",attrs:{outlined:""}},[e("v-card-title",[a._v(" Form Detail ")]),e("v-card-text",[e("v-form",{model:{value:a.form.isValid,callback:function(t){a.$set(a.form,"isValid",t)},expression:"form.isValid"}},[e("div",{staticClass:"d-flex justify-space-between"},[e("v-text-field",{staticClass:"mr-2",attrs:{value:a.barang.nama_bahan+" - "+a.barang.kode_bahan,label:"Nama Bahan",dense:"",outlined:""}}),e("v-btn",{attrs:{color:"light-blue lighten-4"},on:{click:function(t){return a.showBarang()}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1),e("v-textarea",{attrs:{rows:"2",rules:a.rules.keterangan,label:"Keterangan",dense:"",outlined:"","background-color":"light-blue lighten-5"},model:{value:a.form.keterangan,callback:function(t){a.$set(a.form,"keterangan",t)},expression:"form.keterangan"}}),e("v-row",{staticClass:"d-flex justify-space-between"},[e("v-col",{attrs:{cols:"6"}},[e("v-text-field",{attrs:{rules:a.rules.jumlah,label:"Jumlah",dense:"",outlined:"",type:"number","background-color":"light-blue lighten-5"},model:{value:a.form.jumlah,callback:function(t){a.$set(a.form,"jumlah",t)},expression:"form.jumlah"}}),e("v-text-field",{attrs:{rules:a.rules.hargaBeli,label:"Harga Beli",dense:"",outlined:"",type:"number","background-color":"light-blue lighten-5"},model:{value:a.form.hargaBeli,callback:function(t){a.$set(a.form,"hargaBeli",t)},expression:"form.hargaBeli"}}),e("v-text-field",{attrs:{value:a.total(),label:"Total",dense:"",readonly:"",type:"number","background-color":"blue-grey lighten-5",outlined:""}})],1),e("v-col",{attrs:{cols:"6"}},[e("v-text-field",{attrs:{label:"Stok Sekarang",dense:"",outlined:"",type:"number",readonly:"","background-color":"blue-grey lighten-5"},model:{value:a.barang.stok,callback:function(t){a.$set(a.barang,"stok",t)},expression:"barang.stok"}}),e("v-text-field",{attrs:{rules:a.rules.rp_jual,label:"Harga Jual",dense:"",outlined:"",type:"number","background-color":"light-blue lighten-5"},model:{value:a.barang.rp_jual,callback:function(t){a.$set(a.barang,"rp_jual",t)},expression:"barang.rp_jual"}})],1)],1),e("v-divider"),e("div",{staticClass:"mt-2 d-flex justify-end"},[a.form.isEdit?e("v-btn",{attrs:{color:"success",rounded:"",small:"",disabled:!a.form.isValid},on:{click:function(t){return a.updateItem()}}},[a._v("Update"),e("v-icon",[a._v("mdi-pen")])],1):e("v-btn",{attrs:{color:"success",rounded:"",small:"",disabled:!a.form.isValid},on:{click:function(t){return a.tambahItem()}}},[a._v("Tambahkan"),e("v-icon",[a._v("mdi-plus-box")])],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.barang.dialog,callback:function(t){a.$set(a.barang,"dialog",t)},expression:"barang.dialog"}},[e("v-card",[e("barang-view",{attrs:{jenis:"masuk",staPilih:!0},on:{barang:a.getBarang}})],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.po.dialog,callback:function(t){a.$set(a.po,"dialog",t)},expression:"po.dialog"}},[e("v-card",{attrs:{outlined:""}},[e("list-purchase-order",{attrs:{staPilih:!0},on:{po:a.getPo}})],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},fe=[],ge=(e("a434"),{components:{SupplierView:_t,BarangView:ft,ListPurchaseOrder:me},data:function(){return{data:{headers:[{text:"KODE",value:"kode_bahan",divider:!0},{text:"NAMA BARANG",value:"nama_bahan",divider:!0},{text:"JUMLAH",value:"jumlah",align:"right",divider:!0},{text:"STOCK",value:"stok",align:"right",divider:!0},{text:"HARGA BELI (Rp)",value:"hargaBeli",align:"right",divider:!0},{text:"HARGA JUAL (Rp)",value:"rp_jual",align:"right",divider:!0},{text:"SUBTOTAL",value:"subtotal",align:"right",divider:!0},{text:"KETERANGAN",value:"keterangan",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:"",kodeSupplier:"",pickerTanggal:!1,pickerTglKirim:!1,tanggal:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),tglKirim:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),keterangan:"",potongan:0,no_po:""},supplier:{dialog:!1,kode:"",nama:""},form:{kode_bahan:"",nama_bahan:"",jumlah:0,stok:0,hargaBeli:"",rp_jual:"",keterangan:"",isValid:!1,dialog:!1,isEdit:!1,indexEdit:""},rules:{jumlah:[function(a){return a>0||"Jumlah harus lebih dari 0"}],hargaBeli:[function(a){return a>0||"Harga Beli harus lebih dari 0"}],keterangan:[function(a){return a>""||"Keterangan Harus Diisi"}],rp_jual:[function(a){return a>0||"Harga Jual harus lebih dari 0"}]},barang:{dialog:!1,kode_bahan:"",nama_bahan:"",stok:"",rp_jual:""},po:{dialog:!1,kd_supplier:"",nama:"",doc:{kd_supplier:"",nama:""},detail:[]},staView:!1,staUpdate:!1}},mounted:function(){""!=this.$route.query.noBukti&&void 0!=this.$route.query.noBukti&&(this.data.no_po=this.$route.query.noBukti,this.loadPo())},methods:{showUpdateItem:function(a){this.form.indexEdit=a,this.form.isEdit=!0,this.form.dialog=!0,this.form.kode_bahan=this.data.items[a].kode_bahan,this.form.nama_bahan=this.data.items[a].nama_bahan,this.barang.kode_bahan=this.data.items[a].kode_bahan,this.barang.nama_bahan=this.data.items[a].nama_bahan,this.form.jumlah=this.data.items[a].jumlah,this.form.hargaBeli=this.data.items[a].hargaBeli,this.form.rp_jual=this.data.items[a].rp_jual,this.form.stok=this.data.items[a].stok,this.barang.rp_jual=this.data.items[a].rp_jual,this.barang.stok=this.data.items[a].stok,this.form.keterangan=this.data.items[a].keterangan},updateItem:function(){if(""!=this.barang.kode_bahan&&null!=this.barang.kode_bahan){this.form.kode_bahan=this.barang.kode_bahan,this.form.nama_bahan=this.barang.nama_bahan,this.form.stok=this.barang.stok,this.form.rp_jual=this.barang.rp_jual;var a=this.form.indexEdit;this.data.items[a].kode_bahan=this.form.kode_bahan,this.data.items[a].nama_bahan=this.form.nama_bahan,this.data.items[a].jumlah=this.form.jumlah,this.data.items[a].hargaBeli=this.form.hargaBeli,this.data.items[a].rp_jual=this.form.rp_jual,this.data.items[a].stok=this.form.stok,this.data.items[a].keterangan=this.form.keterangan,this.resetForm(),this.form.isEdit=!1,this.form.dialog=!1}else this.$notify({type:"error",text:"Pilih Nama Bahan"})},showPo:function(){this.po.dialog=!0},getPo:function(a){this.po.no_po=a.no_po,this.data.no_po=a.no_po,this.po.dialog=!1,this.loadPo()},loadPo:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("pembelian/po/bypo",{no_po:a.data.no_po}).then((function(t){if(200==t.status){a.staView=!0,a.po.doc=t.data.dataDoc,a.data.keterangan=t.data.dataDoc.keterangan,a.data.potongan=t.data.dataDoc.diskon,a.data.items=t.data.dataDetail,a.supplier.kode=t.data.dataDoc.kd_supplier,a.supplier.nama=t.data.dataDoc.nama,a.data.kodeSupplier=t.data.dataDoc.kd_supplier,a.data.tanggal=t.data.dataDoc.tgl_po,a.data.tglKirim=t.data.dataDoc.tgl_kirim;for(var e=0;e<t.data.dataDetail.length;e++)a.data.items[e].hargaBeli=t.data.dataDetail[e].harga,a.data.items[e].stok=t.data.dataDetail[e].stock;a.$notify({type:"success",text:t.data.message})}else a.$notify({type:"error",text:t.data.error})}));case 2:case"end":return t.stop()}}),t)})))()},showSupplier:function(){this.supplier.dialog=!0},getSupplier:function(a){this.supplier.kode=a.kode,this.supplier.nama=a.nama,this.data.kodeSupplier=a.kode,this.supplier.dialog=!1},showForm:function(){this.form.dialog=!0},showBarang:function(){this.barang.dialog=!0},getBarang:function(a){for(var t=0;t<this.data.items.length;t++)if(a.kode_bahan==this.data.items[t].kode_bahan)return void this.$notify({type:"error",text:"Bahan dengan Keteranan Sudah Ada, mohon koreksi kembali"});this.barang.kode_bahan=a.kode_bahan,this.barang.nama_bahan=a.nama_bahan,this.barang.stok=a.stok,this.barang.rp_jual=a.rp_jual,this.barang.dialog=!1},tambahItem:function(){if(""!=this.barang.kode_bahan&&null!=this.barang.kode_bahan){for(var a=0;a<this.data.items.length;a++)if(this.barang.kode_bahan==this.data.items[a].kode_bahan)return void this.$notify({type:"error",text:"Bahan Sudah Ada, mohon koreksi kembali"});this.form.kode_bahan=this.barang.kode_bahan,this.form.nama_bahan=this.barang.nama_bahan,this.form.stok=this.barang.stok,this.form.rp_jual=this.barang.rp_jual,this.data.items.push(Object(s["a"])({},this.form)),this.resetForm(),this.form.dialog=!1}else this.$notify({type:"error",text:"Pilih Nama Bahan"})},resetAll:function(){this.staView=!1,this.data.kodeSupplier="",this.data.keterangan="",this.data.potongan=0,this.data.no_po="",this.barang.kode_bahan="",this.barang.nama_bahan="",this.barang.dialog=!1,this.supplier.kode="",this.supplier.nama="",this.data.items=[],this.form={kode_bahan:"",nama_bahan:"",jumlah:0,stok:0,hargaBeli:"",rp_jual:"",keterangan:"",dialog:!1}},resetForm:function(){this.barang.kode_bahan="",this.barang.nama_bahan="",this.form={kode_bahan:"",nama_bahan:"",jumlah:0,stok:0,hargaBeli:"",rp_jual:"",keterangan:"",dialog:!1}},total:function(){return this.form.jumlah*this.form.hargaBeli},subtotal:function(){for(var a=0,t=0;t<this.data.items.length;t++)a+=this.data.items[t].jumlah*this.data.items[t].hargaBeli;return a},bayar:function(){return this.subtotal()-this.data.potongan},hapusItem:function(a){this.data.items.splice(a,1)},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=a.data.kodeSupplier){t.next=3;break}return a.$notify({type:"error",text:"Mohon isi supplier"}),t.abrupt("return");case 3:return a.data.loading=!0,t.next=6,B.a.post("pembelian/po/create",a.data).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.data.items=[],a.data.kodeSupplier="",a.supplier.kode="",a.supplier.nama="",a.resetAll()):a.$notify({type:"error",text:t.error})})).catch((function(a){na()("Gagal","Ada masalah di client "+a,"error")}));case 6:a.data.loading=!1;case 7:case"end":return t.stop()}}),t)})))()},updateData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=a.data.kodeSupplier){t.next=3;break}return a.$notify({type:"error",text:"Mohon isi supplier"}),t.abrupt("return");case 3:return a.data.loading=!0,t.next=6,B.a.post("pembelian/po/update",a.data).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.data.items=[],a.data.kodeSupplier="",a.supplier.kode="",a.supplier.nama="",a.resetAll()):a.$notify({type:"error",text:t.error})})).catch((function(a){na()("Gagal","Ada masalah di client "+a,"error")}));case 6:a.data.loading=!1;case 7:case"end":return t.stop()}}),t)})))()},staValid:function(){return 0!=this.data.items.length}},computed:{}}),he=ge,pe=e("a844"),be=Object(u["a"])(he,ve,fe,!1,null,null,null),ke=be.exports;v()(be,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDatePicker:le["a"],VDialog:Ea["a"],VDivider:oa["a"],VForm:sa["a"],VIcon:_["a"],VMenu:ce["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"],VTextarea:pe["a"]});var _e=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("h2",[a._v("PENERIMAAN PURCHASE ORDER (PO) DARI SUPPLIER")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{ref:"tambahData",attrs:{color:"success",rounded:"",to:"/pembelian/terima/input"}},[e("v-icon",[a._v("mdi-plus-thick")]),a._v("Tambah Penerimaan")],1)],1),e("div",{staticClass:"mr-2"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Awal",value:a.formatDate(a.periode.tanggal1),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal1,callback:function(t){a.$set(a.periode,"pickerTanggal1",t)},expression:"periode.pickerTanggal1"}},[e("v-date-picker",{on:{change:function(t){return a.loadData()},input:function(t){a.periode.pickerTanggal1=!1}},model:{value:a.periode.tanggal1,callback:function(t){a.$set(a.periode,"tanggal1",t)},expression:"periode.tanggal1"}})],1)],1),e("div",{staticClass:"mr-2"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Akhir",value:a.formatDate(a.periode.tanggal2),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal2,callback:function(t){a.$set(a.periode,"pickerTanggal2",t)},expression:"periode.pickerTanggal2"}},[e("v-date-picker",{on:{change:function(t){return a.loadData()},input:function(t){a.periode.pickerTanggal2=!1}},model:{value:a.periode.tanggal2,callback:function(t){a.$set(a.periode,"tanggal2",t)},expression:"periode.tanggal2"}})],1)],1),e("div",[e("v-text-field",{attrs:{name:"name",label:"Pencarian",outlined:"",dense:"","hide-details":"","append-icon":"mdi-magnify",clearable:""},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{fetch:a.fetchData,worksheet:"Data Customer",name:"Data Customer.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:""},scopedSlots:a._u([{key:"item.opsi",fn:function(t){var n=t.item;return[a.staPilih?e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.pilihTerima(n.no_bukti,n.no_po)}}},[e("v-icon",[a._v("mdi-check-bold")])],1):e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadDetail(n.no_bukti,n.no_po)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}},{key:"item.nama",fn:function(t){var e=t.item;return[a._v(" "+a._s(e.nama)+" ")]}},{key:"item.tanggal",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatDate(e.tanggal))+" ")]}}],null,!0)})],1)],1)],1)],1)],1)],1)},xe=[],De={props:["staPilih"],data:function(){return{periode:{pickerTanggal1:!1,tanggal1:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,7)+"-01",pickerTanggal2:!1,tanggal2:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},data:{headers:[{text:"NO. BUKTI",value:"no_bukti",divider:!0},{text:"TANGGAL",value:"tanggal",divider:!0},{text:"NO. PO",value:"no_po",divider:!0},{text:"SUPPLIER",value:"nama",divider:!0},{text:"SURAT JALAN",value:"no_sj",divider:!0},{text:"KETERANGAN",value:"keterangan",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:""}}},mounted:function(){this.$refs.tambahData.$el.focus(),this.loadData()},methods:{loadDetail:function(a,t){this.$router.push({path:"/pembelian/terima/input",query:{noBukti:a,noPo:t}})},loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("pembelian/terima/getall",{tanggal1:a.periode.tanggal1,tanggal2:a.periode.tanggal2}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(t){a.$notify({type:"error",text:t})}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},fetchData:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.post("master/customer");case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}),a)})))()},pilihTerima:function(a,t){this.$emit("terima",{no_bukti:a,no_po:t})}}},we=De,ye=Object(u["a"])(we,_e,xe,!1,null,null,null),je=ye.exports;v()(ye,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDatePicker:le["a"],VDivider:oa["a"],VIcon:_["a"],VMenu:ce["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var Te=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",{staticClass:"d-flex justify-start"},[e("div",[e("v-btn",{staticClass:"mr-3",attrs:{color:"primary",text:"",to:"/pembelian/terima"}},[e("v-icon",{attrs:{"x-large":""}},[a._v("mdi-arrow-left-bold")])],1)],1),e("h2",[a._v("INPUT PENERIMAAN PO SUPPLIER")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",{attrs:{cols:"auto",lg:"8"}},[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-card-text",[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("div",{staticClass:"d-flex justify"},[e("v-text-field",{staticClass:"mr-2",attrs:{label:"No Transaksi (Otomatis)",outlined:"",dense:"",readonly:"",value:a.data.no_bukti,"background-color":"blue-grey lighten-5"}}),e("v-btn",{on:{click:function(t){return a.showTerima()}}},[e("v-icon",[a._v("mdi-eye")])],1)],1),e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal",value:a.getFormatDate(a.data.tanggal),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","background-color":"light-blue lighten-5"}},"v-text-field",r,!1),n))]}}]),model:{value:a.data.pickerTanggal,callback:function(t){a.$set(a.data,"pickerTanggal",t)},expression:"data.pickerTanggal"}},[e("v-date-picker",{on:{input:function(t){a.data.pickerTanggal=!1}},model:{value:a.data.tanggal,callback:function(t){a.$set(a.data,"tanggal",t)},expression:"data.tanggal"}})],1),e("div",{staticClass:"d-flex justify"},[e("v-text-field",{staticClass:"mr-2",attrs:{value:a.data.no_po,label:"No. PO",outlined:"",dense:"","background-color":"blue-grey lighten-5"}}),e("v-btn",{attrs:{color:"light-blue lighten-4",disabled:a.staView},on:{click:function(t){return a.showPo()}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1)],1),e("v-col",{attrs:{cols:"auto",lg:"6"}},[e("v-text-field",{attrs:{label:"Supplier",readonly:"",value:a.data.kodeSupplier+" - "+a.data.namaSupplier,dense:"",outlined:"","background-color":"blue-grey lighten-5"}}),e("v-text-field",{attrs:{label:"No. SJ",dense:"",outlined:"","background-color":"light-blue lighten-5"},model:{value:a.data.noSj,callback:function(t){a.$set(a.data,"noSj",t)},expression:"data.noSj"}}),e("v-text-field",{attrs:{label:"Keterangan",dense:"",outlined:"","background-color":"light-blue lighten-5"},model:{value:a.data.keterangan,callback:function(t){a.$set(a.data,"keterangan",t)},expression:"data.keterangan"}})],1)],1)],1)],1)],1)],1),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{outlined:""}},[e("v-card-text",[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:""},scopedSlots:a._u([{key:"header.jml_dtg",fn:function(t){var n=t.header;return[a._v(" "+a._s(n.text)+" "),e("v-btn",{staticClass:"mr-2",attrs:{color:"primary",rounded:"","x-small":""},on:{click:function(t){return a.setAllDatang()}}},[e("v-icon",{attrs:{"x-small":""}},[a._v("mdi-check-all")]),a._v("Cek")],1)]}},{key:"item.no",fn:function(t){var e=t.index;return[a._v(" "+a._s(e+1)+" ")]}},{key:"item.jml_dtg",fn:function(t){return[e("v-edit-dialog",{attrs:{"return-value":t.item.jml_dtg},on:{"update:returnValue":function(e){return a.$set(t.item,"jml_dtg",e)},"update:return-value":function(e){return a.$set(t.item,"jml_dtg",e)},save:function(e){return a.saveJmlDtg(t.index,t.item.jml_dtg,t.item.jumlah,t.item.dtg)}},scopedSlots:a._u([{key:"input",fn:function(){return[e("v-text-field",{attrs:{type:"number",label:"Edit","single-line":"",dense:"",counter:""},model:{value:t.item.jml_dtg,callback:function(e){a.$set(t.item,"jml_dtg",e)},expression:"props.item.jml_dtg"}})]},proxy:!0}],null,!0)},[a._v(" "+a._s(t.item.jml_dtg)+" ")])]}}],null,!0)})],1),e("v-divider",{staticClass:"my-2"}),e("div",{staticClass:"d-flex justify-end"},[e("v-btn",{staticClass:"mr-2",on:{click:function(t){return a.resetAll()}}},[a._v("BARU "),e("v-icon",[a._v("mdi-file-refresh-outline")])],1),a.staView?e("v-btn",{attrs:{color:"warning",disabled:!a.staValid()},on:{click:function(t){return a.updateData()}}},[a._v("UPDATE"),e("v-icon",[a._v("mdi-content-save-edit-outline")])],1):e("v-btn",{attrs:{color:"success",disabled:!a.staValid()},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN "),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.po.dialog,callback:function(t){a.$set(a.po,"dialog",t)},expression:"po.dialog"}},[e("v-card",{attrs:{outlined:""}},[e("list-purchase-order",{attrs:{staPilih:!0},on:{po:a.getPo}})],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.terima.dialog,callback:function(t){a.$set(a.terima,"dialog",t)},expression:"terima.dialog"}},[e("v-card",{attrs:{outlined:""}},[e("ListPenerimaanPO",{attrs:{staPilih:!0},on:{terima:a.getTerima}})],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},Ce=[],Ae=e("c1df"),Ve=e.n(Ae),Re={components:{ListPurchaseOrder:me,ListPenerimaanPO:je},data:function(){return{data:{headers:[{text:"NO",value:"no",divider:!0},{text:"KODE BARANG",value:"kode_bahan",divider:!0},{text:"NAMA BARANG",value:"nama_bahan",divider:!0},{text:"KETERANGAN",value:"keterangan",divider:!0},{text:"JUMLAH BELI",value:"jumlah",align:"right",divider:!0},{text:"TOTAL DATANG",value:"dtg",align:"right",divider:!0},{text:"JUMLAH DATANG",value:"jml_dtg",align:"right",divider:!0,sortable:!1}],items:[],loading:!1,search:"",kodeSupplier:"",namaSupplier:"",pickerTanggal:!1,tanggal:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),noSj:"",keterangan:"",no_po:"",no_bukti:""},po:{dialog:!1,kd_supplier:"",nama:"",doc:{kd_supplier:"",nama:""},detail:[]},terima:{dialog:!1},staView:!1,staFull:!1}},mounted:function(){""!=this.$route.query.noBukti&&void 0!=this.$route.query.noBukti&&""!=this.$route.query.noPo&&void 0!=this.$route.query.noPo&&(this.data.no_bukti=this.$route.query.noBukti,this.data.no_po=this.$route.query.noPo,this.loadTerima())},methods:{resetAll:function(){this.data.kodeSupplier="",this.data.namaSupplier="",this.data.noSj="",this.data.keterangan="",this.data.no_po="",this.data.no_bukti="",this.data.items=[],this.staView=!1,this.staFull=!1},showTerima:function(){this.terima.dialog=!0},getTerima:function(a){this.data.no_bukti=a.no_bukti,this.data.no_po=a.no_po,this.terima.dialog=!1,this.staView=!0,this.loadTerima()},getFormatDate:function(a){return Ve()(String(a)).isValid()?Ve()(String(a)).format("DD-MM-YYYY"):"-"},showPo:function(){this.po.dialog=!0},loadTerima:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.staFull=!1,console.log(a.data.no_bukti,a.data.no_po),t.next=4,B.a.post("pembelian/terima/bybukti",{no_bukti:a.data.no_bukti,no_po:a.data.no_po}).then((function(t){200==t.status?(a.data.kodeSupplier=t.data.dataDoc.kd_supplier,a.data.namaSupplier=t.data.dataDoc.nama,a.data.noSj=t.data.dataDoc.no_sj,a.data.items=t.data.dataDetail,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})}));case 4:case"end":return t.stop()}}),t)})))()},loadPo:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.staFull=!1,t.next=3,B.a.post("pembelian/po/bypo",{no_po:a.data.no_po}).then((function(t){if(200==t.status){a.po.doc=t.data.dataDoc,a.data.kodeSupplier=t.data.dataDoc.kd_supplier,a.data.namaSupplier=t.data.dataDoc.nama,a.data.items=t.data.dataDetail,a.$notify({type:"success",text:t.data.message});for(var e=0,n=0;n<t.data.dataDetail.length;n++)t.data.dataDetail[n].jumlah==t.data.dataDetail[n].dtg&&e++;e==t.data.dataDetail.length?a.staFull=!0:a.staFull=!1}else a.$notify({type:"error",text:t.data.error})}));case 3:case"end":return t.stop()}}),t)})))()},getPo:function(a){this.po.no_po=a.no_po,this.data.no_po=a.no_po,this.po.dialog=!1,this.loadPo()},saveJmlDtg:function(a,t,e,n){var r=this;!isNaN(parseFloat(t))&&isFinite(t)?e-n<t?(this.$notify({type:"error",text:"Jumlah Datang Melebihi"}),setTimeout((function(){r.data.items[a].jml_dtg=0}),100)):(this.$notify({type:"success",text:"Jumlah Aman"}),setTimeout((function(){r.data.items[a].jml_dtg=t}),100)):(this.$notify({type:"error",text:"Masukkan Angka Valid"}),setTimeout((function(){r.data.items[a].jml_dtg=0}),100))},setAllDatang:function(){for(var a=0;a<this.data.items.length;a++)this.data.items[a].jml_dtg=this.data.items[a].jumlah-this.data.items[a].dtg},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a.data.items!=[]){t.next=3;break}return a.$notify({type:"error",text:"Pilih PO terlebih dahulu"}),t.abrupt("return");case 3:for(e=0,n=0;n<a.data.items.length;n++)e++;return 0==e&&a.$notify({type:"error",text:"Masukkan Jumlah datang terlebih dahulu"}),t.next=8,B.a.post("pembelian/terima/create",a.data).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.resetAll()):a.$notify({type:"error",text:t.data.error})})).catch((function(a){na()("Gagal","Ada Kesalahan Server (404) : "+a,"error")}));case 8:case"end":return t.stop()}}),t)})))()},staValid:function(){for(var a=0,t=0;t<this.data.items.length;t++)this.data.items[t].jumlah==this.data.items[t].dtg&&a++;var e=this.data.items.reduce((function(a,t){return a+t.jml_dtg}),0);return!(a==this.data.items.length||e<=0)}}},Se=Re,Oe=e("7679"),$e=Object(u["a"])(Se,Te,Ce,!1,null,null,null),Ne=$e.exports;v()($e,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDatePicker:le["a"],VDialog:Ea["a"],VDivider:oa["a"],VEditDialog:Oe["a"],VIcon:_["a"],VMenu:ce["a"],VRow:C["a"],VTextField:Q["a"]});var Pe=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("h2",[a._v("RETURN PENERIMAAN PURCHASE ORDER (PO) KE SUPPLIER")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{ref:"tambahData",attrs:{color:"success",rounded:"",to:"/pembelian/return/input"}},[e("v-icon",[a._v("mdi-plus-thick")]),a._v("Tambah Return")],1)],1),e("div",{staticClass:"mr-2"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Awal",value:a.formatDate(a.periode.tanggal1),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal1,callback:function(t){a.$set(a.periode,"pickerTanggal1",t)},expression:"periode.pickerTanggal1"}},[e("v-date-picker",{on:{change:function(t){return a.loadData()},input:function(t){a.periode.pickerTanggal1=!1}},model:{value:a.periode.tanggal1,callback:function(t){a.$set(a.periode,"tanggal1",t)},expression:"periode.tanggal1"}})],1)],1),e("div",{staticClass:"mr-2"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Akhir",value:a.formatDate(a.periode.tanggal2),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal2,callback:function(t){a.$set(a.periode,"pickerTanggal2",t)},expression:"periode.pickerTanggal2"}},[e("v-date-picker",{on:{change:function(t){return a.loadData()},input:function(t){a.periode.pickerTanggal2=!1}},model:{value:a.periode.tanggal2,callback:function(t){a.$set(a.periode,"tanggal2",t)},expression:"periode.tanggal2"}})],1)],1),e("div",[e("v-text-field",{attrs:{name:"name",label:"Pencarian",outlined:"",dense:"","hide-details":"","append-icon":"mdi-magnify",clearable:""},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{fetch:a.fetchData,worksheet:"Data Customer",name:"Data Customer.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:""},scopedSlots:a._u([{key:"item.opsi",fn:function(t){var n=t.item;return[a.staPilih?e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.pilihTerima(n.no_bukti,n.no_po)}}},[e("v-icon",[a._v("mdi-check-bold")])],1):a._e()]}},{key:"item.nama",fn:function(t){var e=t.item;return[a._v(" "+a._s(e.nama)+" ")]}},{key:"item.tanggal",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatDate(e.tanggal))+" ")]}}],null,!0)})],1)],1)],1)],1)],1)],1)},Ee=[],Be={props:["staPilih"],data:function(){return{periode:{pickerTanggal1:!1,tanggal1:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,7)+"-01",pickerTanggal2:!1,tanggal2:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},data:{headers:[{text:"NO. RETUR",value:"no_retur",divider:!0},{text:"TANGGAL",value:"tanggal",divider:!0},{text:"NO. TERIMA",value:"no_terima",divider:!0},{text:"NO. PO",value:"no_po",divider:!0},{text:"SUPPLIER",value:"nama",divider:!0},{text:"TOTAL (QTY)",value:"tot_qty",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:""}}},mounted:function(){this.$refs.tambahData.$el.focus(),this.loadData()},methods:{loadDetail:function(a,t){this.$router.push({path:"/pembelian/terima/input",query:{noBukti:a,noPo:t}})},loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("pembelian/return",{tanggal1:a.periode.tanggal1,tanggal2:a.periode.tanggal2}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(t){a.$notify({type:"error",text:t})}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},fetchData:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.post("master/customer");case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}),a)})))()},pilihTerima:function(a,t){this.$emit("terima",{no_bukti:a,no_po:t})}}},Ie=Be,Ue=Object(u["a"])(Ie,Pe,Ee,!1,null,null,null),Le=Ue.exports;v()(Ue,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDatePicker:le["a"],VDivider:oa["a"],VIcon:_["a"],VMenu:ce["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var Me=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",{staticClass:"d-flex justify-start"},[e("div",[e("v-btn",{staticClass:"mr-3",attrs:{color:"primary",text:"",to:"/pembelian/return"}},[e("v-icon",{attrs:{"x-large":""}},[a._v("mdi-arrow-left-bold")])],1)],1),e("h2",[a._v("INPUT PENERIMAAN PO SUPPLIER")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",{attrs:{cols:"auto",lg:"8"}},[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-card-text",[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("div",{staticClass:"d-flex justify"},[e("v-text-field",{staticClass:"mr-2",attrs:{label:"No Penerimaan",outlined:"",dense:"",readonly:"",value:a.data.no_bukti}}),e("v-btn",{attrs:{color:"light-blue lighten-4"},on:{click:function(t){return a.showTerima()}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1),e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal",value:a.getFormatDate(a.data.tanggal),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","background-color":"light-blue lighten-5"}},"v-text-field",r,!1),n))]}}]),model:{value:a.data.pickerTanggal,callback:function(t){a.$set(a.data,"pickerTanggal",t)},expression:"data.pickerTanggal"}},[e("v-date-picker",{on:{input:function(t){a.data.pickerTanggal=!1}},model:{value:a.data.tanggal,callback:function(t){a.$set(a.data,"tanggal",t)},expression:"data.tanggal"}})],1),e("div",{staticClass:"d-flex justify"},[e("v-text-field",{attrs:{value:a.data.no_po,label:"No. PO",outlined:"",dense:"","background-color":"blue-grey lighten-5"}})],1)],1),e("v-col",{attrs:{cols:"auto",lg:"6"}},[e("v-text-field",{attrs:{label:"Supplier",readonly:"",value:a.data.kodeSupplier+" - "+a.data.namaSupplier,dense:"",outlined:"","background-color":"blue-grey lighten-5"}}),e("v-text-field",{attrs:{label:"No. SJ",dense:"",outlined:"","background-color":"light-blue lighten-5"},model:{value:a.data.noSj,callback:function(t){a.$set(a.data,"noSj",t)},expression:"data.noSj"}}),e("v-text-field",{attrs:{label:"Keterangan",dense:"",outlined:"","background-color":"light-blue lighten-5"},model:{value:a.data.keterangan,callback:function(t){a.$set(a.data,"keterangan",t)},expression:"data.keterangan"}})],1)],1)],1)],1)],1)],1),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{outlined:""}},[e("v-card-text",[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:""},scopedSlots:a._u([{key:"header.jml_return",fn:function(t){var n=t.header;return[a._v(" "+a._s(n.text)+" "),e("v-btn",{staticClass:"mr-2",attrs:{color:"primary",rounded:"","x-small":""},on:{click:function(t){return a.setAllReturn()}}},[e("v-icon",{attrs:{"x-small":""}},[a._v("mdi-check-all")]),a._v("Cek")],1)]}},{key:"item.no",fn:function(t){var e=t.index;return[a._v(" "+a._s(e+1)+" ")]}},{key:"item.jml_return",fn:function(t){return[e("v-edit-dialog",{attrs:{"return-value":t.item.jml_return},on:{"update:returnValue":function(e){return a.$set(t.item,"jml_return",e)},"update:return-value":function(e){return a.$set(t.item,"jml_return",e)},save:function(e){return a.saveJmlReturn(t.index,t.item.jml_return,t.item.jumlah,t.item.dtg)}},scopedSlots:a._u([{key:"input",fn:function(){return[e("v-text-field",{attrs:{type:"number",label:"Edit","single-line":"",dense:"",counter:""},model:{value:t.item.jml_return,callback:function(e){a.$set(t.item,"jml_return",e)},expression:"props.item.jml_return"}})]},proxy:!0}],null,!0)},[a._v(" "+a._s(t.item.jml_return)+" ")])]}}],null,!0)})],1),e("v-divider",{staticClass:"my-2"}),e("div",{staticClass:"d-flex justify-end"},[e("v-btn",{staticClass:"mr-2",on:{click:function(t){return a.resetAll()}}},[a._v("BARU "),e("v-icon",[a._v("mdi-file-refresh-outline")])],1),a.staView?e("v-btn",{attrs:{color:"warning",disabled:!a.staValid()},on:{click:function(t){return a.updateData()}}},[a._v("UPDATE"),e("v-icon",[a._v("mdi-content-save-edit-outline")])],1):e("v-btn",{attrs:{color:"success",disabled:!a.staValid()},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN "),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.po.dialog,callback:function(t){a.$set(a.po,"dialog",t)},expression:"po.dialog"}},[e("v-card",{attrs:{outlined:""}},[e("list-purchase-order",{attrs:{staPilih:!0},on:{po:a.getPo}})],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.terima.dialog,callback:function(t){a.$set(a.terima,"dialog",t)},expression:"terima.dialog"}},[e("v-card",{attrs:{outlined:""}},[e("ListPenerimaanPO",{attrs:{staPilih:!0},on:{terima:a.getTerima}})],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},Ke=[],Je={components:{ListPurchaseOrder:me,ListPenerimaanPO:je},data:function(){return{data:{headers:[{text:"NO",value:"no",divider:!0},{text:"KODE BARANG",value:"kode_bahan",divider:!0},{text:"NAMA BARANG",value:"nama_bahan",divider:!0},{text:"KETERANGAN",value:"keterangan",divider:!0},{text:"JUMLAH BELI",value:"jumlah",align:"right",divider:!0},{text:"TOTAL DATANG",value:"dtg",align:"right",divider:!0},{text:"JUMLAH RETURN",value:"jml_return",align:"right",divider:!0,sortable:!1}],items:[],loading:!1,search:"",kodeSupplier:"",namaSupplier:"",pickerTanggal:!1,tanggal:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),noSj:"",keterangan:"",no_po:"",no_bukti:""},po:{dialog:!1,kd_supplier:"",nama:"",doc:{kd_supplier:"",nama:""},detail:[]},terima:{dialog:!1},staView:!1,staFull:!1}},mounted:function(){""!=this.$route.query.noBukti&&void 0!=this.$route.query.noBukti&&""!=this.$route.query.noPo&&void 0!=this.$route.query.noPo&&(this.data.no_bukti=this.$route.query.noBukti,this.data.no_po=this.$route.query.noPo,this.loadTerima())},methods:{resetAll:function(){this.data.kodeSupplier="",this.data.namaSupplier="",this.data.noSj="",this.data.keterangan="",this.data.no_po="",this.data.no_bukti="",this.data.items=[],this.staView=!1,this.staFull=!1},showTerima:function(){this.terima.dialog=!0},getTerima:function(a){this.data.no_bukti=a.no_bukti,this.data.no_po=a.no_po,this.terima.dialog=!1,this.loadTerima()},getFormatDate:function(a){return Ve()(String(a)).isValid()?Ve()(String(a)).format("DD-MM-YYYY"):"-"},showPo:function(){this.po.dialog=!0},loadTerima:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.staFull=!1,t.next=3,B.a.post("pembelian/terima/bybukti",{no_bukti:a.data.no_bukti,no_po:a.data.no_po}).then((function(t){200==t.status?(a.data.kodeSupplier=t.data.dataDoc.kd_supplier,a.data.namaSupplier=t.data.dataDoc.nama,a.data.noSj=t.data.dataDoc.no_sj,a.data.items=t.data.dataDetail,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})}));case 3:case"end":return t.stop()}}),t)})))()},loadPo:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.staFull=!1,t.next=3,B.a.post("pembelian/po/bypo",{no_po:a.data.no_po}).then((function(t){if(200==t.status){a.po.doc=t.data.dataDoc,a.data.kodeSupplier=t.data.dataDoc.kd_supplier,a.data.namaSupplier=t.data.dataDoc.nama,a.data.items=t.data.dataDetail,a.$notify({type:"success",text:t.data.message});for(var e=0,n=0;n<t.data.dataDetail.length;n++)t.data.dataDetail[n].jumlah==t.data.dataDetail[n].dtg&&e++;e==t.data.dataDetail.length?a.staFull=!0:a.staFull=!1}else a.$notify({type:"error",text:t.data.error})}));case 3:case"end":return t.stop()}}),t)})))()},getPo:function(a){this.po.no_po=a.no_po,this.data.no_po=a.no_po,this.po.dialog=!1,this.loadPo()},saveJmlReturn:function(a,t,e,n){var r=this;!isNaN(parseFloat(t))&&isFinite(t)?n<t?(this.$notify({type:"error",text:"Jumlah Return Melebihi Jumlah Datang"}),setTimeout((function(){r.data.items[a].jml_return=0}),100)):(this.$notify({type:"success",text:"Jumlah Aman"}),setTimeout((function(){r.data.items[a].jml_return=t}),100)):(this.$notify({type:"error",text:"Masukkan Angka Valid"}),setTimeout((function(){r.data.items[a].jml_return=0}),100))},setAllReturn:function(){for(var a=0;a<this.data.items.length;a++)this.data.items[a].jml_return=this.data.items[a].dtg},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a.data.items!=[]){t.next=3;break}return a.$notify({type:"error",text:"Pilih No Penerimaan terlebih dahulu"}),t.abrupt("return");case 3:for(e=0,n=0;n<a.data.items.length;n++)isNaN(parseInt(a.data.items[n].jml_return))||parseInt(a.data.items[n].jml_return)>0&&e++;return 0==e&&a.$notify({type:"error",text:"Masukkan Jumlah datang terlebih dahulu"}),t.next=8,B.a.post("pembelian/return/create",a.data).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.resetAll()):a.$notify({type:"error",text:t.data.error})})).catch((function(a){na()("Gagal","Ada Kesalahan Server (404) : "+a,"error")}));case 8:case"end":return t.stop()}}),t)})))()},staValid:function(){for(var a=0,t=0;t<this.data.items.length;t++)this.data.items[t].jml_return>this.data.items[t].dtg&&a++;var e=this.data.items.reduce((function(a,t){return a+t.jml_return}),0);return console.log("sumDatang : "+e),!(a==this.data.items.length||e<=0)}}},Fe=Je,Ge=Object(u["a"])(Fe,Me,Ke,!1,null,null,null),He=Ge.exports;v()(Ge,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDatePicker:le["a"],VDialog:Ea["a"],VDivider:oa["a"],VEditDialog:Oe["a"],VIcon:_["a"],VMenu:ce["a"],VRow:C["a"],VTextField:Q["a"]});var Ye=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("h2",[a._v("INPUT TRANSAKSI PENJUALAN")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-0"},[e("v-col",{attrs:{lg:"4"}},[e("v-card",{attrs:{outlined:""}},[e("v-card-text",[e("v-row",[e("v-col",[e("div",{staticClass:"d-flex justify-space-around"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({staticClass:"mr-2",attrs:{label:"Tanggal",value:a.formatDate(a.data.tanggal),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","background-color":"light-blue lighten-5"}},"v-text-field",r,!1),n))]}}]),model:{value:a.data.pickerTanggal,callback:function(t){a.$set(a.data,"pickerTanggal",t)},expression:"data.pickerTanggal"}},[e("v-date-picker",{on:{input:function(t){a.data.pickerTanggal=!1}},model:{value:a.data.tanggal,callback:function(t){a.$set(a.data,"tanggal",t)},expression:"data.tanggal"}})],1),e("v-text-field",{attrs:{value:a.$store.state.auth.user.name.toUpperCase(),label:"Admin",id:"id",dense:"",outlined:"",readonly:"","background-color":"blue-grey lighten-5"}})],1),e("div",{staticClass:"d-flex justify-space-around"},[e("v-text-field",{staticClass:"mr-2",attrs:{value:a.data.namaCustomer+" - "+a.data.kodeCustomer,name:"name",label:"Customer",id:"id",dense:"",outlined:"",readonly:"","background-color":"blue-grey lighten-5","hide-details":""}}),e("v-btn",{attrs:{color:"light-blue lighten-4"},on:{click:function(t){return a.showCustomer()}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1)])],1)],1)],1)],1),e("v-col",{attrs:{lg:"4"}},[e("v-card",{staticClass:"fill-height",attrs:{outlined:""}},[e("v-card-text",[e("v-card",{attrs:{elevation:"0"}},[e("v-card-text",{staticClass:"py-0"},[e("v-radio-group",{attrs:{dense:"",mandatory:"",value:"tunai"},model:{value:a.data.jenisBayar,callback:function(t){a.$set(a.data,"jenisBayar",t)},expression:"data.jenisBayar"}},[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-radio",{attrs:{label:"TUNAI",value:"tunai",dense:""}}),e("v-radio",{attrs:{label:"KREDIT",value:"kredit",dense:""}})],1),e("v-col",{attrs:{cols:"6"}},[e("v-radio",{attrs:{label:"TRANSFER",value:"transfer",dense:""}}),e("v-radio",{attrs:{label:"EDC",value:"edc",dense:""}})],1)],1)],1)],1)],1)],1)],1)],1),e("v-col",{attrs:{lg:"4"}},[e("v-card",{attrs:{outlined:"",rounded:"xl"}},[e("v-card-text",[e("v-row",[e("v-col",[e("v-card",{staticClass:"text-h3 font-weight-bold pa-3",attrs:{elevation:"0"}},[e("div",{staticClass:"d-flex justify-space-around"},[e("div",[a._v("Rp.")]),e("v-spacer"),e("div",[a._v(a._s(a.formatNumber(a.totalBersihTransaksi())))])],1)])],1)],1)],1)],1)],1)],1),e("v-row",{staticClass:"mt-0"},[e("v-col",{attrs:{cols:"4"}},[e("v-card",{attrs:{outlined:""}},[e("v-card-text",[e("div",{staticClass:"d-flex justify-space-around"},[e("v-text-field",{ref:"inputScan",staticClass:"mr-2",attrs:{label:"Scan Barcode",hint:a.form.nama_bahan+" - "+a.form.kode_bahan,"persistent-hint":"",dense:"",outlined:"","background-color":"light-blue lighten-5","prepend-inner-icon":"mdi-barcode-scan"},on:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?a.loadScan.apply(null,arguments):null}},model:{value:a.form.barcode,callback:function(t){a.$set(a.form,"barcode",t)},expression:"form.barcode"}}),e("v-btn",{attrs:{color:"light-blue lighten-4"},on:{click:function(t){return a.showBarang()}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1),e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-text-field",{ref:"inputJumlah",attrs:{label:"Jumlah","append-icon":"mdi-pencil-outline",type:"number",dense:"",outlined:"","background-color":"light-blue lighten-5"},on:{input:function(t){return a.proteksiStok()},keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?a.$refs.inputRpJual.focus():null}},model:{value:a.form.jumlah,callback:function(t){a.$set(a.form,"jumlah",t)},expression:"form.jumlah"}}),e("v-text-field",{attrs:{label:"Stock",value:a.form.stok,type:"number",readonly:"",dense:"",outlined:"","background-color":"blue-grey lighten-5"}})],1),e("v-col",{attrs:{cols:"6"}},[e("v-text-field",{ref:"inputRpJual",attrs:{label:"Harga",type:"number",dense:"",outlined:"","background-color":"light-blue lighten-5"},on:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?a.$refs.inputDiskonPersen.focus():null}},model:{value:a.form.rp_jual,callback:function(t){a.$set(a.form,"rp_jual",t)},expression:"form.rp_jual"}}),e("v-text-field",{attrs:{label:"Subtotal",value:a.form.jumlah*a.form.rp_jual,type:"number",dense:"",outlined:"",readonly:"","background-color":"blue-grey lighten-5"}})],1)],1),e("v-divider",{staticClass:"mb-4"}),e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-text-field",{ref:"inputDiskonPersen",attrs:{label:"Diskon (%) Item",dense:"",outlined:"",type:"number","append-icon":"mdi-percent","background-color":"light-blue lighten-5"},on:{keyup:function(t){if(!t.type.indexOf("key")&&13!==t.keyCode)return null;1==a.form.staEdit?a.updateItem():a.tambahItem(),a.$refs.inputScan.focus()}},model:{value:a.form.diskon_persen,callback:function(t){a.$set(a.form,"diskon_persen",t)},expression:"form.diskon_persen"}})],1),e("v-col",{attrs:{cols:"6"}},[e("v-text-field",{attrs:{label:"Diskon (Rp) Item",dense:"",outlined:"",readonly:"",type:"number","background-color":"blue-grey lighten-5"},model:{value:a.form.diskon,callback:function(t){a.$set(a.form,"diskon",t)},expression:"form.diskon"}})],1)],1),e("v-divider",{staticClass:"mb-4"}),e("div",{staticClass:"d-flex justify-end"},[a.form.staEdit?e("v-btn",{attrs:{color:"warning",small:"",rounded:""},on:{click:function(t){return a.updateItem()}}},[a._v("UPDATE "),e("v-icon",{attrs:{small:""}},[a._v("mdi-pen")])],1):e("v-btn",{attrs:{color:"success",small:"",rounded:"",outlined:""},on:{click:function(t){return a.tambahItem()}}},[a._v("TAMBAHKAN "),e("v-icon",{attrs:{small:""}},[a._v("mdi-plus-thick")])],1)],1)],1)],1)],1),e("v-col",{attrs:{cols:"8"}},[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:"","hide-default-footer":"","items-per-page":100},scopedSlots:a._u([{key:"item.subtotal",fn:function(t){var e=t.item;return[a._v(" "+a._s(e.jumlah*e.rp_jual)+" ")]}},{key:"item.subtotal_up",fn:function(t){var e=t.item;return[a._v(" "+a._s(e.jumlah_up*e.harga_up)+" ")]}},{key:"item.diskon_fix",fn:function(t){var e=t.item;return[a._v(" "+a._s(e.diskon)+" ")]}},{key:"item.opsi",fn:function(t){var n=t.index;return[e("div",{staticClass:"d-flex justify-start"},[e("v-btn",{attrs:{color:"primary",text:"","x-small":""},on:{click:function(t){return a.editItem(n)}}},[e("v-icon",{attrs:{small:""}},[a._v("mdi-pen")])],1),e("v-btn",{attrs:{color:"error",text:"","x-small":""},on:{click:function(t){return a.deleteItem(n)}}},[e("v-icon",{attrs:{small:""}},[a._v("mdi-trash-can-outline")])],1)],1)]}}],null,!0)})],1),e("v-row",{staticClass:"mt-0"},[e("v-col",[e("v-card",{attrs:{outlined:""}},[e("v-card-text",[e("v-row",[e("v-col",{attrs:{cols:"4"}},[e("v-text-field",{attrs:{label:"Total",value:a.formatNumber(a.totalKotorTransaksi()),readonly:"",dense:"",outlined:"","background-color":"blue-grey lighten-5"}}),e("v-text-field",{attrs:{label:"Diskon Total",value:a.formatNumber(a.totalDiskon()),dense:"",outlined:"",readonly:"","background-color":"blue-grey lighten-5"}})],1),e("v-col",{attrs:{cols:"4"}},[e("v-text-field",{staticClass:"text-h5",attrs:{label:"Grand Total",value:a.formatNumber(a.totalBersihTransaksi()),dense:"",outlined:"",readonly:"","background-color":"blue-grey lighten-5"}}),e("div",{staticClass:"d-flex justify-space-aorund"},[e("v-text-field",{staticClass:"text-h5",attrs:{label:"Bayar",dense:"",outlined:"",type:"number",disabled:!a.staTunai(),"background-color":"light-blue lighten-5"},model:{value:a.data.bayar,callback:function(t){a.$set(a.data,"bayar",t)},expression:"data.bayar"}})],1),e("v-text-field",{staticClass:"text-h5",attrs:{label:"Kembalian",value:a.formatNumber(a.kembalian()),readonly:"",dense:"",outlined:"","background-color":"blue-grey lighten-5"}})],1),e("v-divider",{attrs:{vertical:""}}),e("v-col",{attrs:{cols:"4"}},[e("div",{staticClass:"mb-2 d-flex justify-center"},[e("v-btn",{attrs:{large:""},on:{click:function(t){return a.resetAll()}}},[a._v("RESET "),e("v-icon",[a._v("mdi-refresh-circle")])],1)],1),e("div",{staticClass:"d-flex justify-center"},[e("v-btn",{attrs:{color:"success",large:"",disabled:!a.isValid,loading:a.data.loading},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN"),e("v-icon",[a._v("mdi-floppy")])],1)],1)])],1)],1)],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.barang.dialog,callback:function(t){a.$set(a.barang,"dialog",t)},expression:"barang.dialog"}},[e("v-card",{attrs:{outlined:""}},[e("barang-view",{attrs:{jenis:"keluar",staPilih:!0},on:{barang:a.getBarang}})],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.customer.dialog,callback:function(t){a.$set(a.customer,"dialog",t)},expression:"customer.dialog"}},[e("v-card",{attrs:{outlined:""}},[e("customer-view",{attrs:{staPilih:!0},on:{customer:a.getCustomer}})],1)],1),e("v-dialog",{attrs:{scrollable:"",fullscreen:"",overlay:!1,"max-width":"500px",transition:"dialog-transition"},model:{value:a.invoice.dialog,callback:function(t){a.$set(a.invoice,"dialog",t)},expression:"invoice.dialog"}},[e("v-card",{attrs:{elevation:"0"}},[e("v-col",{staticClass:"pa-0"},[e("v-card-title",{staticClass:"py-1 d-flex justify-space-around"},[e("div",{staticClass:"text-h4"},[e("strong",[a._v("BINTANG WALET")])]),e("v-spacer"),e("v-chip",{attrs:{label:"",outlined:"",color:"black",large:""}},[e("div",{staticClass:"text-h5"},[a._v("NOTA PENJUALAN")])])],1),e("hr"),e("v-card-text",[e("table",[e("tr",[e("td",[a._v("No. Nota")]),e("td",[a._v(": "+a._s(a.invoice.items[0].no_bukti))])]),e("tr",[e("td",[a._v("Pembayaran")]),e("td",[a._v(": "+a._s(a.invoice.items[0].pembayaran.toUpperCase()))])]),e("tr",[e("td",[a._v("Customer")]),e("td",[a._v(": "+a._s(a.invoice.items[0].nama))])]),e("tr",[e("td",[a._v("Tanggal")]),e("td",[a._v(": "+a._s(a.formatDateTime(a.invoice.items[0].tgl_update)))])])]),e("table",{staticClass:"tabledetail mt-4",attrs:{width:"100%"}},[e("thead",[e("tr",[e("th",[a._v("No.")]),e("th",[a._v("Nama Barang")]),e("th",[a._v("Jumlah")]),e("th",[a._v("Harga")]),e("th",[a._v("Diskon Item")]),e("th",[a._v("Subtotal")])])]),e("tbody",[a._l(a.invoice.items,(function(t,n){return e("tr",{key:t.urut},[e("td",[a._v(a._s(n+1))]),e("td",[a._v(a._s(t.nama_bahan))]),e("td",{attrs:{align:"right"}},[a._v(a._s(a.formatNumber(t.jumlah)))]),e("td",{attrs:{align:"right"}},[a._v(a._s(a.formatNumber(t.rp_jual)))]),e("td",{attrs:{align:"right"}},[a._v(a._s(a.formatNumber(t.diskon_item)))]),e("td",{attrs:{align:"right"}},[a._v(" "+a._s(a.formatNumber(t.jumlah*t.rp_jual))+" ")])])})),e("tr",[e("td",{attrs:{align:"right",colspan:"5"}},[a._v("Total")]),e("td",{attrs:{align:"right"}},[e("strong",[a._v(" "+a._s(a.formatNumber(a.invoice.items[0].total_kotor)))])])]),e("tr",[e("td",{attrs:{align:"right",colspan:"5"}},[a._v("Total Diskon")]),e("td",{attrs:{align:"right"}},[e("strong",[a._v(a._s(a.formatNumber(a.invoice.items[0].diskon)))])])]),e("tr",[e("td",{attrs:{align:"right",colspan:"5"}},[a._v("Total Bersih")]),e("td",{attrs:{align:"right"}},[e("strong",[a._v(a._s(a.formatNumber(a.invoice.items[0].total_net)))])])])],2)]),e("div",{staticClass:"d-flex justify-end"},[e("v-col",{attrs:{cols:"3"}},[e("div",{staticClass:"d-flex justify-center"},[a._v("Kasir/Admin")]),e("v-spacer",{staticClass:"my-12"}),e("div",{staticClass:"d-flex justify-center"},[e("u",[e("strong",[a._v(" "+a._s(a.invoice.items[0].user))])])])],1)],1),e("v-divider",{staticClass:"my-2"})],1)],1)],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},ze=[],qe=(e("841c"),{components:{BarangView:ft,CustomerView:Tt},data:function(){return{data:{headers:[{text:"KODE",value:"kode_bahan",divider:!0,sortable:!1},{text:"NAMA BARANG",value:"nama_bahan",divider:!0,sortable:!1},{text:"JUMLAH (QTY)",value:"jumlah",divider:!0,align:"right",sortable:!1},{text:"HARGA (Rp.)",value:"rp_jual",divider:!0,align:"right",sortable:!1},{text:"SUBTOTAL (Rp.)",value:"subtotal",divider:!0,align:"right",sortable:!1},{text:"DISKON ITEM",value:"diskon_fix",divider:!0,align:"right",sortable:!1},{text:"KETERANGAN",value:"kode",divider:!0,sortable:!1},{text:"OPSI",value:"opsi",sortable:!1}],items:[],loading:!1,search:"",kodeCustomer:"",namaCustomer:"",jenisBayar:"tunai",total_bersih:"",diskon:"",bayar:"",pickerTanggal:!1,tanggal:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),user:"",noBukti:""},barang:{dialog:!1,loading:!1},customer:{dialog:!1},invoice:{dialog:!1,items:[{no_bukti:"",pembayaran:"",user:"",tgl_update:"",total:"",diskon:"",bayar:"",kembali:""}]},cash:{dialog:!1,items:[{value:1e3}]},form:{kode_bahan:"",barcode:"",nama_bahan:"",stok:"0",rp_jual:"0",jumlah:"0",subtotal:"0",harga_up:"0",jumlah_up:"0",diskon_persen:"0",diskon:"0",staEdit:!1,indexEdit:"",keterangan:""}}},mounted:function(){this.$refs.inputScan.focus()},methods:{proteksiStok:function(){(this.form.jumlah>this.form.stok||this.form.jumlah<0||isNaN(this.form.jumlah))&&(this.form.jumlah=0)},loadScan:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.barang.loading=!0,t.next=3,B.a.post("master/barang/bybarcode",{barcode:a.form.barcode}).then((function(t){return console.log(t.data.error),200!=t.status?(a.$notify({type:"error",text:t.data.error}),void(203==t.status&&a.showBarang())):t.data.data.masuk-t.data.data.keluar<=0?(a.$notify({type:"error",text:"Stok  Habis"}),void(a.form.barcode="")):(a.form.jumlah=1,a.form.jumlah_up=1,a.form.kode_bahan=t.data.data.kode_bahan,a.form.nama_bahan=t.data.data.nama_bahan,a.form.stok=t.data.data.masuk-t.data.data.keluar,a.form.rp_jual=t.data.data.rp_jual,a.form.harga_up=t.data.data.rp_jual,a.form.diskon=0,a.tambahItem(),void a.$notify({type:"success",text:t.data.message}))})).catch((function(a){console.log(a)}));case 3:a.barang.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},produkInfo:function(){return""==this.form.barcode?"":this.form.barcode+" - "+this.form.nama_bahan+" - "+this.form.kode_bahan},editItem:function(a){this.form.kode_bahan=this.data.items[a].kode_bahan,this.form.barcode=this.data.items[a].barcode,this.form.nama_bahan=this.data.items[a].nama_bahan,this.form.stok=this.data.items[a].stok,this.form.rp_jual=this.data.items[a].rp_jual,this.form.jumlah=this.data.items[a].jumlah,this.form.subtotal=this.data.items[a].subtotal,this.form.harga_up=this.data.items[a].harga_up,this.form.jumlah_up=this.data.items[a].jumlah_up,this.form.diskon_persen=this.data.items[a].diskon_persen,this.form.diskon=this.data.items[a].diskon,this.form.keterangan=this.data.items[a].keterangan,this.form.staEdit=!0,this.form.indexEdit=a,this.$refs.inputJumlah.focus()},updateItem:function(){var a=this.form.indexEdit;this.data.items[a].kode_bahan=this.form.kode_bahan,this.data.items[a].nama_bahan=this.form.nama_bahan,this.data.items[a].stok=this.form.stok,this.data.items[a].rp_jual=this.form.rp_jual,this.data.items[a].jumlah=this.form.jumlah,this.data.items[a].subtotal=this.form.subtotal,this.data.items[a].harga_up=this.form.harga_up,this.data.items[a].jumlah_up=this.form.jumlah_up,this.data.items[a].diskon_persen=this.form.diskon_persen,this.data.items[a].diskon=this.form.diskon,this.form.staEdit=!1,this.form.indexEdit="",this.resetForm()},deleteItem:function(a){this.data.items.splice(a,1)},showCustomer:function(){this.customer.dialog=!0},getCustomer:function(a){this.data.kodeCustomer=a.kode,this.data.namaCustomer=a.nama,this.customer.dialog=!1},showBarang:function(){this.barang.dialog=!0},getBarang:function(a){for(var t=this,e=0;e<this.data.items.length;e++)if(a.kode_bahan==this.data.items[e].kode_bahan)return void this.$notify({type:"error",text:"Barang Sudah Ada, mohon koreksi kembali"});this.form.kode_bahan=a.kode_bahan,this.form.barcode=a.barcode,this.form.nama_bahan=a.nama_bahan,this.form.stok=a.stok,this.form.rp_jual=a.rp_jual,this.form.harga_up=a.rp_jual,this.form.jumlah_up=a.stok,this.barang.dialog=!1,setTimeout((function(){t.$refs.inputJumlah.focus()}),100)},tambahItem:function(){if(""!=this.form.kode_bahan)if(0!=this.form.jumlah){if(this.form.jumlah>this.form.stok||this.form.jumlah<0)return this.$notify({type:"warning",text:"Mohon Cek Kembali Jumlah"}),void(this.form.jumlah=0);this.data.items.push(Object(s["a"])({},this.form)),this.resetForm()}else this.$notify({type:"warning",text:"Jumlah harus lebih dari 0"});else this.$notify({type:"warning",text:"Silahkan pilih barang dahulu"})},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.loading=!0,a.data.user=a.$store.state.auth.user.name.toUpperCase(),t.next=4,B.a.post("penjualan/transaksi/create",a.data).then((function(t){200==t.status?(a.data.noBukti=t.data.no_bukti,na()("Sukses",t.data.message,"success"),a.resetAll()):na()("Gagal",t.data.error,"error")})).catch((function(a){na()("Gagal","Simpan Transaksi Gagal : "+a,"error")}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},devCreate:function(){var a=this;na()("Sukses","TEST","success",{buttons:{cetak:"Cetak"}}).then((function(t){switch(t){case"cetak":a.print();break;default:a.print();break}}))},print:function(){var a=this;this.invoice.dialog=!0,this.loadPrint(),setTimeout((function(){window.print()}),1e3),setTimeout((function(){a.invoice.dialog=!1}),1e3)},loadPrint:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("penjualan/transaksi/print",{noBukti:a.data.noBukti}).then((function(t){200==t.status?a.invoice.items=t.data.data:a.$notify({type:"error",text:t.data.message})}));case 2:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.form.kode_bahan="",this.form.barcode="",this.form.nama_bahan="",this.form.stok="",this.form.rp_jual="",this.form.jumlah="",this.form.subtotal="",this.form.diskon_persen="0",this.form.diskon="0",this.form.staEdit=!1,this.form.indexEdit=""},resetAll:function(){this.data.items=[],this.data.loading=!1,this.data.search="",this.data.kodeCustomer="",this.data.namaCustomer="",this.data.bayar="",this.data.pickerTanggal=!1,this.data.tanggal=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),this.resetForm()},totalKotorTransaksi:function(){for(var a=0,t=0;t<this.data.items.length;t++)a+=this.data.items[t].jumlah*this.data.items[t].rp_jual;return this.data.total_kotor=a,a},totalBersihTransaksi:function(){for(var a=0,t=0;t<this.data.items.length;t++)a+=this.data.items[t].jumlah*this.data.items[t].rp_jual-this.data.items[t].jumlah*this.data.items[t].diskon;return this.data.total_bersih=a,a},totalDiskon:function(){for(var a=0,t=0;t<this.data.items.length;t++)a+=this.data.items[t].jumlah*this.data.items[t].diskon;return this.data.diskon=a,a},kembalian:function(){return"tunai"!=this.data.jenisBayar?(this.data.bayar=0,0):this.data.bayar-this.totalBersihTransaksi()},staTunai:function(){return"tunai"==this.data.jenisBayar}},computed:{isValid:function(){return this.data.items.length>0&&""!=this.data.kodeCustomer&&""!=this.data.jenisBayar&&this.kembalian()>=0},diskonPersen:function(){return this.form.diskon_persen}},watch:{diskonPersen:function(){return this.form.diskon_persen>100?(alert("Tidak Boleh Melebihi 100%"),void(this.form.diskon_persen=0)):this.form.diskon_persen<0?(alert("Tidak Boleh Kurang 0%"),void(this.form.diskon_persen=0)):void(this.form.diskon=this.form.diskon_persen/100*this.form.rp_jual)}}}),We=qe,Qe=Object(u["a"])(We,Ye,ze,!1,null,null,null),Xe=Qe.exports;v()(Qe,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VChip:Ca["a"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDatePicker:le["a"],VDialog:Ea["a"],VDivider:oa["a"],VIcon:_["a"],VMenu:ce["a"],VRadio:Gt["a"],VRadioGroup:Ht["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var Ze=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("h2",[a._v("LIST TRANSAKSI PENJUALAN")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{elevation:"0",rounded:"lg"}},[e("v-card-text",[e("div",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{attrs:{color:"success",rounded:"",to:"/penjualan/transaksi/input"}},[e("v-icon",[a._v("mdi-plus-thick")]),a._v("Tambah Penjualan")],1)],1),e("div",{staticClass:"mr-2"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Awal",value:a.formatDate(a.periode.tanggal1),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal1,callback:function(t){a.$set(a.periode,"pickerTanggal1",t)},expression:"periode.pickerTanggal1"}},[e("v-date-picker",{on:{change:function(t){return a.loadData()},input:function(t){a.periode.pickerTanggal1=!1}},model:{value:a.periode.tanggal1,callback:function(t){a.$set(a.periode,"tanggal1",t)},expression:"periode.tanggal1"}})],1)],1),e("div",{staticClass:"mr-2"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Akhir",value:a.formatDate(a.periode.tanggal2),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal2,callback:function(t){a.$set(a.periode,"pickerTanggal2",t)},expression:"periode.pickerTanggal2"}},[e("v-date-picker",{on:{change:function(t){return a.loadData()},input:function(t){a.periode.pickerTanggal2=!1}},model:{value:a.periode.tanggal2,callback:function(t){a.$set(a.periode,"tanggal2",t)},expression:"periode.tanggal2"}})],1)],1),e("div",[e("v-text-field",{staticClass:"mr-2",attrs:{label:"Pencarian",clearable:"",dense:"",outlined:"","append-icon":"mdi-magnify"},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel "),e("v-icon",[a._v("mdi-download")])],1),e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("Refresh "),e("v-icon",[a._v("mdi-refresh")])],1)],1),e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:""},scopedSlots:a._u([{key:"item.tanggal",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatDateTime2(e.tgl_update))+" ")]}},{key:"item.pembayaran",fn:function(t){var e=t.item;return[a._v(" "+a._s(e.pembayaran.toUpperCase())+" ")]}},{key:"item.detail",fn:function(t){var n=t.item;return a._l(n.detail,(function(t,n){return e("v-list-item",{key:n,attrs:{"two-line":""}},[e("v-list-item-content",[e("v-list-item-title",[a._v(a._s(t.nama_bahan))]),e("v-list-item-subtitle",{staticClass:"d-flex justify-space-around"},[a._v(a._s(t.jumlah)+" x "+a._s(t.rp_jual)+" Disc. "+a._s(t.diskon_item)+" "),e("v-spacer"),a._v(" "+a._s(a.formatNumber(t.jumlah*(t.rp_jual-t.diskon_item))))],1)],1)],1)}))}},{key:"item.total_kotor",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.total_kotor))+" ")]}},{key:"item.diskon",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.diskon))+" ")]}},{key:"item.total_net",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.total_net))+" ")]}},{key:"item.bayar",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.bayar))+" ")]}},{key:"item.kembali",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.kembali))+" ")]}},{key:"item.opsi",fn:function(t){var n=t.item;return[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.print(n.no_bukti)}}},[e("v-icon",[a._v("mdi-receipt")])],1)]}}],null,!0)})],1)],1)],1)],1)],1),e("v-dialog",{attrs:{scrollable:"",fullscreen:"",overlay:!1,"max-width":"500px",transition:"dialog-transition"},model:{value:a.invoice.dialog,callback:function(t){a.$set(a.invoice,"dialog",t)},expression:"invoice.dialog"}},[e("v-card",{attrs:{elevation:"0"}},[e("v-col",{staticClass:"pa-0"},[e("v-card-title",{staticClass:"py-1 d-flex justify-space-around"},[e("div",{staticClass:"text-h4"},[e("strong",[a._v("BINTANG WALET")])]),e("v-spacer"),e("v-chip",{attrs:{label:"",outlined:"",color:"black",large:""}},[e("div",{staticClass:"text-h5"},[a._v("NOTA PENJUALAN")])])],1),e("hr"),e("v-card-text",[e("table",[e("tr",[e("td",[a._v("No. Nota")]),e("td",[a._v(": "+a._s(a.invoice.items[0].no_bukti))])]),e("tr",[e("td",[a._v("Pembayaran")]),e("td",[a._v(": "+a._s(a.invoice.items[0].pembayaran.toUpperCase()))])]),e("tr",[e("td",[a._v("Customer")]),e("td",[a._v(": "+a._s(a.invoice.items[0].nama))])]),e("tr",[e("td",[a._v("Tanggal")]),e("td",[a._v(": "+a._s(a.formatDateTime(a.invoice.items[0].tgl_update)))])])]),e("table",{staticClass:"tabledetail mt-4",attrs:{width:"100%"}},[e("thead",[e("tr",[e("th",[a._v("No.")]),e("th",[a._v("Nama Barang")]),e("th",[a._v("Satuan")]),e("th",[a._v("Jumlah")]),e("th",[a._v("Harga Satuan")]),e("th",[a._v("Subtotal")]),e("th",[a._v("Diskon")])])]),e("tbody",[a._l(a.invoice.items,(function(t,n){return e("tr",{key:t.urut},[e("td",[a._v(a._s(n+1))]),e("td",[a._v(a._s(t.nama_bahan))]),e("td",[a._v(a._s(t.unit))]),e("td",{attrs:{align:"right"}},[a._v(a._s(a.formatNumber(t.jumlah)))]),e("td",{attrs:{align:"right"}},[a._v(a._s(a.formatNumber(t.rp_jual)))]),e("td",{attrs:{align:"right"}},[a._v(" "+a._s(a.formatNumber(t.jumlah*t.rp_jual))+" ")]),e("td",{attrs:{align:"right"}},[a._v(" "+a._s(a.formatNumber(t.jumlah*t.diskon_item))+" ")])])})),e("tr",[e("td",{attrs:{align:"right",colspan:"6"}},[a._v("Total Rp.")]),e("td",{attrs:{align:"right"}},[e("strong",[a._v(" "+a._s(a.formatNumber(a.invoice.items[0].total_kotor)))])])]),e("tr",[e("td",{attrs:{align:"right",colspan:"6"}},[a._v("Total Diskon Rp.")]),e("td",{attrs:{align:"right"}},[e("strong",[a._v(a._s(a.formatNumber(a.invoice.items[0].diskon)))])])]),e("tr",[e("td",{attrs:{align:"right",colspan:"6"}},[a._v("Total Pembayaran Rp.")]),e("td",{attrs:{align:"right"}},[e("strong",[a._v(a._s(a.formatNumber(a.invoice.items[0].total_net)))])])])],2)]),e("div",{staticClass:"d-flex justify-end"},[e("v-col",{attrs:{cols:"3"}},[e("div",{staticClass:"d-flex justify-center"},[a._v("Kasir/Admin")]),e("v-spacer",{staticClass:"my-12"}),e("div",{staticClass:"d-flex justify-center"},[e("u",[e("strong",[a._v(" "+a._s(a.invoice.items[0].user))])])])],1)],1),e("v-divider",{staticClass:"my-2"})],1)],1)],1)],1)],1)},an=[],tn={data:function(){return{periode:{pickerTanggal1:!1,tanggal1:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,7)+"-01",pickerTanggal2:!1,tanggal2:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},data:{headers:[{text:"TANGGAL",value:"tanggal",divider:!0},{text:"NO. BUKTI",value:"no_bukti",divider:!0},{text:"METODE",value:"pembayaran",divider:!0},{text:"CUSTOMER",value:"nama",divider:!0},{text:"DETAIL",value:"detail",divider:!0},{text:"TOTAL TRANSAKSI",value:"total_kotor",align:"right",divider:!0},{text:"TOTAL DISKON",value:"diskon",align:"right",divider:!0},{text:"TOTAL BERSIH",value:"total_net",align:"right",divider:!0},{text:"BAYAR",value:"bayar",align:"right",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:"",noBukti:""},invoice:{dialog:!1,items:[{no_bukti:"",pembayaran:"",user:"",tgl_update:"",total_kotor:"",total_net:"",diskon:"",bayar:"",kembali:""}]}}},mounted:function(){this.loadData()},methods:{loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.loading=!0,t.next=3,B.a.post("penjualan/transaksi",{tanggal1:a.periode.tanggal1,tanggal2:a.periode.tanggal2}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"succcess",text:t.data.message})):a.$notify({type:"error",text:t.data.message})})).catch((function(t){a.$notify({type:"error",text:t})}));case 3:a.data.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},print:function(a){var t=this;this.data.noBukti=a,this.invoice.dialog=!0,this.loadPrint(),setTimeout((function(){window.print()}),1e3),setTimeout((function(){t.invoice.dialog=!1}),1e3)},resetItems:function(){this.invoice.items=[{no_bukti:"",pembayaran:"",user:"",tgl_update:"",total:"",diskon:"",bayar:"",kembali:""}]},loadPrint:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.resetItems(),t.next=3,B.a.post("penjualan/transaksi/print",{noBukti:a.data.noBukti}).then((function(t){200==t.status?a.invoice.items=t.data.data:a.$notify({type:"error",text:t.data.message})}));case 3:case"end":return t.stop()}}),t)})))()}}},en=tn,nn=(e("86dd"),Object(u["a"])(en,Ze,an,!1,null,"d6c838aa",null)),rn=nn.exports;v()(nn,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VChip:Ca["a"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDatePicker:le["a"],VDialog:Ea["a"],VDivider:oa["a"],VIcon:_["a"],VListItem:w["a"],VListItemContent:j["a"],VListItemSubtitle:j["b"],VListItemTitle:j["c"],VMenu:ce["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var on=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",{staticClass:"d-flex justify-start"},[e("div",[e("v-btn",{staticClass:"mr-3",attrs:{color:"primary",text:"",to:"/penjualan/pengiriman"}},[e("v-icon",{attrs:{large:""}},[a._v("mdi-arrow-left-bold")])],1)],1),e("h2",{staticClass:"mt-1"},[a._v("INPUT PENGIRIMAN")])])],1),e("v-divider",{staticClass:"my-2"}),e("v-row",[e("v-col",{attrs:{cols:"auto",lg:"6"}},[e("v-card",{attrs:{outlined:""}},[e("v-card-text",[e("v-text-field",{attrs:{label:"No. Pengiriman (Otomatis)",dense:"",outlined:"","append-icon":"mdi-truck",readonly:"","background-color":"blue-grey lighten-5"}}),e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal",value:a.formatDate(a.data.tanggal),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","background-color":"light-blue lighten-5"}},"v-text-field",r,!1),n))]}}]),model:{value:a.data.pickerTanggal,callback:function(t){a.$set(a.data,"pickerTanggal",t)},expression:"data.pickerTanggal"}},[e("v-date-picker",{on:{input:function(t){a.data.pickerTanggal=!1}},model:{value:a.data.tanggal,callback:function(t){a.$set(a.data,"tanggal",t)},expression:"data.tanggal"}})],1),e("div",{staticClass:"d-flex justify-space-around"},[e("v-text-field",{staticClass:"mr-2",attrs:{label:"No. Transaksi",dense:"",outlined:"",readonly:"",value:a.data.noTransaksi}}),e("v-btn",{attrs:{color:"light-blue lighten-4"},on:{click:function(t){return a.showTransaksi()}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1)],1)],1)],1),e("v-col",{attrs:{cols:"auto",lg:"6"}},[e("v-card",{attrs:{outlined:""}},[e("v-card-text",[e("v-text-field",{attrs:{label:"Customer",value:a.data.namaCustomer,dense:"",outlined:"","append-icon":"mdi-account",readonly:"","background-color":"blue-grey lighten-5"}}),e("v-text-field",{attrs:{label:"Alamat Customer",value:a.data.alamatCustomer,dense:"",outlined:"","append-icon":"mdi-map-marker",readonly:"","background-color":"blue-grey lighten-5"}}),e("v-text-field",{attrs:{label:"Tanggal Transaksi",value:a.formatDate(a.data.tanggalTrans),dense:"",outlined:"","append-icon":"mdi-calendar-blank-outline",readonly:"","background-color":"blue-grey lighten-5"}})],1)],1)],1)],1),e("v-row",{staticClass:"mt-0"},[e("v-col",[e("v-card",{attrs:{outlined:""}},[e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:""},scopedSlots:a._u([{key:"item.jumlah",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.jumlah))+" ")]}},{key:"item.stok",fn:function(t){var n=t.item;return[a._v(" "+a._s(a.formatNumber(n.stok))),e("v-chip",{staticClass:"ml-2",attrs:{small:"",color:n.jumlah<=n.stok?"success":"error"}})]}}],null,!0)})],1),a.staStok?a._e():e("div",{staticClass:"d-flex justify-end mt-2"},[a._v(" Ada stok yang tidak cukup ")]),e("div",{staticClass:"d-flex justify-end mt-4"},[a.saved.status?e("v-btn",{staticClass:"mr-3",attrs:{color:"primary"},on:{click:function(t){return a.printSj()}}},[e("v-icon",{staticClass:"mr-2"},[a._v("mdi-printer-check")]),a._v(" Cetak Surat Jalan")],1):a._e(),a.saved.status?e("v-btn",{staticClass:"mr-3",attrs:{color:"primary"},on:{click:function(t){return a.printInvoice()}}},[e("v-icon",{staticClass:"mr-2"},[a._v("mdi-printer-check")]),a._v("Cetak Invoice")],1):a._e(),a.staStok?a._e():e("v-btn",{staticClass:"mr-2",attrs:{color:"warning"},on:{click:function(t){return a.batalPesanan()}}},[e("v-icon",{staticClass:"mr-2"},[a._v("mdi-close-thick")]),a._v(" BATAL PESANAN")],1),e("v-btn",{staticClass:"mr-2",on:{click:function(t){return a.resetAll()}}},[e("v-icon",{staticClass:"mr-2"},[a._v("mdi-refresh-circle")]),a._v(" RESET")],1),e("v-btn",{attrs:{color:"success",disabled:!a.isValid},on:{click:function(t){return a.create()}}},[e("v-icon",{staticClass:"mr-2"},[a._v("mdi-floppy")]),a._v(" SIMPAN")],1)],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.transaksi.dialog,callback:function(t){a.$set(a.transaksi,"dialog",t)},expression:"transaksi.dialog"}},[e("v-card",{staticClass:"pb-4"},[e("v-card-title",[a._v(" LIST TRANSAKSI PENJUALAN ")]),e("v-divider"),e("v-card-text",{staticClass:"mt-2"},[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.transaksi.headers,items:a.transaksi.items,loading:a.transaksi.loading,search:a.transaksi.search,dense:""},scopedSlots:a._u([{key:"item.tanggal",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatDate(e.tanggal))+" ")]}},{key:"item.opsi",fn:function(t){var n=t.item;return[e("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return a.pilihTransaksi(n.no_bukti)}}},[e("v-icon",[a._v("mdi-check-bold")])],1)]}}],null,!0)})],1)],1)],1)],1),e("v-dialog",{attrs:{scrollable:"",fullscreen:"",overlay:!1,"max-width":"500px",transition:"dialog-transition"},model:{value:a.suratjalan.dialog,callback:function(t){a.$set(a.suratjalan,"dialog",t)},expression:"suratjalan.dialog"}},[e("v-card",{attrs:{elevation:"0"}},[e("v-col",{staticClass:"pa-0"},[e("v-card-title",{staticClass:"py-1 d-flex justify-space-around"},[e("div",{staticClass:"text-h4"},[e("strong",[a._v("BINTANG WALET")])]),e("v-spacer"),e("v-chip",{attrs:{label:"",outlined:"",color:"black",large:""}},[e("div",{staticClass:"text-h5"},[a._v("SURAT JALAN")])])],1),e("hr"),e("v-card-text",[e("table",[e("tr",[e("td",[a._v("No. Nota")]),e("td",[a._v(": "+a._s(a.suratjalan.items.no_sj))])]),e("tr",[e("td",[a._v("Customer")]),e("td",[a._v(": "+a._s(a.suratjalan.items.nama))])]),e("tr",[e("td",[a._v("Tanggal")]),e("td",[a._v(": "+a._s(a.formatDate(a.suratjalan.items.tgl_kirim)))])])]),e("table",{staticClass:"tabledetail mt-4",attrs:{width:"100%"}},[e("thead",[e("tr",[e("th",[a._v("No.")]),e("th",[a._v("Nama Barang")]),e("th",[a._v("Unit")]),e("th",[a._v("Jumlah")])])]),e("tbody",[a._l(a.suratjalan.items.detail,(function(t,n){return e("tr",{key:n},[e("td",[a._v(a._s(n+1))]),e("td",[a._v(a._s(t.nama_bahan))]),e("td",{attrs:{align:"right"}},[a._v(a._s(t.unit))]),e("td",{attrs:{align:"right"}},[a._v(a._s(a.formatNumber(t.jumlah)))])])})),e("tr",[e("td",{attrs:{align:"right",colspan:"3"}},[a._v("Total Qty")]),e("td",{attrs:{align:"right"}},[e("strong",[a._v(" "+a._s(a.formatNumber(a.suratjalan.items.tot_qty)))])])])],2)]),e("div",{staticClass:"d-flex justify-end"},[e("v-col",{attrs:{cols:"3"}},[e("div",{staticClass:"d-flex justify-center"},[a._v("Admin")]),e("v-spacer",{staticClass:"my-12"}),e("div",{staticClass:"d-flex justify-center"},[e("u",[e("strong",[a._v(" "+a._s(a.invoice.items[0].user))])])])],1)],1),e("v-divider",{staticClass:"my-2"})],1)],1)],1)],1),e("v-dialog",{attrs:{scrollable:"",fullscreen:"",overlay:!1,"max-width":"500px",transition:"dialog-transition"},model:{value:a.invoice.dialog,callback:function(t){a.$set(a.invoice,"dialog",t)},expression:"invoice.dialog"}},[e("v-card",{attrs:{elevation:"0"}},[e("v-col",{staticClass:"pa-0"},[e("v-card-title",{staticClass:"py-1 d-flex justify-space-around"},[e("div",{staticClass:"text-h4"},[e("strong",[a._v("BINTANG WALET")])]),e("v-spacer"),e("v-chip",{attrs:{label:"",outlined:"",color:"black",large:""}},[e("div",{staticClass:"text-h5"},[a._v("NOTA PENJUALAN")])])],1),e("hr"),e("v-card-text",[e("table",[e("tr",[e("td",[a._v("No. Nota")]),e("td",[a._v(": "+a._s(a.invoice.items[0].no_bukti))])]),e("tr",[e("td",[a._v("Pembayaran")]),e("td",[a._v(": "+a._s(a.invoice.items[0].pembayaran.toUpperCase()))])]),e("tr",[e("td",[a._v("Customer")]),e("td",[a._v(": "+a._s(a.invoice.items[0].nama))])]),e("tr",[e("td",[a._v("Tanggal")]),e("td",[a._v(": "+a._s(a.formatDateTime(a.invoice.items[0].tgl_update)))])])]),e("table",{staticClass:"tabledetail mt-4",attrs:{width:"100%"}},[e("thead",[e("tr",[e("th",[a._v("No.")]),e("th",[a._v("Nama Barang")]),e("th",[a._v("Jumlah")]),e("th",[a._v("Harga")]),e("th",[a._v("Diskon Item")]),e("th",[a._v("Subtotal")])])]),e("tbody",[a._l(a.invoice.items,(function(t,n){return e("tr",{key:t.urut},[e("td",[a._v(a._s(n+1))]),e("td",[a._v(a._s(t.nama_bahan))]),e("td",{attrs:{align:"right"}},[a._v(a._s(a.formatNumber(t.jumlah)))]),e("td",{attrs:{align:"right"}},[a._v(a._s(a.formatNumber(t.rp_jual)))]),e("td",{attrs:{align:"right"}},[a._v(a._s(a.formatNumber(t.diskon_item)))]),e("td",{attrs:{align:"right"}},[a._v(" "+a._s(a.formatNumber(t.jumlah*t.rp_jual))+" ")])])})),e("tr",[e("td",{attrs:{align:"right",colspan:"5"}},[a._v("Total")]),e("td",{attrs:{align:"right"}},[e("strong",[a._v(" "+a._s(a.formatNumber(a.invoice.items[0].total_kotor)))])])]),e("tr",[e("td",{attrs:{align:"right",colspan:"5"}},[a._v("Total Diskon")]),e("td",{attrs:{align:"right"}},[e("strong",[a._v(a._s(a.formatNumber(a.invoice.items[0].diskon)))])])]),e("tr",[e("td",{attrs:{align:"right",colspan:"5"}},[a._v("Total Bersih")]),e("td",{attrs:{align:"right"}},[e("strong",[a._v(a._s(a.formatNumber(a.invoice.items[0].total_net)))])])])],2)]),e("div",{staticClass:"d-flex justify-end"},[e("v-col",{attrs:{cols:"3"}},[e("div",{staticClass:"d-flex justify-center"},[a._v("Kasir/Admin")]),e("v-spacer",{staticClass:"my-12"}),e("div",{staticClass:"d-flex justify-center"},[e("u",[e("strong",[a._v(" "+a._s(a.invoice.items[0].user))])])])],1)],1),e("v-divider",{staticClass:"my-2"})],1)],1)],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},sn=[],dn={data:function(){return{data:{headers:[{text:"KODE BARANG",value:"kode_bahan",divider:!0},{text:"NAMA BARANG",value:"nama_bahan",divider:!0},{text:"JUMLAH",value:"jumlah",divider:!0,align:"right"},{text:"STOK",value:"stok",align:"right"}],items:[],loading:!1,search:"",pickerTanggal:!1,tanggal:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),kodeCustomer:"",namaCustomer:"",alamatCustomer:"",tanggalTrans:"",noTransaksi:"",jenisBayar:"",total_net:"",total:"",totalUp:"",diskon:"",bayar:"",potongan:"",user:this.$store.state.auth.user.name},transaksi:{dialog:!1,headers:[{text:"NO. TRANS",value:"no_bukti",divider:!0},{text:"TANGGAL",value:"tanggal",divider:!0},{text:"NAMA CUST.",value:"nama",divider:!0},{text:"ALAMAT",value:"alamat",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:"",noBukti:""},suratjalan:{dialog:!1,items:[{no_bukti:"",pembayaran:"",user:"",tgl_update:"",total:"",diskon:"",bayar:"",kembali:""}]},invoice:{dialog:!1,items:[{no_bukti:"",pembayaran:"",user:"",tgl_update:"",total_kotor:"",total_net:"",diskon:"",bayar:"",kembali:""}]},saved:{status:!1,noSj:"",noTransaksi:""}}},methods:{showTransaksi:function(){this.transaksi.dialog=!0,this.loadTransaksi()},loadTransaksi:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("penjualan/transaksi/forpengiriman").then((function(t){200==t.status?a.transaksi.items=t.data.data:a.$notify({type:"error",text:t.data.error})}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},pilihTransaksi:function(a){this.transaksi.noBukti=a,this.transaksi.dialog=!1,this.loadTransaksiDetail()},loadTransaksiDetail:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("penjualan/transaksi/bytransaksi",{noBukti:a.transaksi.noBukti}).then((function(t){200==t.status?(a.data.items=t.data.data.detail,a.data.noTransaksi=t.data.data.no_bukti,a.data.kodeCustomer=t.data.data.kd_customer,a.data.namaCustomer=t.data.data.nama,a.data.alamatCustomer=t.data.data.alamat,a.data.tanggalTrans=t.data.data.tgl_update,a.data.jenisBayar=t.data.data.pembayaran,a.data.total_net=t.data.data.total_net):a.$notify({type:"error",text:t.data.error})}));case 2:case"end":return t.stop()}}),t)})))()},batalPesanan:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.post("penjualan/transaksi/batal",{}).then((function(a){console.log(a)}));case 2:case"end":return a.stop()}}),a)})))()},create:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("penjualan/pengiriman/create",a.data).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.saved.status=!0,a.saved.noSj=t.data.no_bukti,a.saved.noTransaksi=a.data.noTransaksi,a.resetAll()):na()("Gagal",t.data.message,"error")}));case 2:case"end":return t.stop()}}),t)})))()},printSj:function(){this.suratjalan.dialog=!0,this.loadPrintSj()},loadPrintSj:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("LOAD PRINT SJ"),t.next=3,B.a.post("penjualan/pengiriman/bysj",{noSj:a.saved.noSj}).then((function(t){200==t.status?(a.suratjalan.items=t.data.data,setTimeout((function(){window.print()}),1e3),setTimeout((function(){a.suratjalan.dialog=!1}),1e3)):a.$notify({type:"error",text:t.data.message})}));case 3:case"end":return t.stop()}}),t)})))()},printInvoice:function(){this.invoice.dialog=!0,this.loadPrintInvoice()},loadPrintInvoice:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("penjualan/transaksi/print",{noBukti:a.saved.noTransaksi}).then((function(t){200==t.status?(a.invoice.items=t.data.data,setTimeout((function(){window.print()}),1e3),setTimeout((function(){a.invoice.dialog=!1}),1e3)):a.$notify({type:"error",text:t.data.message})}));case 2:case"end":return t.stop()}}),t)})))()},resetAll:function(){this.data.kodeCustomer="",this.data.namaCustomer="",this.data.alamatCustomer="",this.data.tanggalTrans="",this.data.noTransaksi="",this.data.items=[]}},computed:{staStok:function(){for(var a=0,t=0;t<this.data.items.length;t++)this.data.items[t].jumlah>this.data.items[t].stok&&(console.log(this.data.items[t].jumlah<=this.data.items[t].stok),a++);return 0==a},isValid:function(){for(var a=0,t=0;t<this.data.items.length;t++)this.data.items[t].jumlah>this.data.items[t].stok&&(console.log(this.data.items[t].jumlah<=this.data.items[t].stok),a++);return this.data.items.length>0&&""!=this.data.kodeCustomer&&""!=this.data.noTransaksi&&0==a}}},ln=dn,cn=(e("99b8"),Object(u["a"])(ln,on,sn,!1,null,"a61fe6a8",null)),un=cn.exports;v()(cn,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VChip:Ca["a"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDatePicker:le["a"],VDialog:Ea["a"],VDivider:oa["a"],VIcon:_["a"],VMenu:ce["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var mn=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("h2",[a._v("LIST PENGIRIMAN")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{outlined:""}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{attrs:{color:"success",rounded:"",to:"/penjualan/pengiriman/input"}},[e("v-icon",[a._v("mdi-plus-thick")]),a._v("Tambah Data")],1)],1),e("div",{staticClass:"mr-2"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Awal",value:a.formatDate(a.periode.tanggal1),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal1,callback:function(t){a.$set(a.periode,"pickerTanggal1",t)},expression:"periode.pickerTanggal1"}},[e("v-date-picker",{on:{change:function(t){return a.loadData()},input:function(t){a.periode.pickerTanggal1=!1}},model:{value:a.periode.tanggal1,callback:function(t){a.$set(a.periode,"tanggal1",t)},expression:"periode.tanggal1"}})],1)],1),e("div",{staticClass:"mr-2"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Akhir",value:a.formatDate(a.periode.tanggal2),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal2,callback:function(t){a.$set(a.periode,"pickerTanggal2",t)},expression:"periode.pickerTanggal2"}},[e("v-date-picker",{on:{change:function(t){return a.loadData()},input:function(t){a.periode.pickerTanggal2=!1}},model:{value:a.periode.tanggal2,callback:function(t){a.$set(a.periode,"tanggal2",t)},expression:"periode.tanggal2"}})],1)],1),e("div",[e("v-text-field",{attrs:{name:"name",label:"Pencarian",outlined:"",dense:"","hide-details":"",clearable:"","append-icon":"mdi-magnify"},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{worksheet:"Data Pengiriman",name:"Data Pengiriman.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{staticClass:"mt-2",attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:""},scopedSlots:a._u([{key:"item.tanggal",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatDate(e.tanggal))+" ")]}},{key:"item.jumlah",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.jumlah))+" ")]}},{key:"item.opsi",fn:function(t){var n=t.item;return[e("div",{staticClass:"d-flex justify-center"},[e("v-btn",{staticClass:"mr-3",attrs:{color:"primary",small:"",outlined:"",rounded:""},on:{click:function(t){return a.printSj(n.no_sj)}}},[e("v-icon",{staticClass:"mr-2",attrs:{small:""}},[a._v("mdi-printer")]),a._v("SJ")],1),e("v-btn",{attrs:{color:"indigo",dark:"",small:"",outlined:"",rounded:""},on:{click:function(t){return a.printInvoice(n.no_bukti)}}},[e("v-icon",{staticClass:"mr-2",attrs:{small:""}},[a._v("mdi-printer")]),a._v("Nota")],1)],1)]}}],null,!0)})],1)],1)],1)],1)],1),e("v-dialog",{attrs:{scrollable:"",fullscreen:"",overlay:!1,"max-width":"500px",transition:"dialog-transition"},model:{value:a.suratjalan.dialog,callback:function(t){a.$set(a.suratjalan,"dialog",t)},expression:"suratjalan.dialog"}},[e("v-card",{attrs:{elevation:"0"}},[e("v-col",{staticClass:"pa-0"},[e("v-card-title",{staticClass:"py-1 d-flex justify-space-around"},[e("div",{staticClass:"text-h4"},[e("strong",[a._v("BINTANG WALET")])]),e("v-spacer"),e("v-chip",{attrs:{label:"",outlined:"",color:"black",large:""}},[e("div",{staticClass:"text-h5"},[a._v("SURAT JALAN")])])],1),e("hr"),e("v-card-text",[e("table",[e("tr",[e("td",[a._v("No. Nota")]),e("td",[a._v(": "+a._s(a.suratjalan.items.no_sj))])]),e("tr",[e("td",[a._v("Customer")]),e("td",[a._v(": "+a._s(a.suratjalan.items.nama))])]),e("tr",[e("td",[a._v("Tanggal")]),e("td",[a._v(": "+a._s(a.formatDate(a.suratjalan.items.tgl_kirim)))])])]),e("table",{staticClass:"tabledetail mt-4",attrs:{width:"100%"}},[e("thead",[e("tr",[e("th",[a._v("No.")]),e("th",[a._v("Nama Barang")]),e("th",[a._v("Unit")]),e("th",[a._v("Jumlah")])])]),e("tbody",[a._l(a.suratjalan.items.detail,(function(t,n){return e("tr",{key:n},[e("td",[a._v(a._s(n+1))]),e("td",[a._v(a._s(t.nama_bahan))]),e("td",{attrs:{align:"right"}},[a._v(a._s(t.unit))]),e("td",{attrs:{align:"right"}},[a._v(a._s(a.formatNumber(t.jumlah)))])])})),e("tr",[e("td",{attrs:{align:"right",colspan:"3"}},[a._v("Total Qty")]),e("td",{attrs:{align:"right"}},[e("strong",[a._v(" "+a._s(a.formatNumber(a.suratjalan.items.tot_qty)))])])])],2)]),e("div",{staticClass:"d-flex justify-end"},[e("v-col",{attrs:{cols:"3"}},[e("div",{staticClass:"d-flex justify-center"},[a._v("Admin")]),e("v-spacer",{staticClass:"my-12"}),e("div",{staticClass:"d-flex justify-center"},[e("u",[e("strong",[a._v(" "+a._s(a.invoice.items[0].user))])])])],1)],1),e("v-divider",{staticClass:"my-2"})],1)],1)],1)],1),e("v-dialog",{attrs:{scrollable:"",fullscreen:"",overlay:!1,"max-width":"500px",transition:"dialog-transition"},model:{value:a.invoice.dialog,callback:function(t){a.$set(a.invoice,"dialog",t)},expression:"invoice.dialog"}},[e("v-card",{attrs:{elevation:"0"}},[e("v-col",{staticClass:"pa-0"},[e("v-card-title",{staticClass:"py-1 d-flex justify-space-around"},[e("div",{staticClass:"text-h4"},[e("strong",[a._v("BINTANG WALET")])]),e("v-spacer"),e("v-chip",{attrs:{label:"",outlined:"",color:"black",large:""}},[e("div",{staticClass:"text-h5"},[a._v("NOTA PENJUALAN")])])],1),e("hr"),e("v-card-text",[e("table",[e("tr",[e("td",[a._v("No. Nota")]),e("td",[a._v(": "+a._s(a.invoice.items[0].no_bukti))])]),e("tr",[e("td",[a._v("Pembayaran")]),e("td",[a._v(": "+a._s(a.invoice.items[0].pembayaran.toUpperCase()))])]),e("tr",[e("td",[a._v("Customer")]),e("td",[a._v(": "+a._s(a.invoice.items[0].nama))])]),e("tr",[e("td",[a._v("Tanggal")]),e("td",[a._v(": "+a._s(a.formatDateTime(a.invoice.items[0].tgl_update)))])])]),e("table",{staticClass:"tabledetail mt-4",attrs:{width:"100%"}},[e("thead",[e("tr",[e("th",[a._v("No.")]),e("th",[a._v("Nama Barang")]),e("th",[a._v("Satuan")]),e("th",[a._v("Jumlah")]),e("th",[a._v("Harga Satuan")]),e("th",[a._v("Subtotal")]),e("th",[a._v("Diskon")])])]),e("tbody",[a._l(a.invoice.items,(function(t,n){return e("tr",{key:t.urut},[e("td",[a._v(a._s(n+1))]),e("td",[a._v(a._s(t.nama_bahan))]),e("td",[a._v(a._s(t.unit))]),e("td",{attrs:{align:"right"}},[a._v(a._s(a.formatNumber(t.jumlah)))]),e("td",{attrs:{align:"right"}},[a._v(a._s(a.formatNumber(t.rp_jual)))]),e("td",{attrs:{align:"right"}},[a._v(" "+a._s(a.formatNumber(t.jumlah*t.rp_jual))+" ")]),e("td",{attrs:{align:"right"}},[a._v(" "+a._s(a.formatNumber(t.jumlah*t.diskon_item))+" ")])])})),e("tr",[e("td",{attrs:{align:"right",colspan:"6"}},[a._v("Total Rp.")]),e("td",{attrs:{align:"right"}},[e("strong",[a._v(" "+a._s(a.formatNumber(a.invoice.items[0].total_kotor)))])])]),e("tr",[e("td",{attrs:{align:"right",colspan:"6"}},[a._v("Total Diskon Rp.")]),e("td",{attrs:{align:"right"}},[e("strong",[a._v(a._s(a.formatNumber(a.invoice.items[0].diskon)))])])]),e("tr",[e("td",{attrs:{align:"right",colspan:"6"}},[a._v("Total Pembayaran Rp.")]),e("td",{attrs:{align:"right"}},[e("strong",[a._v(a._s(a.formatNumber(a.invoice.items[0].total_net)))])])])],2)]),e("div",{staticClass:"d-flex justify-end"},[e("v-col",{attrs:{cols:"3"}},[e("div",{staticClass:"d-flex justify-center"},[a._v("Kasir/Admin")]),e("v-spacer",{staticClass:"my-12"}),e("div",{staticClass:"d-flex justify-center"},[e("u",[e("strong",[a._v(" "+a._s(a.invoice.items[0].user))])])])],1)],1),e("v-divider",{staticClass:"my-2"})],1)],1)],1)],1)],1)},vn=[],fn={data:function(){return{periode:{pickerTanggal1:!1,tanggal1:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,7)+"-01",pickerTanggal2:!1,tanggal2:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},data:{headers:[{text:"TANGGAL",value:"tanggal",divider:!0},{text:"NO SJ",value:"no_sj",divider:!0},{text:"NO PENJUALAN",value:"no_bukti",divider:!0},{text:"CUSTOMER",value:"nama",divider:!0},{text:"JUMLAH",value:"jumlah",divider:!0,align:"right"},{text:"OPSI",value:"opsi",divider:!0}],items:[],loading:!1,search:""},suratjalan:{dialog:!1,items:[{no_bukti:"",pembayaran:"",user:"",tgl_update:"",total:"",diskon:"",bayar:"",kembali:""}]},invoice:{dialog:!1,items:[{no_bukti:"",pembayaran:"",user:"",tgl_update:"",total_kotor:"",total_net:"",diskon:"",bayar:"",kembali:""}]},saved:{status:!1,noSj:"",noTransaksi:""}}},mounted:function(){this.loadData(0)},methods:{loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.loading=!0,t.next=3,B.a.post("penjualan/pengiriman").then((function(t){200==t.status?a.data.items=t.data.data:a.$notify({type:"error",text:t.data.error})}));case 3:a.data.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},printSj:function(a){this.saved.noSj=a,this.suratjalan.dialog=!0,this.loadPrintSj()},loadPrintSj:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("LOAD PRINT SJ"),t.next=3,B.a.post("penjualan/pengiriman/bysj",{noSj:a.saved.noSj}).then((function(t){200==t.status?(a.suratjalan.items=t.data.data,setTimeout((function(){window.print()}),1e3),setTimeout((function(){a.suratjalan.dialog=!1}),1e3)):a.$notify({type:"error",text:t.data.message})}));case 3:case"end":return t.stop()}}),t)})))()},printInvoice:function(a){this.saved.noTransaksi=a,this.invoice.dialog=!0,this.loadPrintInvoice()},loadPrintInvoice:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("penjualan/transaksi/print",{noBukti:a.saved.noTransaksi}).then((function(t){200==t.status?(a.invoice.items=t.data.data,setTimeout((function(){window.print()}),1e3),setTimeout((function(){a.invoice.dialog=!1}),1e3)):a.$notify({type:"error",text:t.data.message})}));case 2:case"end":return t.stop()}}),t)})))()}}},gn=fn,hn=(e("ba0c"),Object(u["a"])(gn,mn,vn,!1,null,"3dcd36c6",null)),pn=hn.exports;v()(hn,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VChip:Ca["a"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDatePicker:le["a"],VDialog:Ea["a"],VDivider:oa["a"],VIcon:_["a"],VMenu:ce["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var bn=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",{staticClass:"d-flex justify-start"},[e("div",[e("v-btn",{staticClass:"mr-3",attrs:{color:"primary",text:"",to:"/penjualan/return"}},[e("v-icon",{attrs:{large:""}},[a._v("mdi-arrow-left-bold")])],1)],1),e("h2",{staticClass:"mt-1"},[a._v("INPUT RETUR PENJUALAN")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",{attrs:{cols:"auto",lg:"8"}},[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-card-text",[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal",value:a.formatDate(a.data.tanggal),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","background-color":"light-blue lighten-5"}},"v-text-field",r,!1),n)),e("div",{staticClass:"d-flex justify-space-between"},[e("v-text-field",{staticClass:"mr-2",attrs:{value:a.customer.nama+" - "+a.customer.kode,"background-color":"white",dense:"",outlined:"",label:"Customer"}}),e("v-btn",{attrs:{color:"light-blue lighten-5"},on:{click:function(t){return a.showCustomer()}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1)]}}]),model:{value:a.data.pickerTanggal,callback:function(t){a.$set(a.data,"pickerTanggal",t)},expression:"data.pickerTanggal"}},[e("v-date-picker",{on:{input:function(t){a.data.pickerTanggal=!1}},model:{value:a.data.tanggal,callback:function(t){a.$set(a.data,"tanggal",t)},expression:"data.tanggal"}})],1)],1),e("v-col",{attrs:{cols:"6"}},[e("v-textarea",{attrs:{rows:"3",dense:"",outlined:"",label:"Keterangan","background-color":"light-blue lighten-5"},model:{value:a.data.keterangan,callback:function(t){a.$set(a.data,"keterangan",t)},expression:"data.keterangan"}})],1)],1)],1)],1)],1)],1),e("v-row",[e("v-col",[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",[e("div",[e("v-btn",{staticClass:"mr-2",attrs:{color:"success",rounded:"",disabled:""==a.customer.kode,small:""},on:{click:function(t){return a.showForm()}}},[e("v-icon",[a._v("mdi-plus-thick")]),a._v("Tambah Data")],1)],1),""==a.customer.kode?e("div",{staticClass:"d-flex justify-center text-caption"},[a._v(" Pilih customer Dahulu ")]):a._e()]),e("v-spacer"),e("div",[e("v-text-field",{attrs:{label:"Pencarian",dense:"",outlined:"","hide-details":""}})],1)],1),e("v-divider"),e("v-card-text",[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:""},scopedSlots:a._u([{key:"item.subtotal",fn:function(t){var e=t.item;return[a._v(" "+a._s(e.jumlah*e.hargaBeli)+" ")]}},{key:"item.opsi",fn:function(t){var n=t.index;return[e("v-btn",{attrs:{color:"error",text:""},on:{click:function(t){return a.hapusItem(n)}}},[e("v-icon",[a._v("mdi-trash-can-outline")])],1),e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.showUpdateItem(n)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}}],null,!0)})],1),e("v-divider"),e("div",{staticClass:"d-flex justify-space-around mt-2"},[e("v-btn",{staticClass:"mr-2",on:{click:function(t){return a.resetAll()}}},[e("v-icon",[a._v("mdi-refresh")]),a._v(" BARU")],1),e("v-spacer"),a.staView?e("v-btn",{attrs:{color:"warning",disabled:!a.staValid()},on:{click:function(t){return a.updateData()}}},[a._v("UPDATE "),e("v-icon",[a._v("mdi-floppy")])],1):e("v-btn",{attrs:{color:"success",disabled:!a.staValid()},on:{click:function(t){return a.createData()}}},[e("v-icon",[a._v("mdi-floppy")]),a._v("SIMPAN ")],1)],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.customer.dialog,callback:function(t){a.$set(a.customer,"dialog",t)},expression:"customer.dialog"}},[e("v-card",[e("customer-view",{attrs:{staPilih:!0},on:{customer:a.getCustomer}})],1)],1),e("v-dialog",{attrs:{"max-width":"500px",transition:"dialog-transition"},model:{value:a.form.dialog,callback:function(t){a.$set(a.form,"dialog",t)},expression:"form.dialog"}},[e("v-card",{staticClass:"pb-4",attrs:{outlined:""}},[e("v-card-title",{staticClass:"py-2"},[a._v(" Form Detail ")]),e("v-divider"),e("v-card-text",{staticClass:"mt-2"},[e("v-form",{model:{value:a.form.isValid,callback:function(t){a.$set(a.form,"isValid",t)},expression:"form.isValid"}},[e("div",{staticClass:"d-flex justify-space-between"},[e("v-text-field",{staticClass:"mr-2",attrs:{value:a.barang.nama_bahan+" - "+a.barang.kode_bahan,label:"Nama Bahan",dense:"",outlined:""}}),e("v-btn",{attrs:{color:"light-blue lighten-4"},on:{click:function(t){return a.showBarang()}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1),e("v-textarea",{attrs:{rows:"2",rules:a.rules.keterangan,label:"Keterangan",dense:"",outlined:"","background-color":"light-blue lighten-5"},model:{value:a.form.keterangan,callback:function(t){a.$set(a.form,"keterangan",t)},expression:"form.keterangan"}}),e("v-row",{staticClass:"d-flex justify-space-between"},[e("v-col",[e("v-text-field",{attrs:{rules:a.rules.jumlah,label:"Jumlah",dense:"",outlined:"",type:"number","background-color":"light-blue lighten-5"},model:{value:a.form.jumlah,callback:function(t){a.$set(a.form,"jumlah",t)},expression:"form.jumlah"}}),e("v-text-field",{attrs:{rules:a.rules.hargaBeli,label:"Harga Beli",dense:"",outlined:"",type:"number","background-color":"light-blue lighten-5"},model:{value:a.form.hargaBeli,callback:function(t){a.$set(a.form,"hargaBeli",t)},expression:"form.hargaBeli"}}),e("v-text-field",{attrs:{value:a.total(),label:"Total",dense:"",readonly:"",type:"number","background-color":"blue-grey lighten-5",outlined:""}})],1)],1),e("v-divider"),e("div",{staticClass:"mt-2 d-flex justify-end"},[a.form.isEdit?e("v-btn",{attrs:{color:"success",rounded:"",small:"",disabled:!a.form.isValid},on:{click:function(t){return a.updateItem()}}},[a._v("Update"),e("v-icon",[a._v("mdi-pen")])],1):e("v-btn",{attrs:{color:"success",rounded:"",small:"",disabled:!a.form.isValid},on:{click:function(t){return a.tambahItem()}}},[a._v("Tambahkan"),e("v-icon",[a._v("mdi-plus-box")])],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.barang.dialog,callback:function(t){a.$set(a.barang,"dialog",t)},expression:"barang.dialog"}},[e("v-card",[e("barang-view",{attrs:{jenis:"masuk",staPilih:!0},on:{barang:a.getBarang}})],1)],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},kn=[],_n={components:{CustomerView:Tt,BarangView:ft},data:function(){return{data:{headers:[{text:"KODE",value:"kode_bahan",divider:!0},{text:"NAMA BARANG",value:"nama_bahan",divider:!0},{text:"JUMLAH",value:"jumlah",align:"right",divider:!0},{text:"STOCK",value:"stok",align:"right",divider:!0},{text:"HARGA RETUR (Rp)",value:"hargaBeli",align:"right",divider:!0},{text:"SUBTOTAL",value:"subtotal",align:"right",divider:!0},{text:"KETERANGAN",value:"keterangan",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:"",kodeCustomer:"",pickerTanggal:!1,pickerTglKirim:!1,tanggal:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),tglKirim:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),keterangan:"",potongan:0,no_retur:"",user:this.$store.state.auth.user.name},customer:{dialog:!1,kode:"",nama:""},form:{kode_bahan:"",nama_bahan:"",jumlah:0,stok:0,hargaBeli:"",rp_jual:"",keterangan:"",isValid:!1,dialog:!1,isEdit:!1,indexEdit:""},rules:{kode_bahan:[function(a){return""!=a||"Pilih Nama Bahan"}],jumlah:[function(a){return a>0||"Jumlah harus lebih dari 0"}],hargaBeli:[function(a){return a>0||"Harga Beli harus lebih dari 0"}],keterangan:[function(a){return a>""||"Keterangan Harus Diisi"}]},barang:{dialog:!1,kode_bahan:"",nama_bahan:"",stok:"",rp_jual:""},po:{dialog:!1,kd_customer:"",nama:"",doc:{kd_customer:"",nama:""},detail:[]},staView:!1,staUpdate:!1}},mounted:function(){},methods:{showUpdateItem:function(a){this.form.indexEdit=a,this.form.isEdit=!0,this.form.dialog=!0,this.form.kode_bahan=this.data.items[a].kode_bahan,this.form.nama_bahan=this.data.items[a].nama_bahan,this.barang.kode_bahan=this.data.items[a].kode_bahan,this.barang.nama_bahan=this.data.items[a].nama_bahan,this.form.jumlah=this.data.items[a].jumlah,this.form.hargaBeli=this.data.items[a].hargaBeli,this.form.rp_jual=this.data.items[a].rp_jual,this.form.stok=this.data.items[a].stok,this.barang.rp_jual=this.data.items[a].rp_jual,this.barang.stok=this.data.items[a].stok,this.form.keterangan=this.data.items[a].keterangan},updateItem:function(){if(""!=this.barang.kode_bahan&&null!=this.barang.kode_bahan){this.form.kode_bahan=this.barang.kode_bahan,this.form.nama_bahan=this.barang.nama_bahan,this.form.stok=this.barang.stok,this.form.rp_jual=this.barang.rp_jual;var a=this.form.indexEdit;this.data.items[a].kode_bahan=this.form.kode_bahan,this.data.items[a].nama_bahan=this.form.nama_bahan,this.data.items[a].jumlah=this.form.jumlah,this.data.items[a].hargaBeli=this.form.hargaBeli,this.data.items[a].rp_jual=this.form.rp_jual,this.data.items[a].stok=this.form.stok,this.data.items[a].keterangan=this.form.keterangan,this.resetForm(),this.form.isEdit=!1,this.form.dialog=!1}else this.$notify({type:"error",text:"Pilih Nama Bahan"})},showPo:function(){this.po.dialog=!0},getPo:function(a){this.po.no_po=a.no_po,this.data.no_po=a.no_po,this.po.dialog=!1,this.loadPo()},loadRetur:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("penjualan/retur/byretur",{no_retur:a.data.no_retur}).then((function(t){if(200==t.status){a.staView=!0,a.po.doc=t.data.dataDoc,a.data.keterangan=t.data.dataDoc.keterangan,a.data.potongan=t.data.dataDoc.diskon,a.data.items=t.data.dataDetail,a.customer.kode=t.data.dataDoc.kd_customer,a.customer.nama=t.data.dataDoc.nama,a.data.kodeCustomer=t.data.dataDoc.kd_customer,a.data.tanggal=t.data.dataDoc.tgl_po,a.data.tglKirim=t.data.dataDoc.tgl_kirim;for(var e=0;e<t.data.dataDetail.length;e++)a.data.items[e].hargaBeli=t.data.dataDetail[e].harga,a.data.items[e].stok=t.data.dataDetail[e].stock;a.$notify({type:"success",text:t.data.message})}else a.$notify({type:"error",text:t.data.error})}));case 2:case"end":return t.stop()}}),t)})))()},showCustomer:function(){this.customer.dialog=!0},getCustomer:function(a){this.customer.kode=a.kode,this.customer.nama=a.nama,this.data.kodeCustomer=a.kode,this.customer.dialog=!1},showForm:function(){this.form.dialog=!0},showBarang:function(){this.barang.dialog=!0},getBarang:function(a){for(var t=0;t<this.data.items.length;t++)if(a.kode_bahan==this.data.items[t].kode_bahan)return void this.$notify({type:"error",text:"Bahan dengan Keteranan Sudah Ada, mohon koreksi kembali"});this.barang.kode_bahan=a.kode_bahan,this.barang.nama_bahan=a.nama_bahan,this.barang.stok=a.stok,this.barang.rp_jual=a.rp_jual,this.barang.dialog=!1},tambahItem:function(){if(""!=this.barang.kode_bahan&&null!=this.barang.kode_bahan){for(var a=0;a<this.data.items.length;a++)if(this.barang.kode_bahan==this.data.items[a].kode_bahan)return void this.$notify({type:"error",text:"Bahan Sudah Ada, mohon koreksi kembali"});this.form.kode_bahan=this.barang.kode_bahan,this.form.nama_bahan=this.barang.nama_bahan,this.form.stok=this.barang.stok,this.form.rp_jual=this.barang.rp_jual,this.data.items.push(Object(s["a"])({},this.form)),this.resetForm(),this.form.dialog=!1}else this.$notify({type:"error",text:"Pilih Nama Bahan"})},resetAll:function(){this.staView=!1,this.data.kodeCustomer="",this.data.keterangan="",this.data.potongan=0,this.data.no_po="",this.barang.kode_bahan="",this.barang.nama_bahan="",this.barang.dialog=!1,this.customer.kode="",this.customer.nama="",this.data.items=[],this.form={kode_bahan:"",nama_bahan:"",jumlah:0,stok:0,hargaBeli:"",rp_jual:"",keterangan:"",dialog:!1}},resetForm:function(){this.barang.kode_bahan="",this.barang.nama_bahan="",this.form={kode_bahan:"",nama_bahan:"",jumlah:0,stok:0,hargaBeli:"",rp_jual:"",keterangan:"",dialog:!1}},total:function(){return this.form.jumlah*this.form.hargaBeli},subtotal:function(){for(var a=0,t=0;t<this.data.items.length;t++)a+=this.data.items[t].jumlah*this.data.items[t].hargaBeli;return a},bayar:function(){return this.subtotal()-this.data.potongan},hapusItem:function(a){this.data.items.splice(a,1)},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=a.data.kodeCustomer){t.next=3;break}return a.$notify({type:"error",text:"Mohon isi customer"}),t.abrupt("return");case 3:return a.data.loading=!0,t.next=6,B.a.post("penjualan/return/create",a.data).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.data.items=[],a.data.kodeCustomer="",a.customer.kode="",a.customer.nama="",a.resetAll()):a.$notify({type:"error",text:t.error})})).catch((function(a){na()("Gagal","Ada masalah di client "+a,"error")}));case 6:a.data.loading=!1;case 7:case"end":return t.stop()}}),t)})))()},updateData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=a.data.kodeCustomer){t.next=3;break}return a.$notify({type:"error",text:"Mohon isi customer"}),t.abrupt("return");case 3:return a.data.loading=!0,t.next=6,B.a.post("pembelian/po/update",a.data).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.data.items=[],a.data.kodeCustomer="",a.customer.kode="",a.customer.nama="",a.resetAll()):a.$notify({type:"error",text:t.error})})).catch((function(a){na()("Gagal","Ada masalah di client "+a,"error")}));case 6:a.data.loading=!1;case 7:case"end":return t.stop()}}),t)})))()},staValid:function(){return 0!=this.data.items.length}},computed:{}},xn=_n,Dn=Object(u["a"])(xn,bn,kn,!1,null,null,null),wn=Dn.exports;v()(Dn,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDatePicker:le["a"],VDialog:Ea["a"],VDivider:oa["a"],VForm:sa["a"],VIcon:_["a"],VMenu:ce["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"],VTextarea:pe["a"]});var yn=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("h2",[a._v("LIST RETURN PENJUALAN")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{attrs:{color:"success",rounded:"",to:"/penjualan/return/input"}},[e("v-icon",{staticClass:"mr-2"},[a._v("mdi-plus-thick")]),a._v("Tambah Return")],1)],1),e("div",{staticClass:"mr-2"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Awal",value:a.formatDate(a.periode.tanggal1),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal1,callback:function(t){a.$set(a.periode,"pickerTanggal1",t)},expression:"periode.pickerTanggal1"}},[e("v-date-picker",{on:{change:function(t){return a.loadData()},input:function(t){a.periode.pickerTanggal1=!1}},model:{value:a.periode.tanggal1,callback:function(t){a.$set(a.periode,"tanggal1",t)},expression:"periode.tanggal1"}})],1)],1),e("div",{staticClass:"mr-2"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Akhir",value:a.formatDate(a.periode.tanggal2),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal2,callback:function(t){a.$set(a.periode,"pickerTanggal2",t)},expression:"periode.pickerTanggal2"}},[e("v-date-picker",{on:{change:function(t){return a.loadData()},input:function(t){a.periode.pickerTanggal2=!1}},model:{value:a.periode.tanggal2,callback:function(t){a.$set(a.periode,"tanggal2",t)},expression:"periode.tanggal2"}})],1)],1),e("div",[e("v-text-field",{attrs:{label:"Pencarian",outlined:"",dense:"","hide-details":"",clearable:"","append-icon":"mdi-magnify"},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{fetch:a.fetchData,worksheet:"Data Return Penjualan",name:"Data Return Penjualan.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:""},scopedSlots:a._u([{key:"item.opsi",fn:function(t){var n=t.item;return[a.staPilih?e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.pilihTerima(n.no_bukti,n.no_po)}}},[e("v-icon",[a._v("mdi-check-bold")])],1):e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadDetail(n.no_bukti,n.no_po)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}},{key:"item.nama",fn:function(t){var e=t.item;return[a._v(" "+a._s(e.nama)+" ")]}},{key:"item.tanggal",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatDate(e.tanggal))+" ")]}}],null,!0)})],1)],1)],1)],1)],1)],1)},jn=[],Tn={props:["staPilih"],data:function(){return{periode:{pickerTanggal1:!1,tanggal1:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,7)+"-01",pickerTanggal2:!1,tanggal2:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},data:{headers:[{text:"NO. BUKTI",value:"no_retur",divider:!0},{text:"TANGGAL",value:"tanggal",divider:!0},{text:"CUSTOMER",value:"nama",divider:!0},{text:"KETERANGAN",value:"keterangan",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:""}}},mounted:function(){this.loadData()},methods:{loadDetail:function(a){this.$router.push({path:"/penjualan/return/input",query:{noRetur:a}})},loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("penjualan/return",{tanggal1:a.periode.tanggal1,tanggal2:a.periode.tanggal2}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(t){a.$notify({type:"error",text:t})}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},fetchData:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.post("master/customer");case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}),a)})))()},pilihReturn:function(a){this.$emit("retur",{no_retur:a})}}},Cn=Tn,An=Object(u["a"])(Cn,yn,jn,!1,null,null,null),Vn=An.exports;v()(An,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDatePicker:le["a"],VDivider:oa["a"],VIcon:_["a"],VMenu:ce["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var Rn=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",{staticClass:"d-flex justify-start"},[e("div",[e("v-btn",{staticClass:"mr-3",attrs:{color:"primary",text:"",to:"/adjustment"}},[e("v-icon",{attrs:{large:""}},[a._v("mdi-arrow-left-bold")])],1)],1),e("h2",{staticClass:"mt-1"},[a._v(" INPUT ADJUSTMENT (PEMASUKAN/PENGELUARAN) - "+a._s(a.data.noBukti)+" ")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",{attrs:{cols:"auto",lg:"8"}},[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-card-text",[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal",value:a.formatDate(a.data.tanggal),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"",disabled:"","background-color":"light-blue lighten-5"}},"v-text-field",r,!1),n)),e("v-select",{attrs:{disabled:a.data.items.length>0,items:["Pemasukan","Pengeluaran"],label:"Jenis (Pemasukan/Pengeluaran)",dense:"",outlined:""},model:{value:a.data.jenis,callback:function(t){a.$set(a.data,"jenis",t)},expression:"data.jenis"}})]}}]),model:{value:a.data.pickerTanggal,callback:function(t){a.$set(a.data,"pickerTanggal",t)},expression:"data.pickerTanggal"}},[e("v-date-picker",{on:{input:function(t){a.data.pickerTanggal=!1}},model:{value:a.data.tanggal,callback:function(t){a.$set(a.data,"tanggal",t)},expression:"data.tanggal"}})],1)],1),e("v-col",{attrs:{cols:"6"}},[e("v-textarea",{attrs:{rows:"3",dense:"",outlined:"",label:"Keterangan","background-color":"light-blue lighten-5"},model:{value:a.data.keterangan,callback:function(t){a.$set(a.data,"keterangan",t)},expression:"data.keterangan"}})],1)],1)],1)],1)],1)],1),e("v-row",[e("v-col",[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",[e("div",[e("v-btn",{staticClass:"mr-2",attrs:{color:"success",rounded:"",disabled:""==a.data.jenis||1==a.staView,small:""},on:{click:function(t){return a.showForm()}}},[e("v-icon",[a._v("mdi-plus-thick")]),a._v("Tambah Data")],1)],1),""==a.data.jenis?e("div",{staticClass:"d-flex justify-center text-caption"},[a._v(" Pilih Jenis Dahulu ")]):a._e()]),e("v-spacer"),e("div",[e("v-text-field",{attrs:{label:"Pencarian",dense:"",outlined:"","hide-details":""}})],1)],1),e("v-divider"),e("v-card-text",[e("v-card",{attrs:{outlined:"",rounded:"lg"}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:""},scopedSlots:a._u([{key:"item.subtotal",fn:function(t){var e=t.item;return[a._v(" "+a._s(e.jumlah*e.harga)+" ")]}},{key:"item.opsi",fn:function(t){var n=t.index;return[e("v-btn",{attrs:{color:"error",text:"",disabled:a.staView},on:{click:function(t){return a.hapusItem(n)}}},[e("v-icon",[a._v("mdi-trash-can-outline")])],1),e("v-btn",{attrs:{color:"primary",text:"",disabled:a.staView},on:{click:function(t){return a.showUpdateItem(n)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}}],null,!0)})],1),e("v-divider"),e("div",{staticClass:"d-flex justify-space-around mt-2"},[e("v-btn",{staticClass:"mr-2",on:{click:function(t){return a.resetAll()}}},[e("v-icon",[a._v("mdi-refresh")]),a._v(" BARU")],1),e("v-spacer"),a.staView?e("v-btn",{attrs:{color:"warning",disabled:!a.staValid()},on:{click:function(t){return a.updateData()}}},[a._v("UPDATE "),e("v-icon",[a._v("mdi-floppy")])],1):e("v-btn",{attrs:{color:"success",disabled:!a.staValid()},on:{click:function(t){return a.createData()}}},[e("v-icon",[a._v("mdi-floppy")]),a._v("SIMPAN ")],1)],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.customer.dialog,callback:function(t){a.$set(a.customer,"dialog",t)},expression:"customer.dialog"}},[e("v-card",[e("customer-view",{attrs:{staPilih:!0},on:{customer:a.getCustomer}})],1)],1),e("v-dialog",{attrs:{"max-width":"500px",transition:"dialog-transition"},model:{value:a.form.dialog,callback:function(t){a.$set(a.form,"dialog",t)},expression:"form.dialog"}},[e("v-card",{staticClass:"pb-4",attrs:{outlined:""}},[e("v-card-title",{staticClass:"py-2"},[a._v(" Form Detail ")]),e("v-divider"),e("v-card-text",{staticClass:"mt-2"},[e("v-form",{model:{value:a.form.isValid,callback:function(t){a.$set(a.form,"isValid",t)},expression:"form.isValid"}},[e("div",{staticClass:"d-flex justify-space-between"},[e("v-text-field",{staticClass:"mr-2",attrs:{value:a.barang.nama_bahan+" - "+a.barang.kode_bahan,label:"Nama Bahan",dense:"",outlined:""}}),e("v-btn",{attrs:{color:"light-blue lighten-4"},on:{click:function(t){return a.showBarang()}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1),e("v-textarea",{attrs:{rows:"2",rules:a.rules.keterangan,label:"Keterangan",dense:"",outlined:"","background-color":"light-blue lighten-5"},model:{value:a.form.keterangan,callback:function(t){a.$set(a.form,"keterangan",t)},expression:"form.keterangan"}}),e("v-row",{staticClass:"d-flex justify-space-between"},[e("v-col",[e("v-text-field",{attrs:{rules:a.rules.jumlah,label:"Jumlah",dense:"",outlined:"",type:"number","background-color":"light-blue lighten-5"},model:{value:a.form.jumlah,callback:function(t){a.$set(a.form,"jumlah",t)},expression:"form.jumlah"}}),"Pemasukan"==a.data.jenis?e("v-text-field",{attrs:{rules:a.rules.harga,label:"Harga Beli",dense:"",outlined:"",type:"number","background-color":"light-blue lighten-5"},model:{value:a.form.harga,callback:function(t){a.$set(a.form,"harga",t)},expression:"form.harga"}}):a._e(),e("v-text-field",{attrs:{value:a.total(),label:"Total",dense:"",readonly:"",type:"number","background-color":"blue-grey lighten-5",outlined:""}})],1)],1),e("v-divider"),e("div",{staticClass:"mt-2 d-flex justify-end"},[a.form.isEdit?e("v-btn",{attrs:{color:"success",rounded:"",small:"",disabled:!a.form.isValid},on:{click:function(t){return a.updateItem()}}},[a._v("Update"),e("v-icon",[a._v("mdi-pen")])],1):e("v-btn",{attrs:{color:"success",rounded:"",small:"",disabled:!a.form.isValid},on:{click:function(t){return a.tambahItem()}}},[a._v("Tambahkan"),e("v-icon",[a._v("mdi-plus-box")])],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.barang.dialog,callback:function(t){a.$set(a.barang,"dialog",t)},expression:"barang.dialog"}},[e("v-card",[e("barang-view",{attrs:{jenis:a.jenisTrans(),staPilih:!0},on:{barang:a.getBarang}})],1)],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},Sn=[],On={components:{CustomerView:Tt,BarangView:ft},data:function(){return{data:{headers:[{text:"KODE",value:"kode_bahan",divider:!0},{text:"NAMA BARANG",value:"nama_bahan",divider:!0},{text:"JUMLAH",value:"jumlah",align:"right",divider:!0},{text:"STOCK",value:"stok",align:"right",divider:!0},{text:"HARGA ADJUST (Rp)",value:"harga",align:"right",divider:!0},{text:"SUBTOTAL",value:"subtotal",align:"right",divider:!0},{text:"KETERANGAN",value:"keterangan",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:"",jenis:"",pickerTanggal:!1,tanggal:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),keterangan:"",user:this.$store.state.auth.user.name},customer:{dialog:!1,kode:"",nama:""},form:{kode_bahan:"",nama_bahan:"",jumlah:0,stok:0,harga:"",rp_jual:"",keterangan:"",isValid:!1,dialog:!1,isEdit:!1,indexEdit:""},rules:{kode_bahan:[function(a){return""!=a||"Pilih Nama Bahan"}],jumlah:[function(a){return a>0||"Jumlah harus lebih dari 0"}],harga:[function(a){return a>0||"Harga Beli harus lebih dari 0"}],keterangan:[function(a){return a>""||"Keterangan Harus Diisi"}]},barang:{dialog:!1,kode_bahan:"",nama_bahan:"",stok:"",rp_jual:""},po:{dialog:!1,kd_customer:"",nama:"",doc:{kd_customer:"",nama:""},detail:[]},staView:!1}},mounted:function(){""!=this.$route.query.noBukti&&void 0!=this.$route.query.noBukti&&(this.data.noBukti=this.$route.query.noBukti,this.loadData())},methods:{showUpdateItem:function(a){this.form.indexEdit=a,this.form.isEdit=!0,this.form.dialog=!0,this.form.kode_bahan=this.data.items[a].kode_bahan,this.form.nama_bahan=this.data.items[a].nama_bahan,this.barang.kode_bahan=this.data.items[a].kode_bahan,this.barang.nama_bahan=this.data.items[a].nama_bahan,this.form.jumlah=this.data.items[a].jumlah,this.form.harga=this.data.items[a].harga,this.form.rp_jual=this.data.items[a].rp_jual,this.form.stok=this.data.items[a].stok,this.barang.rp_jual=this.data.items[a].rp_jual,this.barang.stok=this.data.items[a].stok,this.form.keterangan=this.data.items[a].keterangan},updateItem:function(){if(""!=this.barang.kode_bahan&&null!=this.barang.kode_bahan){this.form.kode_bahan=this.barang.kode_bahan,this.form.nama_bahan=this.barang.nama_bahan,this.form.stok=this.barang.stok,this.form.rp_jual=this.barang.rp_jual;var a=this.form.indexEdit;this.data.items[a].kode_bahan=this.form.kode_bahan,this.data.items[a].nama_bahan=this.form.nama_bahan,this.data.items[a].jumlah=this.form.jumlah,this.data.items[a].harga=this.form.harga,this.data.items[a].rp_jual=this.form.rp_jual,this.data.items[a].stok=this.form.stok,this.data.items[a].keterangan=this.form.keterangan,this.resetForm(),this.form.isEdit=!1,this.form.dialog=!1}else this.$notify({type:"error",text:"Pilih Nama Bahan"})},showPo:function(){this.po.dialog=!0},getPo:function(a){this.po.no_po=a.no_po,this.data.no_po=a.no_po,this.po.dialog=!1,this.loadPo()},loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("adjustment/bybukti",{noBukti:a.data.noBukti}).then((function(t){if(200==t.status){a.staView=!0,a.data.tanggal=t.data.data.tanggal,a.data.jenis=t.data.data.jenis_trans,a.data.keterangan=t.data.data.keterangan,a.data.items=t.data.data.detail;for(var e=0;e<t.data.dataDetail.length;e++)a.data.items[e].harga=t.data.dataDetail[e].harga,a.data.items[e].stok=t.data.dataDetail[e].stock;a.$notify({type:"success",text:t.data.message})}else a.$notify({type:"error",text:t.data.error})}));case 2:case"end":return t.stop()}}),t)})))()},showCustomer:function(){this.customer.dialog=!0},getCustomer:function(a){this.customer.kode=a.kode,this.customer.nama=a.nama,this.data.kodeCustomer=a.kode,this.customer.dialog=!1},showForm:function(){this.form.dialog=!0},showBarang:function(){this.barang.dialog=!0},getBarang:function(a){for(var t=0;t<this.data.items.length;t++)if(a.kode_bahan==this.data.items[t].kode_bahan)return void this.$notify({type:"error",text:"Bahan dengan Keteranan Sudah Ada, mohon koreksi kembali"});this.barang.kode_bahan=a.kode_bahan,this.barang.nama_bahan=a.nama_bahan,this.barang.stok=a.stok,this.barang.rp_jual=a.rp_jual,this.barang.dialog=!1},tambahItem:function(){if(""!=this.barang.kode_bahan&&null!=this.barang.kode_bahan){for(var a=0;a<this.data.items.length;a++)if(this.barang.kode_bahan==this.data.items[a].kode_bahan)return void this.$notify({type:"error",text:"Bahan Sudah Ada, mohon koreksi kembali"});this.form.kode_bahan=this.barang.kode_bahan,this.form.nama_bahan=this.barang.nama_bahan,this.form.stok=this.barang.stok,this.form.rp_jual=this.barang.rp_jual,this.data.items.push(Object(s["a"])({},this.form)),this.resetForm(),this.form.dialog=!1}else this.$notify({type:"error",text:"Pilih Nama Bahan"})},resetAll:function(){this.staView=!1,this.data.kodeCustomer="",this.data.keterangan="",this.data.potongan=0,this.data.no_po="",this.barang.kode_bahan="",this.barang.nama_bahan="",this.barang.dialog=!1,this.customer.kode="",this.customer.nama="",this.data.items=[],this.form={kode_bahan:"",nama_bahan:"",jumlah:0,stok:0,harga:"",rp_jual:"",keterangan:"",dialog:!1}},resetForm:function(){this.barang.kode_bahan="",this.barang.nama_bahan="",this.form={kode_bahan:"",nama_bahan:"",jumlah:0,stok:0,harga:"",rp_jual:"",keterangan:"",dialog:!1}},total:function(){return this.form.jumlah*this.form.harga},subtotal:function(){for(var a=0,t=0;t<this.data.items.length;t++)a+=this.data.items[t].jumlah*this.data.items[t].harga;return a},bayar:function(){return this.subtotal()-this.data.potongan},hapusItem:function(a){this.data.items.splice(a,1)},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=a.data.jenis){t.next=3;break}return a.$notify({type:"error",text:"Mohon pilih jenis terlebih dahulu"}),t.abrupt("return");case 3:return a.data.loading=!0,t.next=6,B.a.post("adjustment/create",a.data).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.data.items=[],a.data.jenis="",a.resetAll()):a.$notify({type:"error",text:t.error})})).catch((function(a){na()("Gagal","Ada masalah di client "+a,"error")}));case 6:a.data.loading=!1;case 7:case"end":return t.stop()}}),t)})))()},updateData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.loading=!0,t.next=3,B.a.post("adjustment/update",a.data).then((function(t){200==t.status?(na()("Sukses",t.data.message,"success"),a.$router.push("/adjustment"),a.resetAll()):a.$notify({type:"error",text:t.error})})).catch((function(a){na()("Gagal","Ada masalah di client "+a,"error")}));case 3:a.data.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},staValid:function(){return 0!=this.data.items.length},jenisTrans:function(){return"Pemasukan"==this.data.jenis?"masuk":"keluar"}},computed:{}},$n=On,Nn=Object(u["a"])($n,Rn,Sn,!1,null,null,null),Pn=Nn.exports;v()(Nn,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDatePicker:le["a"],VDialog:Ea["a"],VDivider:oa["a"],VForm:sa["a"],VIcon:_["a"],VMenu:ce["a"],VRow:C["a"],VSelect:da["a"],VSpacer:A["a"],VTextField:Q["a"],VTextarea:pe["a"]});var En=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("h2",[a._v("LIST ADJUSTMENT (PENYESUAIAN) STOK")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{attrs:{color:"success",rounded:"",to:"/adjustment/input"}},[e("v-icon",{staticClass:"mr-2"},[a._v("mdi-plus-thick")]),a._v("Tambah Adjustment")],1)],1),e("div",{staticClass:"mr-2"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Awal",value:a.formatDate(a.periode.tanggal1),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal1,callback:function(t){a.$set(a.periode,"pickerTanggal1",t)},expression:"periode.pickerTanggal1"}},[e("v-date-picker",{on:{change:function(t){return a.loadData()},input:function(t){a.periode.pickerTanggal1=!1}},model:{value:a.periode.tanggal1,callback:function(t){a.$set(a.periode,"tanggal1",t)},expression:"periode.tanggal1"}})],1)],1),e("div",{staticClass:"mr-2"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Akhir",value:a.formatDate(a.periode.tanggal2),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal2,callback:function(t){a.$set(a.periode,"pickerTanggal2",t)},expression:"periode.pickerTanggal2"}},[e("v-date-picker",{on:{change:function(t){return a.loadData()},input:function(t){a.periode.pickerTanggal2=!1}},model:{value:a.periode.tanggal2,callback:function(t){a.$set(a.periode,"tanggal2",t)},expression:"periode.tanggal2"}})],1)],1),e("div",[e("v-text-field",{attrs:{label:"Pencarian",outlined:"",dense:"","hide-details":"",clearable:"","append-icon":"mdi-magnify"},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{fetch:a.fetchData,worksheet:"Data Return Penjualan",name:"Data Return Penjualan.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:""},scopedSlots:a._u([{key:"item.opsi",fn:function(t){var n=t.item;return[a.staPilih?e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.pilihTerima(n.no_bukti,n.no_po)}}},[e("v-icon",[a._v("mdi-check-bold")])],1):e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadDetail(n.no_adj)}}},[e("v-icon",[a._v("mdi-pen")])],1)]}},{key:"item.nama",fn:function(t){var e=t.item;return[a._v(" "+a._s(e.nama)+" ")]}},{key:"item.tanggal",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatDate(e.tanggal))+" ")]}}],null,!0)})],1)],1)],1)],1)],1)],1)},Bn=[],In={props:["staPilih"],data:function(){return{periode:{pickerTanggal1:!1,tanggal1:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,7)+"-01",pickerTanggal2:!1,tanggal2:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},data:{headers:[{text:"NO. BUKTI",value:"no_adj",divider:!0},{text:"TANGGAL",value:"tanggal",divider:!0},{text:"JENIS",value:"jenis_trans",divider:!0},{text:"KETERANGAN",value:"keterangan",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:""}}},mounted:function(){this.loadData()},methods:{loadDetail:function(a){this.$router.push({path:"/adjustment/input",query:{noBukti:a}})},loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("adjustment",{}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(t){a.$notify({type:"error",text:t})}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},fetchData:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.post("master/customer");case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}),a)})))()},pilihReturn:function(a){this.$emit("retur",{no_retur:a})}}},Un=In,Ln=Object(u["a"])(Un,En,Bn,!1,null,null,null),Mn=Ln.exports;v()(Ln,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDatePicker:le["a"],VDivider:oa["a"],VIcon:_["a"],VMenu:ce["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var Kn=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",{staticClass:"d-flex justify-start"},[e("div",[e("v-btn",{staticClass:"mr-3",attrs:{color:"primary",text:"",to:"/konversi"}},[e("v-icon",{attrs:{"x-large":""}},[a._v("mdi-arrow-left-bold")])],1)],1),e("h2",[a._v("INPUT KONVERSI")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",{attrs:{outlined:""}},[e("v-card-text",[e("v-row",[e("v-col",{attrs:{cols:"5"}},[e("div",{staticClass:"d-flex justify-space-around"},[e("v-text-field",{staticClass:"mr-2",attrs:{label:"Kode Barang Awal",dense:"",outlined:""}}),e("v-btn",{attrs:{color:"light-blue lighten-4"},on:{click:function(t){return a.showBarang()}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1),e("v-text-field",{staticClass:"mr-2",attrs:{label:"Jumlah",dense:"",outlined:"",type:"number"}})],1),e("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"2"}},[e("v-icon",{attrs:{"x-large":"",color:"success"}},[a._v("mdi-arrow-right-thick")])],1),e("v-col",{attrs:{cols:"5"}},[e("div",{staticClass:"d-flex justify-space-around"},[e("v-text-field",{staticClass:"mr-2",attrs:{label:"Kode Barang Tujuan",dense:"",outlined:""}}),e("v-btn",{attrs:{color:"light-blue lighten-4"}},[e("v-icon",[a._v("mdi-magnify")])],1)],1),e("v-text-field",{staticClass:"mr-2",attrs:{label:"Jumlah",dense:"",outlined:"",type:"number"}})],1)],1)],1),e("v-divider"),e("v-card-text",[e("div",{staticClass:"d-flex justify-end"},[e("v-btn",{attrs:{color:"success"}},[e("v-icon",{staticClass:"mr-2"},[a._v("mdi-floppy")]),a._v(" SIMPAN")],1)],1)])],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.barang.dialog,callback:function(t){a.$set(a.barang,"dialog",t)},expression:"barang.dialog"}},[e("v-card",{attrs:{outlined:""}},[e("barang-view",{attrs:{jenis:"keluar",staPilih:!0},on:{barang:a.getBarang}})],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},Jn=[],Fn={components:{BarangView:ft},data:function(){return{data:{awal:{kode_bahan:"",ukuran:"",unit:""},tujuan:{kode_bahan:"",ukuran:"",unit:""}},barang:{dialog:!1,staAwal:!1,staTujuan:!1}}},methods:{showBarang:function(a){this.barang.dialog=!0,"awal"==a?this.staAwal=!0:this.staTujuan=!0},getBarang:function(a){this.loadBarang(a.kode_bahan)},loadBarang:function(a){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("master/barang/bykode",{kode_bahan:a}).then((function(a){1==t.staAwal?(t.data.awal.kode_bahan=a.data.data.kode_bahan,t.data.awal.ukuran=a.data.data.ukuran,t.data.awal.unit=a.data.data.unit):(t.data.akhir.kode_bahan=a.data.data.kode_bahan,t.data.akhir.ukuran=a.data.data.ukuran,t.data.akhir.unit=a.data.data.unit)}));case 2:case"end":return e.stop()}}),e)})))()}}},Gn=Fn,Hn=Object(u["a"])(Gn,Kn,Jn,!1,null,null,null),Yn=Hn.exports;v()(Hn,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCol:W["a"],VContainer:b["a"],VDialog:Ea["a"],VDivider:oa["a"],VIcon:_["a"],VRow:C["a"],VTextField:Q["a"]});var zn=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("h2",[a._v("KONVERSI BARANG")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2"},[e("v-col",[e("v-card",[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"mr-4"},[e("v-btn",{ref:"tambahData",attrs:{color:"success",rounded:"",to:"/konversi/input"}},[e("v-icon",[a._v("mdi-plus-thick")]),a._v("Tambah Konversi")],1)],1),e("div",{staticClass:"mr-2"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Awal",value:a.formatDate(a.periode.tanggal1),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal1,callback:function(t){a.$set(a.periode,"pickerTanggal1",t)},expression:"periode.pickerTanggal1"}},[e("v-date-picker",{on:{change:function(t){return a.loadData()},input:function(t){a.periode.pickerTanggal1=!1}},model:{value:a.periode.tanggal1,callback:function(t){a.$set(a.periode,"tanggal1",t)},expression:"periode.tanggal1"}})],1)],1),e("div",{staticClass:"mr-2"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Akhir",value:a.formatDate(a.periode.tanggal2),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal2,callback:function(t){a.$set(a.periode,"pickerTanggal2",t)},expression:"periode.pickerTanggal2"}},[e("v-date-picker",{on:{change:function(t){return a.loadData()},input:function(t){a.periode.pickerTanggal2=!1}},model:{value:a.periode.tanggal2,callback:function(t){a.$set(a.periode,"tanggal2",t)},expression:"periode.tanggal2"}})],1)],1),e("div",[e("v-text-field",{attrs:{name:"name",label:"Pencarian",outlined:"",dense:"","hide-details":"","append-icon":"mdi-magnify",clearable:""},model:{value:a.data.search,callback:function(t){a.$set(a.data,"search",t)},expression:"data.search"}})],1),e("v-spacer"),e("div",[e("download-excel",{staticClass:"btn btn-default",attrs:{fetch:a.fetchData,worksheet:"Data Customer",name:"Data Customer.xls"}},[e("v-btn",{attrs:{color:"success",text:""}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("div",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.loadData()}}},[a._v("REFRESH"),e("v-icon",[a._v("mdi-refresh")])],1)],1)],1),e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.data.headers,items:a.data.items,loading:a.data.loading,search:a.data.search,dense:""},scopedSlots:a._u([{key:"item.opsi",fn:function(t){var n=t.item;return[a.staPilih?e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.pilihTerima(n.no_bukti,n.no_po)}}},[e("v-icon",[a._v("mdi-check-bold")])],1):a._e()]}},{key:"item.nama",fn:function(t){var e=t.item;return[a._v(" "+a._s(e.nama)+" ")]}},{key:"item.tanggal",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatDate(e.tanggal))+" ")]}}],null,!0)})],1)],1)],1)],1)],1)],1)},qn=[],Wn={props:["staPilih"],data:function(){return{periode:{pickerTanggal1:!1,tanggal1:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,7)+"-01",pickerTanggal2:!1,tanggal2:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},data:{headers:[{text:"NO. RETUR",value:"no_retur",divider:!0},{text:"TANGGAL",value:"tanggal",divider:!0},{text:"NO. TERIMA",value:"no_terima",divider:!0},{text:"NO. PO",value:"no_po",divider:!0},{text:"SUPPLIER",value:"nama",divider:!0},{text:"TOTAL (QTY)",value:"tot_qty",divider:!0},{text:"OPSI",value:"opsi"}],items:[],loading:!1,search:""}}},mounted:function(){this.$refs.tambahData.$el.focus(),this.loadData()},methods:{loadDetail:function(a,t){this.$router.push({path:"/pembelian/terima/input",query:{noBukti:a,noPo:t}})},loadData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.data.items=[],a.data.loading=!0,t.next=4,B.a.post("pembelian/return",{tanggal1:a.periode.tanggal1,tanggal2:a.periode.tanggal2}).then((function(t){200==t.status?(a.data.items=t.data.data,a.$notify({type:"success",text:t.data.message})):a.$notify({type:"error",text:t.data.error})})).catch((function(t){a.$notify({type:"error",text:t})}));case 4:a.data.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},fetchData:function(){return Object(o["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.post("master/customer");case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}),a)})))()},pilihTerima:function(a,t){this.$emit("terima",{no_bukti:a,no_po:t})}}},Qn=Wn,Xn=Object(u["a"])(Qn,zn,qn,!1,null,null,null),Zn=Xn.exports;v()(Xn,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDatePicker:le["a"],VDivider:oa["a"],VIcon:_["a"],VMenu:ce["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var ar=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("h2",[a._v("INPUT TRANSAKSI ARUS KAS")])])],1),e("v-divider"),e("v-row",{staticClass:"mt-2 d-flex justify-center"},[e("v-col",{attrs:{cols:"6"}},[e("v-card",{attrs:{outlined:""}},[e("v-tabs",{attrs:{grow:"","icons-and-text":""},model:{value:a.tab,callback:function(t){a.tab=t},expression:"tab"}},[e("v-tabs-slider"),e("v-tab",[a._v(" PENERIMAAN "),e("v-icon",[a._v("mdi-plus-thick")])],1),e("v-tab",[a._v(" PENGELUARAN "),e("v-icon",[a._v("mdi-minus-thick")])],1),e("v-tab",[a._v(" MUTASI "),e("v-icon",[a._v("mdi-autorenew")])],1),a._l(2,(function(t){return e("v-tab-item",{key:t},[e("v-card",{attrs:{flat:""}},[e("v-card-text",[e("v-form",{model:{value:a.data.isValid,callback:function(t){a.$set(a.data,"isValid",t)},expression:"data.isValid"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal",value:a.formatDate(a.data.tanggal),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:""}},"v-text-field",r,!1),n))]}}],null,!0),model:{value:a.data.pickerTanggal,callback:function(t){a.$set(a.data,"pickerTanggal",t)},expression:"data.pickerTanggal"}},[e("v-date-picker",{on:{input:function(t){a.data.pickerTanggal=!1}},model:{value:a.data.tanggal,callback:function(t){a.$set(a.data,"tanggal",t)},expression:"data.tanggal"}})],1),e("v-text-field",{staticClass:"text-h4",attrs:{rules:a.rules.jumlah,label:"Jumlah",dense:"",height:"75",outlined:"","append-icon":"mdi-calculator",type:"number"},model:{value:a.data.jumlah,callback:function(t){a.$set(a.data,"jumlah",t)},expression:"data.jumlah"}}),e("div",{staticClass:"d-flex justify-space-around"},[e("v-text-field",{staticClass:"mr-2",attrs:{value:a.data.nama_bank+" - "+a.data.kode_bank,label:"Kas/Bank",dense:"",outlined:""}}),e("v-btn",{on:{click:function(t){return a.showBank()}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1),e("div",{staticClass:"d-flex justify-space-around"},[e("v-text-field",{staticClass:"mr-2",attrs:{value:a.data.nama_rekening+" - "+a.data.kode_rekening,label:"Kategori Transaksi",dense:"",outlined:"",readonly:""}}),e("v-btn",{on:{click:function(t){return a.showRekening()}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1),e("div",{staticClass:"d-flex justify-space-around"},[e("v-text-field",{staticClass:"mr-2",attrs:{value:a.data.nama_akun+" - "+a.data.kode_akun,label:"Akun",dense:"",outlined:"",readonly:""}}),e("v-btn",{on:{click:function(t){return a.showAkun()}}},[e("v-icon",[a._v("mdi-magnify")])],1),1==a.customer.listOutstand?e("v-btn",{staticClass:"ml-2",on:{click:function(t){return a.showOutstand()}}},[e("v-icon",[a._v("mdi-card-bulleted-outline")])],1):a._e()],1),e("v-text-field",{staticClass:"mr-2",attrs:{label:"Keterangan (Tidak Wajib Diisi)",dense:"",outlined:""},model:{value:a.data.keterangan,callback:function(t){a.$set(a.data,"keterangan",t)},expression:"data.keterangan"}}),e("v-divider",{staticClass:"my-2"}),e("div",{staticClass:"d-flex justify-end"},[e("v-btn",{attrs:{color:"success",disabled:!a.isValid},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN "),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1)],1)],1)})),e("v-tab-item",[e("v-card",{attrs:{flat:""}},[e("v-card-text",[e("v-form",{model:{value:a.data.isValid2,callback:function(t){a.$set(a.data,"isValid2",t)},expression:"data.isValid2"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal",value:a.formatDate(a.data.tanggal),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:""}},"v-text-field",r,!1),n))]}}]),model:{value:a.data.pickerTanggal,callback:function(t){a.$set(a.data,"pickerTanggal",t)},expression:"data.pickerTanggal"}},[e("v-date-picker",{on:{input:function(t){a.data.pickerTanggal=!1}},model:{value:a.data.tanggal,callback:function(t){a.$set(a.data,"tanggal",t)},expression:"data.tanggal"}})],1),e("v-text-field",{staticClass:"text-h4",attrs:{label:"Jumlah",dense:"",outlined:"",height:"75","append-icon":"mdi-calculator",type:"number",rules:a.rules2.jumlah},model:{value:a.data.jumlah,callback:function(t){a.$set(a.data,"jumlah",t)},expression:"data.jumlah"}}),e("div",{staticClass:"d-flex justify-space-around"},[e("v-text-field",{staticClass:"mr-2",attrs:{label:"Kas/Bank Asal",value:a.data.nama_bank+" - "+a.data.kode_bank,rules:a.rules2.kode_bank,dense:"",outlined:"","append-icon":"mdi-bank-transfer-out"}}),e("v-btn",{on:{click:function(t){return a.showBank("asal")}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1),e("div",{staticClass:"d-flex justify-space-around"},[e("v-text-field",{staticClass:"mr-2",attrs:{label:"Kas/Bank Tujuan",value:a.data.nama_bank2+" - "+a.data.kode_bank2,rules:a.rules2.kode_bank2,dense:"",outlined:"","append-icon":"mdi-bank-transfer-in"}}),e("v-btn",{on:{click:function(t){return a.showBank("tujuan")}}},[e("v-icon",[a._v("mdi-magnify")])],1)],1),e("v-text-field",{staticClass:"mr-2",attrs:{label:"Keterangan (Tidak Wajib Diisi)",dense:"",outlined:""},model:{value:a.data.keterangan,callback:function(t){a.$set(a.data,"keterangan",t)},expression:"data.keterangan"}}),e("v-divider",{staticClass:"my-2"}),e("div",{staticClass:"d-flex justify-end"},[e("v-btn",{attrs:{color:"success",disabled:!a.isValid2},on:{click:function(t){return a.createData()}}},[a._v("SIMPAN "),e("v-icon",[a._v("mdi-floppy")])],1)],1)],1)],1)],1)],1)],2)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.bank.dialog,callback:function(t){a.$set(a.bank,"dialog",t)},expression:"bank.dialog"}},[e("v-card",{attrs:{outlined:""}},[e("bank-view",{attrs:{staPilih:!0},on:{bank:a.getBank}})],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.rekening.dialog,callback:function(t){a.$set(a.rekening,"dialog",t)},expression:"rekening.dialog"}},[e("v-card",{attrs:{outlined:""}},[e("rekening-view",{ref:"loadDataRekening",attrs:{staPilih:!0,jenis:a.getJenis()},on:{rekening:a.getRekening}})],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.akun.dialog,callback:function(t){a.$set(a.akun,"dialog",t)},expression:"akun.dialog"}},[e("v-card",{attrs:{outlined:""}},[e("akun-view",{ref:"loadDataAkun",attrs:{staPilih:!0,kode_rekening:a.data.kode_rekening},on:{akun:a.getAkun}})],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.customer.dialog,callback:function(t){a.$set(a.customer,"dialog",t)},expression:"customer.dialog"}},[e("v-card",{attrs:{outlined:""}},[e("customer-view",{attrs:{staPilih:!0},on:{customer:a.getAkun}})],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.supplier.dialog,callback:function(t){a.$set(a.supplier,"dialog",t)},expression:"supplier.dialog"}},[e("v-card",{attrs:{outlined:""}},[e("supplier-view",{attrs:{staPilih:!0},on:{supplier:a.getAkun}})],1)],1),e("v-dialog",{attrs:{"max-width":"1000px",transition:"dialog-transition"},model:{value:a.customer.dialogOutstand,callback:function(t){a.$set(a.customer,"dialogOutstand",t)},expression:"customer.dialogOutstand"}},[e("v-card",{staticClass:"pb-5"},[e("v-card-title",[2==a.data.xjenis?e("div",[a._v(" DATA PIUTANG CUSTOMER : "+a._s(this.data.nama_akun)+" ")]):a._e(),3==a.data.xjenis?e("div",[a._v(" DATA HUTANG SUPPLIER : "+a._s(this.data.nama_akun)+" ")]):a._e(),e("v-spacer")],1),e("v-card-text",[e("v-row",[e("v-col",{attrs:{cols:"8"}},[e("v-card",{attrs:{outlined:""}},[e("v-data-table",{attrs:{headers:a.customer.headersOutstand,items:a.customer.itemsOutstand,loading:a.customer.loadingOutstand,search:a.customer.searchOutstand,dense:"","items-per-page":50,"hide-default-footer":""},scopedSlots:a._u([{key:"item.sisa",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.sisa))+" ")]}},{key:"item.bayar",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.bayar))+" ")]}},{key:"item.nilai",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.nilai))+" ")]}},{key:"item.kurang",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.formatNumber(e.kurang))+" ")]}},{key:"item.opsi",fn:function(t){var n=t.index;return[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return a.updateNilai(n)}}},[e("v-icon",{attrs:{large:""}},[a._v("mdi-pencil-box-outline")])],1)]}}],null,!0)})],1),e("div",{staticClass:"d-flex justify-end mt-2"},[e("table",[e("tbody",[e("strong",[e("tr",[e("td",[a._v("Total Bayar")]),e("td",{staticClass:"px-1"},[a._v(":")]),e("td",{attrs:{align:"right"}},[a._v(a._s(a.formatNumber(a.sumNilai())))])]),e("tr",[e("td",[a._v("Total Sisa Jumlah")]),e("td",{staticClass:"px-1"},[a._v(":")]),e("td",{attrs:{align:"right"}},[a._v(" "+a._s(a.formatNumber(a.sumSisaJumlah()))+" ")])])])])])])],1),e("v-col",{attrs:{cols:"4"}},[e("v-card",{attrs:{outlined:""}},[e("v-card-text",[e("v-text-field",{attrs:{label:"No. Bukti",dense:"",outlined:"",readonly:"","background-color":"blue-grey lighten-5"},model:{value:a.customer.noBukti,callback:function(t){a.$set(a.customer,"noBukti",t)},expression:"customer.noBukti"}}),e("v-text-field",{attrs:{label:"Outstand",dense:"",outlined:"",readonly:"","background-color":"blue-grey lighten-5"},model:{value:a.customer.outstand,callback:function(t){a.$set(a.customer,"outstand",t)},expression:"customer.outstand"}}),e("v-text-field",{attrs:{label:"Nilai",dense:"",outlined:"","v:onv-on:keyup.13":"applyNilai()","background-color":"light-blue lighten-5"},on:{input:function(t){return a.changeKurang()}},model:{value:a.customer.nilai,callback:function(t){a.$set(a.customer,"nilai",t)},expression:"customer.nilai"}}),e("v-text-field",{attrs:{label:"Kurang",dense:"",outlined:"",readonly:"","background-color":"blue-grey lighten-5"},model:{value:a.customer.kurang,callback:function(t){a.$set(a.customer,"kurang",t)},expression:"customer.kurang"}}),e("v-btn",{attrs:{color:"success",outlined:"",rounded:"",small:""},on:{click:function(t){return a.applyNilai()}}},[a._v("Terapkan")])],1)],1)],1)],1),e("v-divider",{staticClass:"my-2"}),e("div",{staticClass:"d-flex justify-end"},[e("v-btn",{attrs:{color:"success",outlined:""},on:{click:function(t){return a.setOutstand()}}},[a._v("OK")])],1)],1)],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},tr=[],er={components:{RekeningView:zt,BankView:It,AkunView:Xt,CustomerView:Tt,SupplierView:_t},data:function(){return{tab:null,data:{pickerTanggal:!1,tanggal:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),kode_bank:"",nama_bank:"",kategori:"",kode_bank2:"",nama_bank2:"",jumlah:0,kode_rekening:"",nama_rekening:"",xjenis:"",kode_akun:"",nama_akun:"",keterangan:"",sisa:0,isValid:!1,isValid2:!1,itemsOutstand:[],sumNilai:0,sumSisaJumlah:0,user:this.$store.state.auth.user.name.toUpperCase()},rules:{kode_bank:[function(a){return""!=a||"Bank Harus Diisi"}],kode_rekening:[function(a){return""!=a||"Rekening Harus Diisi"}],kode_akun:[function(a){return""!=a||"Referensi Harus Diisi"}],jumlah:[function(a){return a>0||"Jumlah Harus Lebih Dari 0"}]},rules2:{kode_bank:[function(a){return""!=a||"Bank Asal Harus Diisi"}],kode_bank2:[function(a){return""!=a||"Bank Tujuan Harus Diisi"}],jumlah:[function(a){return a>0||"Jumlah Harus Lebih Dari 0"}]},rekening:{dialog:!1},bank:{dialog:!1},akun:{dialog:!1},customer:{dialog:!1,listOutstand:!1,dialogOutstand:!1,headersOutstand:[{text:"TANGGAL",value:"tanggal",divider:!0},{text:"NO. BUKTI",value:"no_bukti",divider:!0},{text:"OUTSTAND",value:"sisa",divider:!0,align:"right"},{text:"BAYAR",value:"bayar",divider:!0,align:"right"},{text:"JUMLAH",value:"nilai",divider:!0,align:"right"},{text:"SISA",value:"kurang",divider:!0,align:"right"},{text:"OPSI",value:"opsi"}],itemsOutstand:[{sisa:0,nilai:0,kurang:0,noBukti:""}],loadingOutstand:!1,searchOutstand:"",dialogBayar:!1,indexOutstand:0,sisaJumlah:0,noBukti:"",outstand:0,nilai:0,kurang:0},supplier:{dialog:!1}}},methods:{resetJenis:function(){this.data.kode_rekening="",this.data.nama_rekening="",this.data.kode_akun="",this.data.nama_akun=""},showRekening:function(){this.rekening.dialog=!0,this.$refs.loadDataRekening.loadData()},getRekening:function(a){switch(this.data.kode_rekening=a.kode_rekening,this.data.nama_rekening=a.nama_rekening,this.data.xjenis=a.xjenis,parseInt(this.data.xjenis)){case 1:this.customer.listOutstand=!1;break;case 2:this.customer.listOutstand=!0;break;case 3:this.customer.listOutstand=!0;break;default:this.customer.listOutstand=!1;break}this.rekening.dialog=!1,this.data.kode_akun="",this.data.nama_akun=""},getJenis:function(){switch(this.tab){case 0:return"IN";case 1:return"OU";case 2:return"MT"}},showBank:function(a){this.data.kategori=a,this.bank.dialog=!0},getBank:function(a){switch(this.data.kategori){case"asal":if(this.data.kode_bank2==a.kode_bank)return void this.$notify({type:"error",text:"Kas/Bank Asal dan Tujuan tidak boleh sama"});this.data.kode_bank=a.kode_bank,this.data.nama_bank=a.nama_bank;break;case"tujuan":if(this.data.kode_bank==a.kode_bank)return void this.$notify({type:"error",text:"Kas/Bank Asal dan Tujuan tidak boleh sama"});this.data.kode_bank2=a.kode_bank,this.data.nama_bank2=a.nama_bank;break;default:this.data.kode_bank=a.kode_bank,this.data.nama_bank=a.nama_bank;break}this.bank.dialog=!1},showAkun:function(){switch(console.log(this.data.xjenis),parseInt(this.data.xjenis)){case 1:this.akun.dialog=!0,this.$refs.loadDataAkun.loadData();break;case 2:this.customer.dialog=!0;break;case 3:this.supplier.dialog=!0;break;default:this.$notify({type:"warning",text:"Silahkan Pilih Kategori"});break}},getAkun:function(a){null==a.kode||""==a.kode?(this.data.kode_akun=a.kode_akun,this.data.nama_akun=a.nama_akun):(this.data.kode_akun=a.kode,this.data.nama_akun=a.nama),this.akun.dialog=!1,this.customer.dialog=!1,this.supplier.dialog=!1},showOutstand:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=a.data.jumlah){t.next=3;break}return a.$notify({type:"warning",text:"Isikan Jumlah Terlebih Dahulu"}),t.abrupt("return");case 3:if(0!=a.customer.listOutstand&&""!=a.data.kode_akun){t.next=6;break}return a.$notify({type:"warning",text:"Pilih Akun Terlebih Dahulu"}),t.abrupt("return");case 6:if(1!=a.customer.listOutstand||""==a.data.kode_akun){t.next=16;break}if(a.customer.dialogOutstand=!0,a.customer.sisaJumlah=a.data.jumlah,2!=a.data.xjenis){t.next=14;break}return t.next=12,B.a.post("penjualan/piutang/customer",{kode:a.data.kode_akun}).then((function(t){if(200==t.status){a.customer.itemsOutstand=t.data.data,a.customer.indexOutstand=0,a.customer.outstand=0,a.customer.nilai=0,a.customer.kurang=0;for(var e=0;e<a.customer.itemsOutstand.length;e++)a.customer.itemsOutstand[e].nilai=0,a.customer.itemsOutstand[e].kurang=0}else a.$notify({type:"error",text:t.data.error})})).catch((function(a){console.log(a)}));case 12:t.next=16;break;case 14:return t.next=16,B.a.post("pembelian/hutang/supplier",{kode:a.data.kode_akun}).then((function(t){if(200==t.status){a.customer.itemsOutstand=t.data.data,a.customer.indexOutstand=0,a.customer.outstand=0,a.customer.nilai=0,a.customer.kurang=0;for(var e=0;e<a.customer.itemsOutstand.length;e++)a.customer.itemsOutstand[e].nilai=0,a.customer.itemsOutstand[e].kurang=0}else a.$notify({type:"error",text:t.data.error})})).catch((function(a){console.log(a)}));case 16:case"end":return t.stop()}}),t)})))()},updateNilai:function(a){this.customer.indexOutstand=a,this.customer.noBukti=this.customer.itemsOutstand[a].no_bukti,this.customer.outstand=this.customer.itemsOutstand[a].outstand,this.customer.nilai=parseInt(this.customer.itemsOutstand[a].nilai),this.customer.kurang=this.customer.itemsOutstand[a].kurang,this.customer.outstand=this.customer.itemsOutstand[a].sisa},sumSisaJumlah:function(){return this.data.jumlah-this.sumNilai()},sumNilai:function(){for(var a=0,t=0;t<this.customer.itemsOutstand.length;t++)0==isNaN(this.customer.itemsOutstand[t].nilai)&&(a+=1*this.customer.itemsOutstand[t].nilai);return a},changeKurang:function(){this.customer.kurang=this.customer.outstand-this.customer.nilai,this.customer.kurang<0&&(this.customer.nilai=0,this.customer.kurang=0)},applyNilai:function(){if(0!=this.customer.nilai)if(this.customer.nilai>this.sumSisaJumlah())this.$notify({type:"warning",text:"Nilai Melebihi Sisa Jumlah"});else{var a=this.customer.indexOutstand;this.customer.itemsOutstand[a].nilai=this.customer.nilai,this.customer.itemsOutstand[a].kurang=this.customer.kurang,this.customer.noBukti="",this.customer.indexOutstand=99,this.customer.outstand=0,this.customer.nilai=0,this.customer.kurang=0}else this.$notify({type:"warning",text:"Nilai Masih Kosong"})},setOutstand:function(){this.customer.dialogOutstand=!1,this.data.itemsOutstand=this.customer.itemsOutstand},createData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("kasbank/create",a.data).then((function(t){200==t.status?(na()("Sukses","Simpan Kas/Bank Berhasil","success"),a.resetAll()):na()("Gagal",t.data.message,"error")})).catch((function(a){console.log(a),na()("Gagal","Simpan Kas/Bank Gagal ","error")}));case 2:case"end":return t.stop()}}),t)})))()},resetAll:function(){this.data.kode_bank="",this.data.nama_bank="",this.data.kategori="",this.data.kode_bank2="",this.data.nama_bank2="",this.data.jumlah=0,this.data.kode_rekening="",this.data.nama_rekening="",this.data.xjenis="",this.data.kode_akun="",this.data.nama_akun="",this.data.keterangan="",this.data.isValid=!1,this.data.isValid2=!1}},computed:{isValid:function(){return this.data.jumlah>0&&""!=this.data.kode_bank&&""!=this.data.kode_rekening&&""!=this.data.kode_akun},isValid2:function(){return this.data.jumlah>0&&""!=this.data.kode_bank&&""!=this.data.kode_bank2}},watch:{tab:function(){this.resetJenis()}}},nr=er,rr=e("71a3"),ir=e("c671"),or=e("fe57"),sr=e("9a96"),dr=Object(u["a"])(nr,ar,tr,!1,null,null,null),lr=dr.exports;v()(dr,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDataTable:Pa["a"],VDatePicker:le["a"],VDialog:Ea["a"],VDivider:oa["a"],VForm:sa["a"],VIcon:_["a"],VMenu:ce["a"],VRow:C["a"],VSpacer:A["a"],VTab:rr["a"],VTabItem:ir["a"],VTabs:or["a"],VTabsSlider:sr["a"],VTextField:Q["a"]});var cr=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("div",{staticClass:"text-h5"},[a._v("LAPORAN")])])],1),e("v-divider",{staticClass:"my-2"}),e("v-row",[e("v-col",{attrs:{cols:"auto",lg:"6",md:"12",sm:"12"}},[e("v-card",[e("v-card-title",{staticClass:"py-3 d-flex justify-space-around"},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Awal",value:a.formatDate(a.periode.tanggal1),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","background-color":"light-blue lighten-5","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal1,callback:function(t){a.$set(a.periode,"pickerTanggal1",t)},expression:"periode.pickerTanggal1"}},[e("v-date-picker",{on:{input:function(t){a.periode.pickerTanggal1=!1}},model:{value:a.periode.tanggal1,callback:function(t){a.$set(a.periode,"tanggal1",t)},expression:"periode.tanggal1"}})],1),a._v(" - "),e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Tanggal Akhir",value:a.formatDate(a.periode.tanggal2),"append-icon":"mdi-calendar",readonly:"",dense:"",outlined:"","background-color":"light-blue lighten-5","hide-details":""}},"v-text-field",r,!1),n))]}}]),model:{value:a.periode.pickerTanggal2,callback:function(t){a.$set(a.periode,"pickerTanggal2",t)},expression:"periode.pickerTanggal2"}},[e("v-date-picker",{on:{input:function(t){a.periode.pickerTanggal2=!1}},model:{value:a.periode.tanggal2,callback:function(t){a.$set(a.periode,"tanggal2",t)},expression:"periode.tanggal2"}})],1)],1),e("v-divider"),e("v-card-text",[e("div",{staticClass:"d-flex justify-space-around align-center"},[e("div",[a._v("Laporan Stok")]),e("v-spacer"),e("v-btn",{attrs:{color:"success",rounded:""},on:{click:function(t){return a.stokDownload()}}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1),e("v-divider",{staticClass:"my-2"}),e("div",{staticClass:"d-flex justify-space-around align-center"},[e("div",[a._v("Laporan Penerimaan")]),e("v-spacer"),e("v-btn",{attrs:{color:"success",rounded:""},on:{click:function(t){return a.penerimaanDownload()}}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1),e("v-divider",{staticClass:"my-2"}),e("div",{staticClass:"d-flex justify-space-around align-center"},[e("div",[a._v("Laporan Penjualan")]),e("v-spacer"),e("v-btn",{attrs:{color:"success",rounded:""},on:{click:function(t){return a.penjualanDownload()}}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1),e("v-divider",{staticClass:"my-2"}),e("div",{staticClass:"d-flex justify-space-around align-center"},[e("div",[a._v("Laporan Laba Rugi")]),e("v-spacer"),e("v-btn",{attrs:{color:"success",rounded:""},on:{click:function(t){return a.labarugiDownload()}}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1)],1),e("v-divider"),e("v-card-text",[e("div",{staticClass:"d-flex justify-space-around align-center"},[e("div",[a._v("Laporan Piutang")]),e("v-spacer"),e("v-btn",{attrs:{color:"success",rounded:""},on:{click:function(t){return a.piutangDownload()}}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1),e("v-divider",{staticClass:"my-2"}),e("div",{staticClass:"d-flex justify-space-around align-center"},[e("div",[a._v("Laporan Hutang")]),e("v-spacer"),e("v-btn",{attrs:{color:"success",rounded:""},on:{click:function(t){return a.hutangDownload()}}},[a._v("Excel"),e("v-icon",[a._v("mdi-table-arrow-down")])],1)],1),e("v-divider",{staticClass:"my-2"})],1)],1)],1)],1),e("notifications",{attrs:{position:"bottom right"}})],1)},ur=[],mr=e("2909"),vr=(e("3ca3"),e("ddb0"),e("159b"),e("6062"),e("d81d"),e("2b3d"),e("9861"),e("4de4"),e("e8ae")),fr=e.n(vr),gr={data:function(){return{periode:{pickerTanggal1:!1,tanggal1:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,7)+"-01",pickerTanggal2:!1,tanggal2:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},labarugi_fields:{"TGL NOTA":"tgl_update","NO NOTA":"no_bukti",CUSTOMER:"nama",PEMBAYARAN:"pembayaran",KODE:"kode_bahan","NAMA BARANG":"nama_bahan",JENIS:"nm_jenis",JUMLAH:"jumlah","HARGA JUAL":"rp_jual","HARGA HPP":"harga","TOTAL JUAL":"tot_jual","TOTAL HPP":"tot_hpp",LABA:"laba","TOTAL LABA":"tot_laba"},loading:!1}},methods:{labarugiFetchData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(a.periode.tanggal1),t.next=3,B.a.post("laporan/labarugi",{tanggal1:a.periode.tanggal1,tanggal2:a.periode.tanggal2});case 3:return e=t.sent,t.abrupt("return",e.data.data);case 5:case"end":return t.stop()}}),t)})))()},stokDownload:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield(regeneratorRuntime.mark((function t(){var e,n,r,i,o,s,d,l,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("laporan/stok",{tanggal1:a.periode.tanggal1,tanggal2:a.periode.tanggal2});case 2:for(e=t.sent,n=new fr.a.Workbook,r=n.addWorksheet("REKAP"),i=r.addRow(["LAPORAN REKAP STOK - PERIODE : "+Ve()(String(a.periode.tanggal1)).format("DD-MM-YYYY")+" s/d "+Ve()(String(a.periode.tanggal2)).format("DD-MM-YYYY")]),i.font={bold:!0},r.addRow([""]),o=r.addRow(["KODE JENIS","NAMA JENIS","SALDO AWAL (QTY)","SALDO AWAL (RP)","TERIMA (QTY)","KELUAR (QTY)","TOTAL (QTY)","TERIMA (RP)","KELUAR (RP)","TOTAL (RP)","SALDO AKHIR (QTY)","SALDO AKHIR (RP)"]),o.font={bold:!0},e.data.rekap.forEach((function(a){r.addRow([a.kd_jenis,a.nm_jenis,a.saldo_awal_qty,a.saldo_awal_rp,a.terima_qty,a.keluar_qty,a.total_qty,a.terima_rp,a.keluar_rp,a.total_rp,a.saldo_akhir_qty,a.saldo_akhir_rp,a.rp_jual])})),s=Object(mr["a"])(new Set(e.data.data.map((function(a){return a.nm_jenis})))),d="",l=[],c=function(t){d=n.addWorksheet(s[t]),l=e.data.data.filter((function(a){return a.nm_jenis==s[t]}));var r=d.addRow(["LAPORAN STOK - PERIODE : "+Ve()(String(a.periode.tanggal1)).format("DD-MM-YYYY")+" s/d "+Ve()(String(a.periode.tanggal2)).format("DD-MM-YYYY")]);r.font={bold:!0},d.addRow([""]);var i=d.addRow(["KODE BARANG","NAMA BARANG","UNIT","UKURAN","SALDO AWAL (QTY)","SALDO AWAL (RP)","TERIMA (QTY)","KELUAR (QTY)","TOTAL (QTY)","TERIMA (RP)","KELUAR (RP)","TOTAL (RP)","SALDO AKHIR (QTY)","SALDO AKHIR (RP)","HARGA JUAL"]);i.font={bold:!0},l.forEach((function(a){d.addRow([a.kode_bahan,a.nama_bahan,a.unit,a.ukuran,a.saldo_awal_qty,a.saldo_awal_rp,a.terima_qty,a.keluar_qty,a.total_qty,a.terima_rp,a.keluar_rp,a.total_rp,a.saldo_akhir_qty,a.saldo_akhir_rp,a.rp_jual])}))},u=0;u<s.length;u++)c(u);n.xlsx.writeBuffer().then((function(t){var e=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download="Laporan Stok Periode : "+a.periode.tanggal1+" - "+a.periode.tanggal1+".xlsx",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)}));case 17:case"end":return t.stop()}}),t)}))(),"t0",2);case 2:t.next=7;break;case 4:t.prev=4,t.t1=t["catch"](0),console.error("Error fetching data from the API",t.t1);case 7:case"end":return t.stop()}}),t,null,[[0,4]])})))()},penerimaanDownload:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield(regeneratorRuntime.mark((function t(){var e,n,r,i,o,s,d,l,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("laporan/penerimaan",{tanggal1:a.periode.tanggal1,tanggal2:a.periode.tanggal2});case 2:for(e=t.sent,n=new fr.a.Workbook,r=n.addWorksheet("REKAP"),i=r.addRow(["LAPORAN REKAP PENERIMAAN STOK - PERIODE : "+Ve()(String(a.periode.tanggal1)).format("DD-MM-YYYY")+" s/d "+Ve()(String(a.periode.tanggal2)).format("DD-MM-YYYY")]),i.font={bold:!0},r.addRow([""]),o=r.addRow(["KODE JENIS","NAMA JENIS","TOTAL (QTY)","TOTAL (RP)"]),o.font={bold:!0},e.data.rekap.forEach((function(a){r.addRow([a.kd_jenis,a.nm_jenis,a.tot_qty,a.tot_rp])})),s=Object(mr["a"])(new Set(e.data.data.map((function(a){return a.nm_jenis})))),d="",l=[],c=function(t){d=n.addWorksheet(s[t]),l=e.data.data.filter((function(a){return a.nm_jenis==s[t]}));var r=d.addRow(["LAPORAN PENERIMAAN - PERIODE : "+Ve()(String(a.periode.tanggal1)).format("DD-MM-YYYY")+" s/d "+Ve()(String(a.periode.tanggal2)).format("DD-MM-YYYY")]);r.font={bold:!0},d.addRow([""]);var i=d.addRow(["TANGGAL","NO BUKTI","NO PO","KODE","NAMA BARANG","UKURAN","NAMA JENIS","HARGA","JUMLAH","TOTAL","SUPPLIER","NO SJ","TGL SJ","KETERANGAN"]);i.font={bold:!0},l.forEach((function(a){d.addRow([a.tgl_terima,a.no_bukti,a.no_po,a.kode_bahan,a.nama_bahan,a.ukuran,a.nm_jenis,a.jml_terima,a.harga,a.subtotal,a.nama,a.no_sj,a.tgl_sj,a.keterangan])}))},u=0;u<s.length;u++)c(u);n.xlsx.writeBuffer().then((function(t){var e=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download="Laporan Penerimaan Periode "+Ve()(String(a.periode.tanggal1)).format("DD-MM-YYYY")+" - "+Ve()(String(a.periode.tanggal2)).format("DD-MM-YYYY")+".xlsx",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)}));case 17:case"end":return t.stop()}}),t)}))(),"t0",2);case 2:t.next=7;break;case 4:t.prev=4,t.t1=t["catch"](0),console.error("Error fetching data from the API",t.t1);case 7:case"end":return t.stop()}}),t,null,[[0,4]])})))()},penjualanDownload:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.a.post("laporan/penjualan",{tanggal1:a.periode.tanggal1,tanggal2:a.periode.tanggal2});case 3:e=t.sent,n=new fr.a.Workbook,r=n.addWorksheet("DETAIL"),i=r.addRow(["LAPORAN PENJUALAN - PERIODE : "+Ve()(String(a.periode.tanggal1)).format("DD-MM-YYYY")+" s/d "+Ve()(String(a.periode.tanggal2)).format("DD-MM-YYYY")]),i.font={bold:!0},r.addRow([""]),o=r.addRow(["TGL NOTA","NO NOTA","CUSTOMER","PEMBAYARAN","KODE BARANG","NAMA BARANG","UKURAN","UNIT","NAMA JENIS","HARGA JUAL","DISKON","SUBTOTAL"]),o.font={bold:!0},e.data.data.forEach((function(a){r.addRow([Ve()(String(a.tanggal)).format("DD-MM-YYYY"),a.no_bukti,a.nama,a.pembayaran,a.kode_bahan,a.nama_bahan,a.ukuran,a.unit,a.nm_jenis,a.rp_jual,a.diskon,a.subtotal])})),n.xlsx.writeBuffer().then((function(t){var e=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download="Laporan Penerimaan Periode "+Ve()(String(a.periode.tanggal1)).format("DD-MM-YYYY")+" - "+Ve()(String(a.periode.tanggal2)).format("DD-MM-YYYY")+".xlsx",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)})),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),console.error("Error fetching data from the API",t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},labarugiDownload:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield(regeneratorRuntime.mark((function t(){var e,n,r,i,o,s,d,l,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.a.post("laporan/labarugi",{tanggal1:a.periode.tanggal1,tanggal2:a.periode.tanggal2});case 2:for(e=t.sent,console.log(e.data.data),n=new fr.a.Workbook,r=n.addWorksheet("REKAP"),i=r.addRow(["LAPORAN REKAP PENJUALAN & LABA RUGI - PERIODE : "+Ve()(String(a.periode.tanggal1)).format("DD-MM-YYYY")+" s/d "+Ve()(String(a.periode.tanggal2)).format("DD-MM-YYYY")]),i.font={bold:!0},r.addRow([""]),o=r.addRow(["KODE JENIS","NAMA JENIS","TOTAL (QTY)","TOTAL JUAL (RP)","TOTAL HPP (RP)","TOTAL LABA (RP)"]),o.font={bold:!0},e.data.rekap.forEach((function(a){r.addRow([a.kd_jenis,a.nm_jenis,a.tot_qty,a.tot_jual,a.tot_hpp,a.tot_laba])})),s=Object(mr["a"])(new Set(e.data.data.map((function(a){return a.nm_jenis})))),d="",l=[],c=function(t){d=n.addWorksheet(s[t]),l=e.data.data.filter((function(a){return a.nm_jenis==s[t]}));var r=d.addRow(["LAPORAN PENJUALAN & LABA RUGI - PERIODE : "+Ve()(String(a.periode.tanggal1)).format("DD-MM-YYYY")+" s/d "+Ve()(String(a.periode.tanggal2)).format("DD-MM-YYYY")]);r.font={bold:!0},d.addRow([""]);var i=d.addRow(["TGL NOTA","NO NOTA","CUSTOMER","PEMBAYARAN","KODE","NAMA BARANG","JENIS","JUMLAH","HARGA JUAL","HARGA HPP","TOTAL JUAL","TOTAL HPP","LABA","TOTAL LABA"]);i.font={bold:!0},l.forEach((function(a){d.addRow([a.tgl_update,a.no_bukti,a.nama,a.pembayaran,a.kode_bahan,a.nama_bahan,a.nm_jenis,a.jumlah,a.rp_jual,a.harga,a.tot_jual,a.tot_hpp,a.laba,a.tot_laba])}))},u=0;u<s.length;u++)c(u);n.xlsx.writeBuffer().then((function(t){var e=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download="Laporan Laba Rugi Periode "+Ve()(String(a.periode.tanggal1)).format("DD-MM-YYYY")+" - "+Ve()(String(a.periode.tanggal2)).format("DD-MM-YYYY")+".xlsx",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)}));case 18:case"end":return t.stop()}}),t)}))(),"t0",2);case 2:t.next=7;break;case 4:t.prev=4,t.t1=t["catch"](0),console.error("Error fetching data from the API",t.t1);case 7:case"end":return t.stop()}}),t,null,[[0,4]])})))()}},computed:{tanggal1:function(){return this.periode.tanggal1},tanggal2:function(){return this.periode.tanggal2}},watch:{tanggal1:function(a,t){this.periode.tanggal1>this.periode.tanggal2&&(alert("Tanggal Awal Melebihi Tanggal Akhir"),this.periode.tanggal1=t)},tanggal2:function(a,t){this.periode.tanggal1>this.periode.tanggal2&&(alert("Tanggal Awal Melebihi Tanggal Akhir"),this.periode.tanggal2=t)}}},hr=gr,pr=Object(u["a"])(hr,cr,ur,!1,null,null,null),br=pr.exports;v()(pr,{VBtn:p["a"],VCard:H["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:W["a"],VContainer:b["a"],VDatePicker:le["a"],VDivider:oa["a"],VIcon:_["a"],VMenu:ce["a"],VRow:C["a"],VSpacer:A["a"],VTextField:Q["a"]});var kr=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("button",{on:{click:a.exportToExcel}},[a._v("Export to Excel")])])},_r=[],xr={methods:{exportToExcel:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.a.post("laporan/stok",{tanggal1:"2024-01-01",tanggal2:"2024-01-20"});case 3:e=t.sent,console.log(e.data.data),n=new fr.a.Workbook,r=n.addWorksheet("Sheet 1"),r.addRow(["Laporan Peridoe",a.periode.tanggal1,a.periode.tanggal2]),r.addRow(["Name","Age"]),r.addRow(["Name","Age"]),e.data.data.forEach((function(a){r.addRow([a.kode_bahan,a.nama_bahan])})),n.xlsx.writeBuffer().then((function(a){var t=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),e=window.URL.createObjectURL(t),n=document.createElement("a");n.href=e,n.download="exported_data.xlsx",document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(e)})),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.error("Error fetching data from the API",t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()}}},Dr=xr,wr=(e("8a98"),Object(u["a"])(Dr,kr,_r,!1,null,"eca9e37e",null)),yr=wr.exports;n["default"].use(P["a"]);var jr=[{path:"/",name:"Home",component:ha},{path:"/route",name:"Route",component:Da},{path:"/login",name:"Login",component:Z},{path:"/register",name:"Register",component:ca},{path:"/dashboard",name:"Dashboard",component:Ra,meta:{auth:!0}},{path:"/pengaturan/menu",name:"ManajemenMenu",component:Ia,meta:{auth:!0}},{path:"/pengaturan/level",name:"ManajemenLevel",component:Fa,meta:{auth:!0}},{path:"/pengaturan/usermenu",name:"ManajemenUserMenu",component:Wa,meta:{auth:!0}},{path:"/master/jenisbarang",name:"MasterJenis",component:et,meta:{auth:!0}},{path:"/master/unit",name:"MasterUnit",component:dt,meta:{auth:!0}},{path:"/master/barang",name:"MasterBarang",component:ft,meta:{auth:!0}},{path:"/master/supplier",name:"MasterSupplier",component:_t,meta:{auth:!0}},{path:"/master/customer",name:"MasterCustomer",component:Tt,meta:{auth:!0}},{path:"/master/sales",name:"MasterSales",component:Ot,meta:{auth:!0}},{path:"/master/bank",name:"MasterBank",component:It,meta:{auth:!0}},{path:"/master/akun",name:"MasterAkun",component:Xt,meta:{auth:!0}},{path:"/master/rekeningakun",name:"MasterRekeningakun",component:zt},{path:"/master/kendaraan",name:"MasterKendaraan",component:re},{path:"/pembelian/po",name:"ListPurchasingOrder",component:me,meta:{auth:!0}},{path:"/pembelian/po/input",name:"InputPurchasingOrder",component:ke,meta:{auth:!0}},{path:"/pembelian/terima",name:"ListPenerimaanPO",component:je,meta:{auth:!0}},{path:"/pembelian/terima/input",name:"InputPenerimaanPO",component:Ne,meta:{auth:!0}},{path:"/pembelian/return",name:"ListReturnPO",component:Le,meta:{auth:!0}},{path:"/pembelian/return/input",name:"InputReturnPO",component:He,meta:{auth:!0}},{path:"/penjualan/transaksi/input",name:"InputTransaksiPenjualan",component:Xe,meta:{auth:!0}},{path:"/penjualan/transaksi/list",name:"ListTransaksiPenjualan",component:rn,meta:{auth:!0}},{path:"/penjualan/return",name:"ListReturnPenjualan",component:Vn,meta:{auth:!0}},{path:"/penjualan/return/input",name:"InputReturnPenjualan",component:wn,meta:{auth:!0}},{path:"/penjualan/pengiriman/input",name:"InputPengirimanPenjualan",component:un,meta:{auth:!0}},{path:"/penjualan/pengiriman",name:"ListPengirimanPenjualan",component:pn,meta:{auth:!0}},{path:"/adjustment",name:"ListAdjustment",component:Mn,meta:{auth:!0}},{path:"/adjustment/input",name:"InputAdjustment",component:Pn,meta:{auth:!0}},{path:"/konversi",name:"ListKonversi",component:Zn,meta:{auth:!0}},{path:"/konversi/input",name:"InputKonversi",component:Yn,meta:{auth:!0}},{path:"/kas/input",name:"InputKas",component:lr,meta:{auth:!0}},{path:"/laporan",name:"Laporan",component:br,meta:{auth:!0}},{path:"/zz/testexcel",name:"TestExcel",component:yr,meta:{auth:!0}}],Tr=new P["a"]({mode:"history",base:"/",routes:jr});Tr.beforeEach((function(a,t,e){if(B.a.post("weblog",{menu_from:t.fullPath,menu_to:a.fullPath}).then((function(a){if(0==a.data.success)return console.log(a.data.data),void M.commit("setOffline");M.commit("setOnline"),console.log(a.data.data)})).catch((function(a){M.commit("setOffline"),console.log(a)})),a.matched.some((function(a){return a.meta.auth}))){if(M.getters.isLoggedIn&&M.getters.user)return void e();e("/login")}if(a.matched.some((function(a){return a.meta.guest}))){if(!M.getters.isLoggedIn)return void e("/login");e("/login")}e()}));var Cr=Tr,Ar=(e("15f5"),e("d1e78"),e("f309"));n["default"].use(Ar["a"]);var Vr=new Ar["a"]({icons:{iconfont:"md"}}),Rr=e("ee98"),Sr=e.n(Rr),Or=(e("5363"),e("f2d9")),$r=e("b73b"),Nr=e.n($r),Pr=e("6612"),Er=e.n(Pr);n["default"].component("DownloadExcel",Or["a"]),B.a.defaults.baseURL="https://api.sinarpanganfood.com/public/api",n["default"].mixin({methods:{formatNumber:function(a){return Er()(a).format("0,0")},formatDate:function(a){return Ve()(String(a)).isValid()?Ve()(String(a)).format("DD-MM-YYYY"):"-"},formatDateTime:function(a){return Ve()(String(a)).isValid()?Ve()(String(a)).format("DD MMM YYYY HH:mm:ss"):"-"},formatDateTime2:function(a){return Ve()(String(a)).isValid()?Ve()(String(a)).format("DD MMM YYYY HH:mm"):"-"}}}),n["default"].use(Sr.a),n["default"].use(Nr.a),n["default"].config.productionTip=!1;var Br=localStorage.getItem("token");n["default"].config.keyCodes={shift:20,backspace:21},Br&&I(Br),M.dispatch("get_user",Br).then((function(){new n["default"]({router:Cr,store:M,vuetify:Vr,render:function(a){return a(N)}}).$mount("#app")})).catch((function(a){console.error(a)}))},"85ec":function(a,t,e){},"86dd":function(a,t,e){"use strict";e("9ba6")},8900:function(a,t,e){},"8a98":function(a,t,e){"use strict";e("c8ac")},"99b8":function(a,t,e){"use strict";e("5410")},"9ba6":function(a,t,e){},ba0c:function(a,t,e){"use strict";e("8900")},c8ac:function(a,t,e){}});
//# sourceMappingURL=app.25579ef2.js.map